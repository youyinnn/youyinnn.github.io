<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin">
    <title>blog | youyinnn</title>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/myjs/loadscripts.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/myjs/jump-1.3.js"></script>
    <link rel="bookmark" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/img/favicon.ico" />
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/img/favicon.ico" />
    <link rel="stylesheet" href="/mycss/style.css">

    <script src="/resources/resources.js"></script>
    <script src="/myjs/scriptlist.js"></script>
</head>

<body>

    <ol id="topbar" class="breadcrumb unselectable new_font">
        <p style="color:rgb(214, 214, 214); padding-right: 1rem;">
            <button id="egg" class="egg">üöÄ</button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
        <li class="breadcrumb-item">
            <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="articlesbut" href="javaScript:void(0)" class="ah">-articles</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="scriptbut" href="javaScript:void(0)" class="ah">-scripts</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li>
        <li class="breadcrumb-item dropdown">
            <spen href="javaScript:void(0)" class="ah" role="button" id="friendlinkedbut" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-friends</spen>
            <div id="fldd" class="dropdown-menu" aria-labelledby="friendlinkedbut" style="border-radius: initial;"></div>
        </li>

        <div id="hb" data-toggle="tooltip" data-placement="bottom" title="show/hide TopBar">

        </div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
        <div id="homepage-center">
            <div id="slogan">
                <i id="wolf-logo" style="font-style: normal;" class="mr-4">üåë</i><span id="slogan-text"></span>
            </div>
            <div id="homepage-btn">
                <div id="showmore"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; About Me & This Blog</div>
                <div id="showhacknical"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Github Analysis</div>
                <div id="toarticles"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Tech Articles</div>
            </div>
        </div>
        <div id="ifwrapper" class="hacknical_hide">
            <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
        </div>
    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
        <div id="cates_tree_head">Article Categories</div>
        <div id="cates_tree_body"></div>
        <div id="blog_statistic_head">Blog Statistics</div>
        <table id="blog_statistic_body" class="myhide">
            <tbody>
                <tr>
                    <td style="text-align:right">Online:</td>
                    <td style="text-align:left" id="stat_running"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Article:</td>
                    <td style="text-align:left" id="stat_article_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Chars:</td>
                    <td style="text-align:left" id="stat_typein"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Categories:</td>
                    <td style="text-align:left" id="stat_cate_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Tags:</td>
                    <td style="text-align:left" id="stat_tag_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Last update:</td>
                    <td style="text-align:left" id="stat_last_update"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="docpanel" class="myhide new_font">
        <div id="articlesearch" class="input-group">
            <input id="articlesearchtext" type="text" class="form-control" autocomplete="off" placeholder="search with keywords (algolia)">
            <div id="searchprocessbar">
                <div id="spb-out" class="spb-outter-animate"></div>
                <div id="spb-in" class="spb-inner-animate"></div>
            </div>
            <div class="input-group-append">
                <button id="cleanbut" class="btn btn-light" type="button" title="clear search">cls</button>
                <button id="categories" class="btn btn-light" type="button">cates</button>
                <button id="tags" class="btn btn-light" type="button" title="all tags">tags</button>
                <button id="articlesearchbut" class="btn btn-light" type="button" title="search">sch</button>
            </div>
        </div>
        <div id="searchrscount" class="unselectable"></div>
        <div class="tgs myhide" id="all_cates">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All categories:</span>
            <br>
        </div>
        <div class="tgs myhide" id="all_tags">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All tags:</span>
            <br>
        </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
        <div id="block">
            <div id="percent" data-toggle="tooltip" data-placement="bottom" title="return to the top">0%</div>
        </div>
        <div id="sidetoc" class="unselectable markdown-body editormd-preview-container markdown-toc"></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
        <p>Data Structures, Classes and Errors &amp; Exceptions.</p>

          <h2 id="400f83f">E</h2>
          <h3 id="de8a3dd1">Data Structures</h3>
          <h4 id="3361887d">Sequence Types ‚Äî range</h4><p>There are three basic sequence types: lists, tuples, and range objects. Additional sequence types tailored for processing of <a href="https://docs.python.org/3/library/stdtypes.html#binaryseq">binary data</a> and <a href="https://docs.python.org/3/library/stdtypes.html#textseq">text strings</a> are described in dedicated sections.</p>

          <h4 id="d10190e4">Common Sequence Operations</h4><p>The operations in the following table are supported by most sequence types, both mutable and immutable. The <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence"><code>collections.abc.Sequence</code></a> ABC is provided to make it easier to correctly implement these operations on custom sequence types.</p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Result</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>x in s</code></td>
<td align="left"><code>True</code> if an item of <em>s</em> is equal to <em>x</em>, else <code>False</code></td>
</tr>
<tr>
<td align="left"><code>x not in s</code></td>
<td align="left"><code>False</code> if an item of <em>s</em> is equal to <em>x</em>, else <code>True</code></td>
</tr>
<tr>
<td align="left"><code>s + t</code></td>
<td align="left">the concatenation of <em>s</em> and <em>t</em></td>
</tr>
<tr>
<td align="left"><code>s * n</code> or <code>n * s</code></td>
<td align="left">equivalent to adding <em>s</em> to itself <em>n</em> times</td>
</tr>
<tr>
<td align="left"><code>s[i]</code></td>
<td align="left"><em>i</em>th item of <em>s</em>, origin 0</td>
</tr>
<tr>
<td align="left"><code>s[i:j]</code></td>
<td align="left">slice of <em>s</em> from <em>i</em> to <em>j</em></td>
</tr>
<tr>
<td align="left"><code>s[i:j:k]</code></td>
<td align="left">slice of <em>s</em> from <em>i</em> to <em>j</em> with step <em>k</em></td>
</tr>
<tr>
<td align="left"><code>len(s)</code></td>
<td align="left">length of <em>s</em></td>
</tr>
<tr>
<td align="left"><code>min(s)</code></td>
<td align="left">smallest item of <em>s</em></td>
</tr>
<tr>
<td align="left"><code>max(s)</code></td>
<td align="left">largest item of <em>s</em></td>
</tr>
<tr>
<td align="left"><code>s.index(x[, i[, j]])</code></td>
<td align="left">index of the first occurrence of <em>x</em> in <em>s</em> (at or after index <em>i</em> and before index <em>j</em>)</td>
</tr>
<tr>
<td align="left"><code>s.count(x)</code></td>
<td align="left">total number of occurrences of <em>x</em> in <em>s</em></td>
</tr>
</tbody></table>

          <h4 id="f2c5bb3e">Immutable Sequence Types</h4><p>The only operation that immutable sequence types generally implement that is not also implemented by mutable sequence types is support for the <a href="https://docs.python.org/3/library/functions.html#hash"><code>hash()</code></a> built-in.</p>
<p>This support allows immutable sequences, such as <a href="https://docs.python.org/3/library/stdtypes.html#tuple"><code>tuple</code></a> instances, to be used as <a href="https://docs.python.org/3/library/stdtypes.html#dict"><code>dict</code></a> keys and stored in <a href="https://docs.python.org/3/library/stdtypes.html#set"><code>set</code></a> and <a href="https://docs.python.org/3/library/stdtypes.html#frozenset"><code>frozenset</code></a> instances.</p>
<p>Attempting to hash an immutable sequence that contains unhashable values will result in <a href="https://docs.python.org/3/library/exceptions.html#TypeError"><code>TypeError</code></a>.</p>

          <h4 id="bbc6c624">Mutable Sequence Types</h4><p>The operations in the following table are defined on mutable sequence types. The <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableSequence"><code>collections.abc.MutableSequence</code></a> ABC is provided to make it easier to correctly implement these operations on custom sequence types.</p>
<table>
<thead>
<tr>
<th align="left">Operation</th>
<th align="left">Result</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>s[i] = x</code></td>
<td align="left">item <em>i</em> of <em>s</em> is replaced by <em>x</em></td>
</tr>
<tr>
<td align="left"><code>s[i:j] = t</code></td>
<td align="left">slice of <em>s</em> from <em>i</em> to <em>j</em> is replaced by the contents of the iterable <em>t</em></td>
</tr>
<tr>
<td align="left"><code>del s[i:j]</code></td>
<td align="left">same as <code>s[i:j] = []</code></td>
</tr>
<tr>
<td align="left"><code>s[i:j:k] = t</code></td>
<td align="left">the elements of <code>s[i:j:k]</code> are replaced by those of <em>t</em></td>
</tr>
<tr>
<td align="left"><code>del s[i:j:k]</code></td>
<td align="left">removes the elements of <code>s[i:j:k]</code> from the list</td>
</tr>
<tr>
<td align="left"><code>s.append(x)</code></td>
<td align="left">appends <em>x</em> to the end of the sequence (same as <code>s[len(s):len(s)] = [x]</code>)</td>
</tr>
<tr>
<td align="left"><code>s.clear()</code></td>
<td align="left">removes all items from <em>s</em> (same as <code>del s[:]</code>)</td>
</tr>
<tr>
<td align="left"><code>s.copy()</code></td>
<td align="left">creates a shallow copy of <em>s</em> (same as <code>s[:]</code>)</td>
</tr>
<tr>
<td align="left"><code>s.extend(t)</code> or <code>s += t</code></td>
<td align="left">extends <em>s</em> with the contents of <em>t</em> (for the most part the same as <code>s[len(s):len(s)] = t</code>)</td>
</tr>
<tr>
<td align="left"><code>s *= n</code></td>
<td align="left">updates <em>s</em> with its contents repeated <em>n</em> times</td>
</tr>
<tr>
<td align="left"><code>s.insert(i, x)</code></td>
<td align="left">inserts <em>x</em> into <em>s</em> at the index given by <em>i</em> (same as <code>s[i:i] = [x]</code>)</td>
</tr>
<tr>
<td align="left"><code>s.pop([i])</code></td>
<td align="left">retrieves the item at <em>i</em> and also removes it from <em>s</em></td>
</tr>
<tr>
<td align="left"><code>s.remove(x)</code></td>
<td align="left">remove the first item from <em>s</em> where <code>s[i]</code> is equal to <em>x</em></td>
</tr>
<tr>
<td align="left"><code>s.reverse()</code></td>
<td align="left">reverses the items of <em>s</em> in place</td>
</tr>
</tbody></table>

          <h4 id="215f6492">List</h4>
          <h5 id="63e4ad8b">Basic Operation</h5><p>Example:</p>
<pre><code class="language-python">l = []
l.append(1)
l.append(&#39;123&#39;)
l.extend([2,&#39;456&#39;])
l.insert(9, &#39;88&#39;)
l.insert(0, &#39;0&#39;)
print(l)

print(l.pop(1))
print(l)

ll = l.copy()
l.clear()
print(l)
l.extend(ll)

# ll and l contain different items
ll.pop(2)
print(l)
print(ll)

l.extend([1,2,1,1,2,1])
print(l)
print(l.count(1)) # Return the number of times &#39;1&#39; appears in the list.</code></pre>
<p>Output:</p>
<pre><code class="language-console">[&#39;0&#39;, 1, &#39;123&#39;, 2, &#39;456&#39;, &#39;88&#39;]
1
[&#39;0&#39;, &#39;123&#39;, 2, &#39;456&#39;, &#39;88&#39;]
[]
[&#39;0&#39;, &#39;123&#39;, 2, &#39;456&#39;, &#39;88&#39;]
[&#39;0&#39;, &#39;123&#39;, &#39;456&#39;, &#39;88&#39;]
[&#39;0&#39;, &#39;123&#39;, 2, &#39;456&#39;, &#39;88&#39;, 1, 2, 1, 1, 2, 1]
4</code></pre>
<p>Slice operation:</p>
<p>All slice operations return a new list containing the requested elements. This means that the following slice returns a <a href="https://docs.python.org/3/library/copy.html#shallow-vs-deep-copy">shallow copy</a> of the list:</p>
<pre><code class="language-python"># slice operation
print(l[:3])
print(l[2:5])
print(l[-3:])</code></pre>
<blockquote>
<p>The difference between shallow and deep copying is only relevant for compound objects (objects that contain other objects, like lists or class instances):</p>
<ul>
<li>A <em>shallow copy</em> constructs a new compound object and then (to the extent possible) inserts <em>references</em> into it to the objects found in the original.</li>
<li>A <em>deep copy</em> constructs a new compound object and then, recursively, inserts <em>copies</em> into it of the objects found in the original.</li>
</ul>
</blockquote>

          <h5 id="904161bc">Sort</h5><pre><code class="language-python"># sort
student_tuple = [
    (&quot;Jack&quot;, 12),
    (&quot;Mark&quot;, 10),
    (&quot;Jim&quot;, 15),
]
student_tuple.sort(key=lambda student: student[1])
print(student_tuple)

class Student:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    def __repr__(self):
        return repr((self.name, self.age))

student_obj = [
    Student(&#39;Jack&#39;, 12),
    Student(&#39;Mark&#39;, 10),
    Student(&#39;Jim&#39;, 15),
]

from operator import itemgetter, attrgetter

print(sorted(student_tuple, key=itemgetter(1)))
print(sorted(student_obj, key=attrgetter(&#39;age&#39;)))

# list comprehensions: a concise way to create lists
print(list(range(10)))
print(list(range(5, 10)))</code></pre>
<p>Output:</p>
<pre><code class="language-console">[(&#39;Mark&#39;, 10), (&#39;Jack&#39;, 12), (&#39;Jim&#39;, 15)]     
[(&#39;Mark&#39;, 10), (&#39;Jack&#39;, 12), (&#39;Jim&#39;, 15)]
[(&#39;Mark&#39;, 10), (&#39;Jack&#39;, 12), (&#39;Jim&#39;, 15)]</code></pre>

          <h5 id="517ff2ad">Creation</h5><p>Example:</p>
<pre><code class="language-python"># list comprehensions: a concise way to create lists
print(list(range(10)))
print(list(range(5, 10)))

## for in clause
### (result) for x in sequences
print([x * 2 for x in range(3)])
### equivalent to
sq = []
for x in range(3):
    sq.append(x * 2)
print(sq)

## if clause
print([(x, y) for x in [1,2,3] for y in [3, 1,4] if x!=y])
### equivalent to
sq = []
for x in [1, 2, 3]:
    for y in [3, 1, 4]:
        if (x != y):
            sq.append((x, y))
print(sq)

## lambda
print(list(map(lambda x: x**2, range(10))))
### equivalent to
print([x**2 for x in range(10)])

from math import pi
[str(round(pi, i)) for i in range(1, 6)]</code></pre>
<p>Output:</p>
<pre><code class="language-console">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[5, 6, 7, 8, 9]
[0, 2, 4]
[0, 2, 4]
[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]
[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
[&#39;3.1&#39;, &#39;3.14&#39;, &#39;3.142&#39;, &#39;3.1416&#39;, &#39;3.14159&#39;]</code></pre>

          <h4 id="f281f197">Tuples</h4><p>Example:</p>
<pre><code class="language-python">&gt;&gt;&gt; t = 12345, 54321, &#39;hello!&#39;
&gt;&gt;&gt; t[0]
12345
&gt;&gt;&gt; t
(12345, 54321, &#39;hello!&#39;)
&gt;&gt;&gt; # Tuples may be nested:
... u = t, (1, 2, 3, 4, 5)
&gt;&gt;&gt; u
((12345, 54321, &#39;hello!&#39;), (1, 2, 3, 4, 5))
&gt;&gt;&gt; # Tuples are immutable:
... t[0] = 88888
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
TypeError: &#39;tuple&#39; object does not support item assignment
&gt;&gt;&gt; # but they can contain mutable objects:
... v = ([1, 2, 3], [3, 2, 1])
&gt;&gt;&gt; v
([1, 2, 3], [3, 2, 1])</code></pre>

          <h4 id="c3375b3b">Sets</h4><p>Example:</p>
<pre><code class="language-python">st = {&#39;apple&#39;, &#39;orange&#39;, &#39;grape&#39;, &#39;grape&#39;, &#39;apple&#39;}
print(st)

print(&#39;apple&#39; in st)
print(&#39;cat&#39; in st)

s1 = {1, 2, 3, 4, 5}
s2 = {4, 5, 6, 7, 8}

# in both a and b
print(s1 &amp; s2)
# in a or b or both
print(s1 | s2)
# in a but not in b
print(s1 - s2)
# in b but not in a
print(s2 - s1)

# in a or b but not both
print(s1 ^ s2)

# comprehensions 
print({x for x in &#39;abcdefgh&#39; if x not in &#39;efg&#39;})</code></pre>
<p>Output:</p>
<pre><code class="language-console">{&#39;apple&#39;, &#39;orange&#39;, &#39;grape&#39;}
True
False
{4, 5}
{1, 2, 3, 4, 5, 6, 7, 8}
{1, 2, 3}
{8, 6, 7}
{1, 2, 3, 6, 7, 8}
{&#39;c&#39;, &#39;a&#39;, &#39;d&#39;, &#39;h&#39;, &#39;b&#39;}</code></pre>

          <h4 id="be838c3f">Dictionaries</h4><p>Example:</p>
<pre><code class="language-python">d = {&#39;a&#39;: 1, &#39;b&#39;:2}

# return keys list
print(list(d))
# get the number of items
print(len(d))

print(d[&#39;a&#39;])
d[&#39;c&#39;] = 3
print(d)
# delete item
del d[&#39;c&#39;]
print(d)

# remove all items
d.clear()
print(d)

# raise KeyError when no key in dict
import sys
try:
    print(d[&#39;e&#39;])
except:
    print(&#39;Get error from sys&#39;)
    print(sys.exc_info())
    # raise

print(&#39;after error&#39;)

d = {&#39;a&#39;: 1, &#39;b&#39;:2}
# return None when no such key in dict so that it will never raise the KeyError
print(d.get(&#39;e&#39;))
print(d.get(&#39;e&#39;, 0))

print(d.keys())
print(d.items())
for k, v in d.items():
    print(k, v)
print(d.values())

it = d.__iter__()
for key in it:
    print(key, d[key])</code></pre>
<p>Output:</p>
<pre><code class="language-console">[&#39;a&#39;, &#39;b&#39;]
2
1
{&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3}
{&#39;a&#39;: 1, &#39;b&#39;: 2}
{}
Get error from sys
(&lt;class &#39;KeyError&#39;&gt;, KeyError(&#39;e&#39;), &lt;traceback object at 0x000001FF722B2D48&gt;)
after error
None
0
dict_keys([&#39;a&#39;, &#39;b&#39;])
dict_items([(&#39;a&#39;, 1), (&#39;b&#39;, 2)])
a 1
b 2
dict_values([1, 2])
a 1
b 2</code></pre>

          <h2 id="2f2dabfc">F</h2>
          <h3 id="7fa8378c">Classes</h3>
          <h4 id="aa9f2382">Namespaces And Scopes</h4>
          <h5 id="a36502dd">Namespaces</h5><p>A <em>namespace</em> is a mapping from names to objects. Most namespaces are currently implemented as Python dictionaries, but that‚Äôs normally not noticeable in any way (except for performance), and it may change in the future. </p>
<p>Examples of namespaces are: </p>
<ul>
<li>the set of built-in names (containing functions such as <a href="https://docs.python.org/3/library/functions.html#abs"><code>abs()</code></a>, and built-in exception names); </li>
<li>the global names in a module; </li>
<li>the local names in a function invocation;</li>
</ul>
<p>In a sense the set of attributes of an object also form a namespace. </p>
<p>Namespaces are created at <strong>different moments</strong> and have different lifetimes. </p>
<ul>
<li>The namespace containing the built-in names is created when <strong>the Python interpreter starts up</strong>, and is never deleted. </li>
<li>The global namespace for a module is created when <strong>the module definition is read in</strong>; normally, module namespaces also last until the interpreter quits. </li>
<li>The local namespace for a function is created <strong>when the function is called</strong>, and deleted when the function returns or raises an exception that is not handled within the function. </li>
</ul>

          <h5 id="6dd1f67d">Scopes</h5><p>A <em>scope</em> is a textual region of a Python program where a namespace is directly accessible. ‚ÄúDirectly accessible‚Äù here means that an unqualified reference to a name attempts to find the name in the namespace.</p>

          <h5 id="4142edc5"><code>global</code> and <code>nonlocal</code> statement</h5><p>The <a href="https://docs.python.org/3/reference/simple_stmts.html#global"><code>global</code></a> statement is a declaration which holds for the entire current code block. It means that the listed identifiers are to be interpreted as globals. It would be impossible to assign to a global variable without <code>global</code>, although free variables may refer to globals without being declared global.</p>
<p>The <a href="https://docs.python.org/3/reference/simple_stmts.html#nonlocal"><code>nonlocal</code></a> statement causes the listed identifiers to refer to previously bound variables in the nearest enclosing scope excluding globals. This is important because the default behavior for binding is to search the local namespace first. The statement allows encapsulated code to rebind variables outside of the local scope besides the global (module) scope.</p>
<pre><code class="language-python">def scope_test():
    def do_local():
        spam = &quot;local spam&quot;        # current enclosing scope (here is `do_local()`)

    def do_nonlocal():
        nonlocal spam            # up level enclosing scope (here is `scope_test()`)
        spam = &quot;nonlocal spam&quot;

    def do_global():
        global spam                # global scope (entire current code block)
        spam = &quot;global spam&quot;

    spam = &quot;test spam&quot;
    do_local()
    print(&quot;After local assignment:&quot;, spam)
    do_nonlocal()
    print(&quot;After nonlocal assignment:&quot;, spam)
    do_global()
    print(&quot;After global assignment:&quot;, spam)

scope_test()
print(&quot;In global scope:&quot;, spam)</code></pre>
<p>Output:</p>
<pre><code class="language-console">fter local assignment: test spam
After nonlocal assignment: nonlocal spam
After global assignment: nonlocal spam
In global scope: global spam</code></pre>
<p>Note how the <em>local</em> assignment (which is default) didn‚Äôt change <em>scope_test*‚Äôs binding of *spam</em>. The <a href="https://docs.python.org/3/reference/simple_stmts.html#nonlocal"><code>nonlocal</code></a> assignment changed <em>scope_test*‚Äôs binding of *spam</em>, and the <a href="https://docs.python.org/3/reference/simple_stmts.html#global"><code>global</code></a> assignment changed the module-level binding.</p>

          <h4 id="1b7f2302">Defining A Class</h4><pre><code class="language-python">class Person:
    &quot;&quot;&quot;here is __doc__ content\
    &quot;&quot;&quot;

    # class variables/attributes which be shared in all instances
    kind = &#39;human_being&#39;

    # construct function
    def __init__(self, name, age):
        super().__init__()
        # instance&#39;s vairables/attributes
        self.name, self.age = name, age

        # private attr with one underscores
        self._sname = &#39;_&#39; + name

        # private attr with at lease two underscores
        self.__ssname = &#39;__&#39; + name

    # common function
    def changename(self, name):
        self.name = name

    def getsname(self):
        return self._sname

    def getssname(self):
        # mangling: Any identifier of the form __spam is textually replaced with _classname__spam
        return self._Person__ssname</code></pre>
<p>The code above has shown that:</p>
<ol>
<li>how to define a class</li>
<li>construct function</li>
<li>private field &amp; static field</li>
<li>some weird behavior of attribute naming</li>
</ol>
<p>You might notice that every function&#39;s definition has the <code>self</code> argument as the first parameter. With this argument, this function will be defined as a instance function and can not be called by using <code>MyClass.func()</code> form.</p>
<p>So how do we define a static function? --- By using the <code>@staticmethod</code> decorator, or <code>@classmethod</code> as well.</p>
<pre><code class="language-python">class New:
    @classmethod
    def printc(cls):
        print(&#39;This is an class method&#39;)
        print(cls)
    @staticmethod
    def prints(name):
        print(&#39;This is a static method with name: {}&#39;.format(name))

New.printc()
New.prints(&#39;Name&#39;)</code></pre>
<p>Output:</p>
<pre><code class="language-console">This is an class method
&lt;class &#39;__main__.New&#39;&gt;
This is a static method with name: Name
cls</code></pre>

          <h4 id="6c9566b0">Inheritance</h4><pre><code class="language-python"># inheritance
class Worker(Person):
    def __init__(self, name, age, career):
        super().__init__(name, age)
        self.career = career

w = Worker(&#39;Jim&#39;, 22, &#39;Driver&#39;)
print(w.career)</code></pre>
<p>Python has two built-in functions that work with inheritance:</p>
<ul>
<li>Use <a href="https://docs.python.org/3/library/functions.html#isinstance"><code>isinstance()</code></a> to check an instance‚Äôs type: <code>isinstance(obj, int)</code> will be <code>True</code> only if <code>obj.__class__</code> is <a href="https://docs.python.org/3/library/functions.html#int"><code>int</code></a> or some class derived from <a href="https://docs.python.org/3/library/functions.html#int"><code>int</code></a>.</li>
<li>Use <a href="https://docs.python.org/3/library/functions.html#issubclass"><code>issubclass()</code></a> to check class inheritance: <code>issubclass(bool, int)</code> is <code>True</code> since <a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a> is a subclass of <a href="https://docs.python.org/3/library/functions.html#int"><code>int</code></a>. However, <code>issubclass(float, int)</code> is <code>False</code> since <a href="https://docs.python.org/3/library/functions.html#float"><code>float</code></a> is not a subclass of <a href="https://docs.python.org/3/library/functions.html#int"><code>int</code></a>.</li>
</ul>

          <h4 id="d647c2b8">Multiple Inheritance</h4><p>Python supports a form of multiple inheritance as well. A class definition with multiple base classes looks like this:</p>
<pre><code class="language-python">class DerivedClassName(Base1, Base2, Base3):
    &lt;statement-1&gt;
    .
    &lt;statement-N&gt;</code></pre>

          <h4 id="9c3a0cd4">Iterating Instances</h4><p>If we want our self-make instance iterable (iterating some attribute of it), we should implement the <code>__iter__</code> and the <code>__next__</code> function</p>
<pre><code class="language-python"># iterator: object can be looped over using a for statement
class Str:
    def __init__(self, str):
        super().__init__()
        self.str = str
        self.index = 0

    # make object iterable
    def __iter__(self):
        return self

    def __next__(self):
        if self.index == len(self.str):
            # raise StopIteration to stop the for loop
            raise StopIteration
        else:
            rs = self.str[self.index]
            self.index = self.index + 1
            return rs

for c in Str(&#39;abcde&#39;):
    print(c, end=&#39; &#39;)
print()
# a b c d e</code></pre>

          <h4 id="a8f3d403">Printing Instances</h4><p>Example:</p>
<pre><code class="language-python">class Person:
    def __init__(self, name, age):
        super().__init__()
        self.__name = name
        self.__age = age

    def __repr__(self):
        # we use json form so that it can be recreated in another application
        return &#39;{{name: {}, age: {}}}&#39;.format(self.__name, self.__age)

    def __str__(self):
        return &#39;Person name: {}, age: {}&#39;.format(self.__name, self.__age)

p = Person(&#39;Jack&#39;, 12)
print(p)
print(repr(p))</code></pre>
<p>Output:</p>
<pre><code class="language-console">Person name: Jack, age: 12
{name: Jack, age: 12}</code></pre>
<p>And if we remove the implementation of <code>__repr__()</code>, it will pinrt:</p>
<pre><code class="language-console">Person name: Jack, age: 12
&lt;__main__.Person object at 0x000001F84F086630&gt;</code></pre>
<p>There are two ways in python that we can print a readable string of a instance -- to implement the <code>__repr__()</code> or <code>__str__()</code> .</p>
<p>Technically, there is no different between these two methods, but we should follow some rules when we implement them:</p>
<blockquote>
<p>For <code>__repr__</code>:</p>
<p>Called by the <a href="https://docs.python.org/3/library/functions.html#repr"><code>repr()</code></a> built-in function to compute the ‚Äúofficial‚Äù string representation of an object. If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value (given an appropriate environment). If this is not possible, a string of the form <code>&lt;...some useful description...&gt;</code> should be returned. The return value must be a string object. If a class defines <a href="https://docs.python.org/3/reference/datamodel.html#object.__repr__"><code>__repr__()</code></a> but not <a href="https://docs.python.org/3/reference/datamodel.html#object.__str__"><code>__str__()</code></a>, then <a href="https://docs.python.org/3/reference/datamodel.html#object.__repr__"><code>__repr__()</code></a> is also used when an ‚Äúinformal‚Äù string representation of instances of that class is required.</p>
</blockquote>
<blockquote>
<p>For <code>__str__</code>:</p>
<p>Called by <a href="https://docs.python.org/3/library/stdtypes.html#str"><code>str(object)</code></a> and the built-in functions <a href="https://docs.python.org/3/library/functions.html#format"><code>format()</code></a> and <a href="https://docs.python.org/3/library/functions.html#print"><code>print()</code></a> to compute the ‚Äúinformal‚Äù or nicely printable string representation of an object. The return value must be a <a href="https://docs.python.org/3/library/stdtypes.html#textseq">string</a> object.</p>
</blockquote>

          <h4 id="bf23088a">More On Private Attributes</h4><p>It is clear that we set an attribute to private for safely visitation, but it make the attribute visitation syntactically more complicated.</p>
<p>We can use <code>@property</code> and  <code>@attr.setter</code> decorators to make it simple. </p>
<p>What&#39;s more , we can use <code>@attr.deleter</code>.</p>
<pre><code class="language-python">class Person:
    # a getter for age
    @property
    def age(self):
        return self._age

    # a setter for age
    @age.setter
    def age(self, age):
        if not isinstance(age, int):
            raise ValueError(&#39;Age should be an integer.&#39;)
        if age &lt; 0 or age &gt; 100:
            raise ValueError(&#39;Age should between 0 ~ 100&#39;)
        else:
            self._age = age

    @age.deleter
    def age(self):
        # more logic can be put in here
        del self._age

    def __str__(self):
        return &#39;Person: age:{}&#39;.format(self._age)

p = Person()
import traceback
try:
    p.age = 1000
except:
    print(100 * &#39;-&#39;)
    traceback.print_exc()
    print(100 * &#39;-&#39;)

p.age = 99
print(p)</code></pre>
<p>Output: </p>
<pre><code class="language-console">----------------------------------------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;d:/Workshop/MyPython/practice/class/property.py&quot;, line 28, in &lt;module&gt;
    p.age = 1000
  File &quot;d:/Workshop/MyPython/practice/class/property.py&quot;, line 14, in age
    raise ValueError(&#39;Age should between 0 ~ 100&#39;)
ValueError: Age should between 0 ~ 100
----------------------------------------------------------------------------------------------------
Person: age:99</code></pre>
<p>reference: <a href="https://docs.python.org/3/library/functions.html#property">https://docs.python.org/3/library/functions.html#property</a></p>

          <h3 id="b3b9cb7">Errors And Exceptions</h3>
          <h4 id="d3458218">Error</h4><p>There is one error in python:</p>
<pre><code class="language-python">while True print(&#39;Hello world&#39;)
  File &quot;&lt;stdin&gt;&quot;, line 1
    while True print(&#39;Hello world&#39;)
                   ^
SyntaxError: invalid syntax</code></pre>

          <h4 id="38b087ac">Exceptions</h4>
          <h5 id="477b8a17">Handling Exceptions</h5><pre><code class="language-python"># handling exceptions
try:
    print(1 / 0)
except Exception as exc:
    import sys
    print(sys.exc_info()[0]) # exception type
    print(sys.exc_info()[1]) # exception value
    print(sys.exc_info()[2]) # exception tracback object
    import traceback
    traceback.print_exception(*sys.exc_info())
    print(100 * &#39;-&#39;)
    # equvilent to .print_exception(*sys.exc_info())
    traceback.print_exc()</code></pre>
<p>Output:</p>
<pre><code class="language-console">&lt;class &#39;ZeroDivisionError&#39;&gt;
division by zero
&lt;traceback object at 0x000001C8C4E12888&gt;
Traceback (most recent call last):
  File &quot;d:/Workshop/MyPython/practice/exception/exc.py&quot;, line 3, in &lt;module&gt;
    print(1 / 0)
ZeroDivisionError: division by zero
----------------------------------------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;d:/Workshop/MyPython/practice/exception/exc.py&quot;, line 3, in &lt;module&gt;
    print(1 / 0)
ZeroDivisionError: division by zero</code></pre>
<p>The <a href="https://docs.python.org/3/reference/compound_stmts.html#try"><code>try</code></a> statement works as follows.</p>
<ul>
<li>First, the <em>try clause</em> (the statement(s) between the <a href="https://docs.python.org/3/reference/compound_stmts.html#try"><code>try</code></a> and <a href="https://docs.python.org/3/reference/compound_stmts.html#except"><code>except</code></a> keywords) is executed.</li>
<li>If no exception occurs, the <em>except clause</em> is skipped and execution of the <a href="https://docs.python.org/3/reference/compound_stmts.html#try"><code>try</code></a> statement is finished.</li>
<li>If an exception occurs during execution of the try clause, the rest of the clause is skipped. Then if its type matches the exception named after the <a href="https://docs.python.org/3/reference/compound_stmts.html#except"><code>except</code></a> keyword, the except clause is executed, and then execution continues after the <a href="https://docs.python.org/3/reference/compound_stmts.html#try"><code>try</code></a> statement.</li>
<li>If an exception occurs which does not match the exception named in the except clause, it is passed on to outer <a href="https://docs.python.org/3/reference/compound_stmts.html#try"><code>try</code></a> statements; if no handler is found, it is an <em>unhandled exception</em> and execution stops with a message as shown above.</li>
</ul>
<p>The <a href="https://docs.python.org/3/reference/compound_stmts.html#try"><code>try</code></a> ‚Ä¶ <a href="https://docs.python.org/3/reference/compound_stmts.html#except"><code>except</code></a> statement has an optional <em>else clause</em>, which, when present, must follow all except clauses. It is useful for code that must be executed if the try clause does not raise an exception.</p>
<pre><code class="language-python"># seperate exception raising code and follow up code
try:
    v =  (1 / 10)
except Exception as exc:
    print(exc)
else:
    # continue when no exception is raised
    print(v)
# 0.1</code></pre>

          <h5 id="20193b38">Raising Exceptions</h5><p>With <code>raise</code> statement:</p>
<pre><code class="language-python">raise NameError(&#39;HiThere&#39;) # with msg
----------------------
raise ValueError # shorthand for &#39;raise ValueError()&#39;
----------------------
try:
    raise NameError(&#39;HiThere&#39;)
except NameError:
    print(&#39;An exception flew by!&#39;)
    raise # raise it again in except clause</code></pre>

          <h5 id="ef57f9d1">User-defined Exceptions</h5><pre><code class="language-python">class InputError(Error):
    &quot;&quot;&quot;Exception raised for errors in the input.

    Attributes:
        expression -- input expression in which the error occurred
        message -- explanation of the error
    &quot;&quot;&quot;

    def __init__(self, expression, message):
        self.expression = expression
        self.message = message</code></pre>

          <h5 id="bdcf6ad3">Cleaning Up Actions</h5><p>With <code>finally</code> statement:</p>
<pre><code class="language-python">try:
    raise KeyboardInterrupt
finally:
    print(&#39;Goodbye, world!&#39;)</code></pre>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
        <input id="searchtext" type="text" class="form-control" placeholder="keywords" autocomplete="off">
        <div class="input-group-append">
            <button id="searchbut" class="btn btn-dark" type="button">Search</button>
        </div>
    </div>

    <div id="bbt" class="myhide new_font">
        <a id="toc" style="display: none;" class="myhide" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="show/hide Toc">Toc</a>
        <a id="gohub" href="#" target="_blank" data-toggle="tooltip" data-placement="bottom" title="view this at github">unuse</a>
    </div>

    <div id="share_png_panel" class="myhide">
        <div id="share_curtain"></div>
        <div id="png_box"></div>
        <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>

</body>

</html>