<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin">
    <title>blog | youyinnn</title>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/myjs/loadscripts.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/myjs/jump-1.2.js"></script>
    <link rel="bookmark" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="stylesheet" href="/mycss/style.css">

    <script src="/resources/resources.js"></script>
    <script src="/myjs/scriptlist.js"></script>
</head>

<body>

    <ol id="topbar" class="breadcrumb unselectable new_font">
        <p style="color:rgb(214, 214, 214); padding-right: 1rem;">
            <button id="egg" class="egg">ğŸš€</button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
        <li class="breadcrumb-item">
            <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="articlesbut" href="javaScript:void(0)" class="ah">-articles</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="scriptbut" href="javaScript:void(0)" class="ah">-scripts</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li>
        <li class="breadcrumb-item dropdown">
            <spen href="javaScript:void(0)" class="ah" role="button" id="friendlinkedbut" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-friends</spen>
            <div id="fldd" class="dropdown-menu" aria-labelledby="friendlinkedbut" style="border-radius: initial;"></div>
        </li>

        <div id="hb" data-toggle="tooltip" data-placement="bottom" title="show/hide TopBar">

        </div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
        <div id="homepage-center">
            <div id="slogan">
                <i id="wolf-logo" style="font-style: normal;" class="mr-4">ğŸŒ‘</i><span id="slogan-text"></span>
            </div>
            <div id="homepage-btn">
                <div id="showmore"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; About Me & This Blog</div>
                <div id="showhacknical"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Github Analysis</div>
                <div id="toarticles"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Tech Articles</div>
            </div>
        </div>
        <div id="ifwrapper" class="hacknical_hide">
            <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
        </div>
    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
        <div id="cates_tree_head">Article Categories</div>
        <div id="cates_tree_body"></div>
        <div id="blog_statistic_head">Blog Statistics</div>
        <table id="blog_statistic_body" class="myhide">
            <tbody>
                <tr>
                    <td style="text-align:right">Online:</td>
                    <td style="text-align:left" id="stat_running"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Article:</td>
                    <td style="text-align:left" id="stat_article_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Chars:</td>
                    <td style="text-align:left" id="stat_typein"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Categories:</td>
                    <td style="text-align:left" id="stat_cate_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Tags:</td>
                    <td style="text-align:left" id="stat_tag_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Last update:</td>
                    <td style="text-align:left" id="stat_last_update"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="docpanel" class="myhide new_font">
        <div id="articlesearch" class="input-group">
            <input id="articlesearchtext" type="text" class="form-control" autocomplete="off" placeholder="search">
            <div class="input-group-append">
                <button id="cleanbut" class="btn btn-light" type="button" title="clear search">cls</button>
                <button id="categories" class="btn btn-light" type="button">cates</button>
                <button id="tags" class="btn btn-light" type="button" title="all tags">tags</button>
                <button id="articlesearchbut" class="btn btn-light" type="button" title="search">sch</button>
            </div>
        </div>
        <div class="tgs myhide" id="all_cates">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All categories:</span>
            <br>
        </div>
        <div class="tgs myhide" id="all_tags">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All tags:</span>
            <br>
        </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
        <div id="block">
            <div id="percent" data-toggle="tooltip" data-placement="bottom" title="return to the top">0%</div>
        </div>
        <div id="sidetoc" class="unselectable markdown-body editormd-preview-container markdown-toc"></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
        <p><div class="saying mb-4"><div class="saying-quote saying-left-quote">â€œ</div><div class="saying-quote saying-right-quote">â€</div></p>
<p>ç¿»è¯‘è‡ªå®˜æ–¹æ–‡æ¡£</p>
<p></div></p>

          <h2>
            <a name="_root-Routing" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Routing
          </h2><p><strong>Routingï¼ˆè·¯ç”±ï¼‰</strong>æŒ‡çš„æ˜¯ä¸€ä¸ªåº”ç”¨æœåŠ¡å™¨çš„endpointsï¼ˆURLsï¼‰æ€ä¹ˆå»å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨Expressçš„<code>app</code>å¯¹è±¡ä¸­å’ŒHTTPè¯·æ±‚åç§°å¯¹åº”çš„æ–¹æ³•å»å®šä¹‰åº”ç”¨çš„è·¯ç”±è¡Œä¸ºï¼›æ¯”å¦‚ï¼Œ<code>app.get()</code>æ–¹æ³•ç”¨äºå¤„ç†GETè¯·æ±‚æˆ–è€…ä½¿ç”¨<code>app.post()</code>æ–¹æ³•å»å¤„ç†POSTè¯·æ±‚ã€‚å®Œæ•´çš„æ–¹æ³•åˆ—è¡¨å¯ä»¥å‚è€ƒ<a href="http://www.expressjs.com.cn/en/4x/api.html#app.METHOD">app.METHOD</a>ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨<a href="http://www.expressjs.com.cn/en/4x/api.html#app.all">app.all()</a> å»å¤„ç†æ‰€æœ‰çš„HTTPæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<a href="http://www.expressjs.com.cn/en/4x/api.html#app.use">app.use()</a> å»æŒ‡å®šç‰¹å®šçš„å›è°ƒæ–¹æ³• ï¼ˆå‚è€ƒ<a href="http://www.expressjs.com.cn/en/guide/using-middleware.html">Using middleware</a> ï¼‰ã€‚</p>
<p>è¿™äº›è·¯ç”±æ–¹æ³•æŒ‡å®šä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼ˆæœ‰æ—¶å€™åˆç§°ä¸ºHandleræ–¹æ³•ï¼‰åœ¨Webåº”ç”¨æ”¶åˆ°å¯¹ç‰¹å®šè·¯ç”±ï¼ˆendpointsï¼‰å‘å‡ºç‰¹å®šæ–¹å¼çš„è¯·æ±‚çš„æ—¶å€™è¢«è°ƒç”¨ã€‚æ¢å¥è¯è¯´ï¼Œåº”ç”¨ç¨‹åºèƒ½å¤Ÿç›‘å¬æ‰€æœ‰è¯·æ±‚ï¼Œå¦‚æœç›‘å¬åˆ°è¯·æ±‚çš„è·¯ç”±è·¯å¾„å’Œè¯·æ±‚æ–¹å¼æœ‰ä¸ä¹‹ç›¸é…çš„è·¯ç”±æ–¹æ³•ï¼Œé‚£ä¹ˆå°±è°ƒç”¨è¯¥å›è°ƒæ–¹æ³•ã€‚</p>
<p>äº‹å®ä¸Šï¼Œè·¯ç”±æ–¹æ³•å¯ä»¥æœ‰å¤šä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå½“è®¾è®¡è¿™æ ·çš„è·¯ç”±å¤„ç†çš„æ—¶å€™ï¼Œæä¾›ä¸€ä¸ª<code>next</code>æ–¹æ³•ä½œä¸ºå‚æ•°åˆ°å›è°ƒå‡½æ•°ä¸­æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œè°ƒç”¨<code>next()</code>åœ¨å›è°ƒæ–¹æ³•ä½“å†…æ¥ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªå›è°ƒæ–¹æ³•ä¸­ã€‚</p>
<p>ä¸‹é¢è¿™æ®µä»£ç å±•ç¤ºäº†ä¸€ä¸ªæœ€åŸºæœ¬çš„è·¯ç”±ï¼š</p>
<pre><code class="language-javascript">var express = require(&#39;express&#39;)
var app = express()

// respond with &quot;hello world&quot; when a GET request is made to the homepage
app.get(&#39;/&#39;, function (req, res) {
  res.send(&#39;hello world&#39;)
})</code></pre>

          <h3>
            <a name="_root-Route methods" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Route methods
          </h3><p>ä¸€ä¸ªè·¯ç”±æ–¹æ³•æ˜¯ä»ä¸€ä¸ªHTTPæ–¹æ³•ä¸­è·å–çš„ï¼Œå¹¶ä¸”å®ƒé™„ç€äº<code>express</code>ç±»çš„å®ä¾‹ä¸Šã€‚</p>
<p>ä¸‹é¢è¿™æ®µä»£ç å±•ç¤ºäº†GETè·¯ç”±å’ŒPOSTè·¯ç”±ï¼š</p>
<pre><code class="language-javascript">// GET method route
app.get(&#39;/&#39;, function (req, res) {
  res.send(&#39;GET request to the homepage&#39;)
})

// POST method route
app.post(&#39;/&#39;, function (req, res) {
  res.send(&#39;POST request to the homepage&#39;)
})</code></pre>
<p>Expressæ”¯æŒæ‰€æœ‰HTTPè¯·æ±‚ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ è·¯ç”±æ–¹æ³•ï¼Œ<code>app.all()</code>ç”¨äºåŠ è½½ä¸­é—´ä»¶æ–¹æ³•åˆ°æ‰€æœ‰çš„HTTPè¯·æ±‚æ–¹æ³•ä¸Šã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ä¼šå°†å›è°ƒæ–¹æ³•åº”ç”¨åˆ°ä»¥ä»»ä½•æ–¹å¼è¯·æ±‚åˆ°è·¯å¾„â€œ/secretâ€ä¸Šçš„è¯·æ±‚ï¼š</p>
<pre><code class="language-javascript">app.all(&#39;/secret&#39;, function (req, res, next) {
  console.log(&#39;Accessing the secret section ...&#39;)
  next() // pass control to the next handler
})</code></pre>

          <h3>
            <a name="_root-Route paths" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Route paths
          </h3><p>è·¯ç”±è·¯å¾„å’Œè¯·æ±‚æ–¹æ³•çš„ç»„åˆå…±åŒå®šä¹‰äº†ç©¶ç«Ÿæ˜¯è¯·æ±‚åˆ°å“ªä¸€ä¸ªå›è°ƒé€»è¾‘ä¸­ã€‚è·¯ç”±è·¯å¾„å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²patternï¼Œæˆ–è€…æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<p>å­—ç¬¦ <code>?</code>, <code>+</code>, <code>*</code>, and <code>()</code>å¯ä»¥ç”¨äºæ­£åˆ™è¡¨è¾¾å¼ï¼Œ è¿å­—ç¬¦(<code>-</code>) å’Œç‚¹(<code>.</code>) ç”¨äºå­—ç¬¦ä¸²è¡¨ç¤ºçš„è·¯å¾„ã€‚</p>
<p>å¦‚æœä½ éœ€è¦åœ¨è·¯å¾„ä¸­ä½¿ç”¨ç¾å…ƒç¬¦å·ï¼Œä½ éœ€è¦ç”¨<code>([</code>å’Œ<code>])</code>æ‹¬èµ·æ¥ï¼Œæ¯”å¦‚è¦å¤„ç†â€œ<code>/data/$book</code>â€ï¼Œåº”è¯¥å†™ä¸º â€œ<code>/data/([\$])book</code>â€ã€‚</p>
<p>Expressä½¿ç”¨<a href="https://www.npmjs.com/package/path-to-regexp">path-to-regexp</a>æ¥åŒ¹é…è·¯ç”±è·¯å¾„ã€‚<a href="http://forbeslindesay.github.io/express-route-tester/">Express Route Tester</a>æ˜¯ä¸€ä¸ªç”¨äºæµ‹è¯•Expressè·¯ç”±çš„å·¥å…·ï¼Œè™½ç„¶å®ƒä¸æ”¯æŒæ¨¡å¼åŒ¹é…ã€‚</p>
<p>æŸ¥è¯¢å­—ç¬¦ä¸²ä¸å±äºè·¯ç”±è·¯å¾„çš„ä¸€éƒ¨åˆ†ï¼Œä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬çš„ä¾‹å­ï¼š</p>
<p>Here are some examples of route paths based on strings.</p>
<p>This route path will match requests to the root route, <code>/</code>.</p>
<pre><code class="language-javascript">app.get(&#39;/&#39;, function (req, res) {
  res.send(&#39;root&#39;)
})</code></pre>
<p>This route path will match requests to <code>/about</code>.</p>
<pre><code class="language-javascript">app.get(&#39;/about&#39;, function (req, res) {
  res.send(&#39;about&#39;)
})</code></pre>
<p>This route path will match requests to <code>/random.text</code>.</p>
<pre><code class="language-javascript">app.get(&#39;/random.text&#39;, function (req, res) {
  res.send(&#39;random.text&#39;)
})</code></pre>
<p>Here are some examples of route paths based on string patterns.</p>
<p>This route path will match <code>acd</code> and <code>abcd</code>.</p>
<pre><code class="language-javascript">app.get(&#39;/ab?cd&#39;, function (req, res) {
  res.send(&#39;ab?cd&#39;)
})</code></pre>
<p>This route path will match <code>abcd</code>, <code>abbcd</code>, <code>abbbcd</code>, and so on.</p>
<pre><code class="language-javascript">app.get(&#39;/ab+cd&#39;, function (req, res) {
  res.send(&#39;ab+cd&#39;)
})</code></pre>
<p>This route path will match <code>abcd</code>, <code>abxcd</code>, <code>abRANDOMcd</code>, <code>ab123cd</code>, and so on.</p>
<pre><code class="language-javascript">app.get(&#39;/ab*cd&#39;, function (req, res) {
  res.send(&#39;ab*cd&#39;)
})</code></pre>
<p>This route path will match <code>/abe</code> and <code>/abcde</code>.</p>
<pre><code class="language-javascript">app.get(&#39;/ab(cd)?e&#39;, function (req, res) {
  res.send(&#39;ab(cd)?e&#39;)
})</code></pre>
<p>Examples of route paths based on regular expressions:</p>
<p>This route path will match anything with an â€œaâ€ in it.</p>
<pre><code class="language-javascript">app.get(/a/, function (req, res) {
  res.send(&#39;/a/&#39;)
})</code></pre>
<p>This route path will match <code>butterfly</code> and <code>dragonfly</code>, but not <code>butterflyman</code>, <code>dragonflyman</code>, and so on.</p>
<pre><code class="language-javascript">app.get(/.*fly$/, function (req, res) {
  res.send(&#39;/.*fly$/&#39;)
})</code></pre>

          <h3>
            <a name="_root-Route parameters" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Route parameters
          </h3><p>è·¯ç”±å‚æ•°æ˜¯è¢«å‘½åäº†çš„URLç‰‡æ®µï¼Œç”¨äºæ•æ‰URLä¸­ç‰¹å®šä½ç½®çš„å€¼ã€‚è¢«æ•æ‰åˆ°çš„å€¼ä¼šè¢«ç§»æ¤åˆ°<code>req.params</code>å¯¹è±¡ä¸Šï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨å®ƒä»¬çš„å€¼ã€‚</p>
<pre><code>Route path: /users/:userId/books/:bookId
Request URL: http://localhost:3000/users/34/books/8989
req.params: { &quot;userId&quot;: &quot;34&quot;, &quot;bookId&quot;: &quot;8989&quot; }</code></pre><p>è¦å®šä¹‰å¸¦è·¯ç”±å‚æ•°çš„è·¯ç”±ï¼Œä»…éœ€åƒä¸‹é¢è¿™æ ·åšï¼š</p>
<pre><code class="language-javascript">app.get(&#39;/users/:userId/books/:bookId&#39;, function (req, res) {
  res.send(req.params)
})</code></pre>
<p>è·¯ç”±å‚æ•°å¿…é¡»åªèƒ½ç”±å¤§å°å†™å’Œæ•°å­—ç»„æˆï¼Œè¿å­—ç¬¦å’Œç‚¹å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œä¸å—è·¯ç”±å‚æ•°çš„å½±å“ï¼š</p>
<pre><code>Route path: /flights/:from-:to
Request URL: http://localhost:3000/flights/LAX-SFO
req.params: { &quot;from&quot;: &quot;LAX&quot;, &quot;to&quot;: &quot;SFO&quot; }
Route path: /plantae/:genus.:species
Request URL: http://localhost:3000/plantae/Prunus.persica
req.params: { &quot;genus&quot;: &quot;Prunus&quot;, &quot;species&quot;: &quot;persica&quot; }</code></pre><p>ä¸ºäº†æ›´å¥½åœ°æ§åˆ¶è·¯ç”±å‚æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»å®šä½å‚æ•°ï¼Œå°†è¡¨è¾¾å¼ç”¨<code>()</code>æ‹¬èµ·æ¥å°±å¯ä»¥äº†ï¼š</p>
<pre><code>Route path: /user/:userId(\d+)
Request URL: http://localhost:3000/user/42
req.params: {&quot;userId&quot;: &quot;42&quot;}</code></pre><p>Because the regular expression is usually part of a literal string, be sure to escape any <code>\</code> characters with an additional backslash, for example <code>\\d+</code>.</p>
<p>In Express 4.x, <a href="https://github.com/expressjs/express/issues/2495">the <code>*</code> character in regular expressions is not interpreted in the usual way</a>. As a workaround, use <code>{0,}</code> instead of <code>*</code>. This will likely be fixed in Express 5.</p>

          <h3>
            <a name="_root-Route handlers" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Route handlers
          </h3><p>ä½ èƒ½å¤Ÿæä¾›å¤šä¸ªåƒä¸­é—´ä»¶ä¸€æ ·å¤„ç†è¯·æ±‚çš„å›è°ƒå‡½æ•°ã€‚å”¯ä¸€æ˜¯ä¾‹å¤–å°±æ˜¯è¿™äº›å›è°ƒå‡½æ•°ä¼šæ¶‰åŠåˆ°<code>next(&#39;route&#39;)</code>æ¥ä¼ é€’åˆ°å‰©ä½™çš„å›è°ƒæ–¹æ³•ä¸­ã€‚ä½ èƒ½å¤Ÿä½¿ç”¨è¿™ä¸ªæœºåˆ¶å»ä¼ é€’ä¸€äº›å‰ç½®æ¡ä»¶åˆ°è·¯ç”±ä¸­ã€‚</p>
<p>å¤šä¸ªè·¯ç”±å¤„ç†å™¨èƒ½å¤Ÿæ„æˆåˆ°ä¸€ä¸ªæ–¹æ³•å½“ä¸­ï¼Œä¸€ç»„æ–¹æ³•æ•°ç»„ï¼Œæˆ–è€…ä¸¤è€…çš„ç»“åˆéƒ½è¡Œï¼Œå°±åƒä¸‹é¢çš„ä¾‹å­ä¸€æ ·ï¼š</p>
<p>ä¸€ä¸ªå•ä¸€çš„æ–¹æ³•ä½œä¸ºå¤„ç†ï¼š</p>
<pre><code class="language-javascript">app.get(&#39;/example/a&#39;, function (req, res) {
  res.send(&#39;Hello from A!&#39;)
})</code></pre>
<p>å¤šä¸ªå›è°ƒæ–¹æ³•ï¼Œæ³¨æ„è¦è°ƒç”¨<code>next()</code>æ–¹æ³•ï¼š</p>
<pre><code class="language-javascript">app.get(&#39;/example/b&#39;, function (req, res, next) {
  console.log(&#39;the response will be sent by the next function ...&#39;)
  next()
}, function (req, res) {
  res.send(&#39;Hello from B!&#39;)
})</code></pre>
<p>å›è°ƒæ–¹æ³•çš„æ•°ç»„ï¼š</p>
<pre><code class="language-javascript">var cb0 = function (req, res, next) {
  console.log(&#39;CB0&#39;)
  next()
}

var cb1 = function (req, res, next) {
  console.log(&#39;CB1&#39;)
  next()
}

var cb2 = function (req, res) {
  res.send(&#39;Hello from C!&#39;)
}

app.get(&#39;/example/c&#39;, [cb0, cb1, cb2])</code></pre>
<p>ä¸¤è€…ä¹‹é—´çš„ç»“åˆï¼š</p>
<pre><code class="language-javascript">var cb0 = function (req, res, next) {
  console.log(&#39;CB0&#39;)
  next()
}

var cb1 = function (req, res, next) {
  console.log(&#39;CB1&#39;)
  next()
}

app.get(&#39;/example/d&#39;, [cb0, cb1], function (req, res, next) {
  console.log(&#39;the response will be sent by the next function ...&#39;)
  next()
}, function (req, res) {
  res.send(&#39;Hello from D!&#39;)
})</code></pre>

          <h3>
            <a name="_root-Response methods" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Response methods
          </h3><p>responseå¯¹è±¡çš„æ–¹æ³•éƒ½åœ¨ä¸‹è¡¨ä¸­ï¼Œå¯ä»¥å‘é€å“åº”åˆ°å®¢æˆ·ç«¯å¹¶ä¸”ç»ˆæ­¢è¯·æ±‚å“åº”å‘¨æœŸã€‚å¦‚æœä¸è°ƒç”¨ä¸‹åˆ—çš„æ–¹æ³•ï¼Œè¯·æ±‚å°±ä¼šè¢«ä¸€ç›´æŒ‚èµ·</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.download">res.download()</a></td>
<td>Prompt a file to be downloaded.</td>
</tr>
<tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.end">res.end()</a></td>
<td>End the response process.</td>
</tr>
<tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.json">res.json()</a></td>
<td>Send a JSON response.</td>
</tr>
<tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.jsonp">res.jsonp()</a></td>
<td>Send a JSON response with JSONP support.</td>
</tr>
<tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.redirect">res.redirect()</a></td>
<td>Redirect a request.</td>
</tr>
<tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.render">res.render()</a></td>
<td>Render a view template.</td>
</tr>
<tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.send">res.send()</a></td>
<td>Send a response of various types.</td>
</tr>
<tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.sendFile">res.sendFile()</a></td>
<td>Send a file as an octet stream.</td>
</tr>
<tr>
<td><a href="http://www.expressjs.com.cn/en/4x/api.html#res.sendStatus">res.sendStatus()</a></td>
<td>Set the response status code and send its string representation as the response body.</td>
</tr>
</tbody></table>

          <h3>
            <a name="_root-app.route()" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            app.route()
          </h3><p>ä½ èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨<code>app.route()</code>æ–¹æ³•ä¸ºè·¯ç”±è·¯å¾„åˆ›å»ºä¸€ä¸ªé“¾å¼çš„è·¯ç”±ã€‚å› ä¸ºè·¯å¾„æ˜¯æŒ‡å®šåˆ°ä¸€ä¸ªå•ä¸€åœ°ç‚¹çš„ï¼Œåˆ›å»ºæ¨¡å—åŒ–çš„è·¯ç”±å®é™…ä¸Šå¯¹äºç®€åŒ–ä»£ç å¾ˆæœ‰å¸®åŠ©ï¼Œæ›´å¤šä¿¡æ¯è¯·å‚è€ƒï¼š<a href="http://www.expressjs.com.cn/en/4x/api.html#router">Router() documentation</a>ã€‚</p>
<pre><code class="language-javascript">app.route(&#39;/book&#39;)
  .get(function (req, res) {
    res.send(&#39;Get a random book&#39;)
  })
  .post(function (req, res) {
    res.send(&#39;Add a book&#39;)
  })
  .put(function (req, res) {
    res.send(&#39;Update the book&#39;)
  })</code></pre>

          <h3>
            <a name="_root-express.Router" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            express.Router
          </h3><p>ä½¿ç”¨ <code>express.Router</code>ç±»æ¥åˆ›å»ºæ¨¡å—åŒ–ï¼Œå¯æŒ‚è½½çš„è·¯ç”±å¤„ç†å™¨ã€‚ä¸€ä¸ª<code>Router</code>å®ä¾‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸­é—´ä»¶å’Œè·¯ç”±ç³»ç»Ÿï¼Œå› æ­¤å®ƒä¹Ÿè¢«ç§°ä¸ºâ€œmini-appâ€ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªè·¯ç”±å™¨ä½œä¸ºæ¨¡å—ï¼Œå¹¶åŠ è½½äº†ä¸­é—´ä»¶åŠŸèƒ½ï¼Œå®šä¹‰äº†ä¸€äº›è·¯ç”±ç„¶åæŒ‚è½½è¿™ä¸ªè·¯ç”±å™¨åˆ°ä¸»ç¨‹åºçš„ä¸€ä¸ªè·¯å¾„ä¸Šé¢ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªä½œè·¯ç”±ç”¨çš„æ–‡ä»¶ <code>birds.js</code> ï¼š</p>
<pre><code class="language-javascript">var express = require(&#39;express&#39;)
var router = express.Router()

// middleware that is specific to this router
router.use(function timeLog (req, res, next) {
  console.log(&#39;Time: &#39;, Date.now())
  next()
})
// define the home page route
router.get(&#39;/&#39;, function (req, res) {
  res.send(&#39;Birds home page&#39;)
})
// define the about route
router.get(&#39;/about&#39;, function (req, res) {
  res.send(&#39;About birds&#39;)
})

module.exports = router</code></pre>
<p>æŒ‚è½½è·¯ç”±å™¨æ¨¡å—åˆ°appï¼š</p>
<pre><code class="language-javascript">var birds = require(&#39;./birds&#39;)

// ...

app.use(&#39;/birds&#39;, birds)</code></pre>
<p>ç°åœ¨ç¨‹åºèƒ½å¤Ÿå¤„ç†<code>/birds</code> å’Œ <code>/birds/about</code>è·¯ç”±ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿè°ƒç”¨ä¸­é—´ä»¶æ–¹æ³•<code>timeLog</code>ã€‚</p>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
        <input id="searchtext" type="text" class="form-control" placeholder="keywords" autocomplete="off">
        <div class="input-group-append">
            <button id="searchbut" class="btn btn-dark" type="button">Search</button>
        </div>
    </div>

    <div id="bbt" class="myhide new_font">
        <a id="toc" style="display: none;" class="myhide" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="show/hide Toc">Toc</a>
        <a id="gohub" href="#" target="_blank" data-toggle="tooltip" data-placement="bottom" title="view this at github">unuse</a>
    </div>

    <div id="share_png_panel" class="myhide">
        <div id="share_curtain"></div>
        <div id="png_box"></div>
        <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>

</body>

</html>