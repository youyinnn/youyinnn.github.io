<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin">
    <title>blog | youyinnn</title>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/myjs/jump-0.3.js"></script>
    <link rel="bookmark" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="stylesheet" href="/mycss/style.css">

    <script src="/resources/resources.js"></script>
    <script src="/myjs/import.js"></script>
</head>

<body>

    <ol id="topbar" class="breadcrumb unselectable new_font">
        <p style="color:rgb(214, 214, 214); padding-right: 1rem;">
            <button id="egg" class="egg">ğŸš€</button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
        <li class="breadcrumb-item">
            <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="articlesbut" href="javaScript:void(0)" class="ah">-articles</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="scriptbut" href="javaScript:void(0)" class="ah">-scripts</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li>
        <li class="breadcrumb-item dropdown">
            <spen href="javaScript:void(0)" class="ah" role="button" id="friendlinkedbut" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-friends</spen>
            <div id="fldd" class="dropdown-menu" aria-labelledby="friendlinkedbut" style="border-radius: initial;"></div>
        </li>

        <div id="hb" data-toggle="tooltip" data-placement="bottom" title="show/hide TopBar">

        </div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
        <span id="slogan">
            <i id="wolf-logo" style="font-style: normal;" class="mr-4">ğŸŒ‘</i>I'M BACK
        </span>
        <div id="showmore"> &gt; About Me & This Blog</div>
        <div id="showhacknical"> &gt; My Github Analysis</div>
        <div id="toarticles"> &gt; My Tech Articles</div>
        <div id="ifwrapper" class="hacknical_hide">
            <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
        </div>
    </div>

    <div id="series" class="unselectable">
        <span>ç³»</span>
        <span>åˆ—</span>
        <span>æ–‡</span>
        <span>ç« </span>
    </div>
    <div id="seriesbox" class="unselectable">

    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
        <div id="cates_tree_head">Article Categories</div>
        <div id="cates_tree_body"></div>
        <div id="blog_statistic_head">Blog Statistic</div>
        <table id="blog_statistic_body" class="myhide">
            <tbody>
                <tr>
                    <td style="text-align:right">Site running days:</td>
                    <td style="text-align:left" id="stat_running"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Total article:</td>
                    <td style="text-align:left" id="stat_article_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Char count:</td>
                    <td style="text-align:left" id="stat_typein"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Category count:</td>
                    <td style="text-align:left" id="stat_cate_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Tag count:</td>
                    <td style="text-align:left" id="stat_tag_count"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="docpanel" class="myhide new_font">
        <div id="articlesearch" class="input-group">
            <input id="articlesearchtext" type="text" class="form-control" autocomplete="off" placeholder="search">
            <div class="input-group-append">
                <button id="cleanbut" class="btn btn-light" type="button" title="clear search">cls</button>
                <button id="categories" class="btn btn-light" type="button">cates</button>
                <button id="tags" class="btn btn-light" type="button" title="all tags">tags</button>
                <button id="articlesearchbut" class="btn btn-light" type="button" title="search">sch</button>
            </div>
        </div>
        <div class="tgs myhide" id="all_cates">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All categories:</span>
            <br>
        </div>
        <div class="tgs myhide" id="all_tags">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All tags:</span>
            <br>
        </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
        <div id="block">
            <div id="percent" data-toggle="tooltip" data-placement="bottom" title="return to the top">0%</div>
        </div>
        <div id="sidetoc" class="unselectable markdown-body editormd-preview-container markdown-toc"></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
        <p><div class="saying mb-4"></p>
<p>Lo4j2æ˜¯å•¥å°±ä¸è§£é‡Šäº†ï¼Œä¹‹å‰æ— è®ºæ˜¯ä½¿ç”¨log4jè¿˜æ˜¯log4j2ï¼ŒåŒæ ·åªæ˜¯ç®€å•çš„å„ç§ç™¾åº¦ç„¶åå¤åˆ¶ç²˜è´´æ²¡æœ‰ç³»ç»Ÿçš„æ€»ç»“ä¸€ä¸‹ï¼Œä»Šå¤©æŠŠä¸€ä¸ªå°å°çš„Ajaxçš„æµ‹è¯•ç¨‹åºæ”¾æœåŠ¡å™¨ä¸Šé¢éƒ½ä¸çŸ¥é“æ€ä¹ˆæŸ¥é”™ï¼Œç„¶åæƒ³å†™ä¸€ä¸‹logæ¥çœ‹çœ‹å“ªé”™äº†å§ï¼Œå‘ç°è¿˜æ˜¯ä¸ä¼šç‹¬ç«‹é…ç½®log4jï¼Œäºæ˜¯æƒ³æ€»ç»“ä¸€æ³¢ã€‚åŸºæœ¬çš„æ€è·¯æ˜¯æ€»ç»“å®˜æ–¹æ–‡æ¡£å’Œå®˜æ–¹æ¨èçš„ä¸­æ–‡æ–‡æ¡£ï¼Œå°½é‡ç®€æ´è¡¨è¾¾å‡ºåŸç†ä»¥åŠåº”ç”¨ã€‚</p>
<p></div></p>
<!-- more -->

<hr>

          <h3>
            <a name="_root-å‡†å¤‡å·¥ä½œ" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            å‡†å¤‡å·¥ä½œ
          </h3>
          <h4>
            <a name="_root-Mavenä¾èµ–" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Mavenä¾èµ–
          </h4><pre><code class="language-xml">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;
    &lt;version&gt;2.9.1&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;
    &lt;version&gt;2.9.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
<p>è®¤å‡†è¿™ä¿©ä¾èµ–</p>

          <h4>
            <a name="_root-é»˜è®¤é…ç½®æ–‡ä»¶(å¦‚æœé…ç½®æ–‡ä»¶ç¼ºçœçš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šæ˜¯è¿™æ ·çš„é…ç½®)" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            é»˜è®¤é…ç½®æ–‡ä»¶(å¦‚æœé…ç½®æ–‡ä»¶ç¼ºçœçš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šæ˜¯è¿™æ ·çš„é…ç½®)
          </h4><p>é…ç½®æ–‡ä»¶éœ€è¦æ”¾åœ¨classpathçš„æ ¹ç›®å½•ä¸‹ï¼ˆä¸€èˆ¬çš„é¡¹ç›®æ˜¯srcï¼Œmaven webé¡¹ç›®åˆ™æ˜¯æ¨èåœ¨resourceä¸‹ï¼‰ï¼Œä»¥log4j2.xmlå‘½åï¼Œé…ç½®æ–‡ä»¶è¿˜æœ‰å…¶ä»–çš„é…ç½®å½¢å¼å¦‚jsonå’Œyamlï¼Œæˆ‘ä¹ æƒ¯ä½¿ç”¨xmlã€‚</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration status=&quot;OFF&quot;&gt;
    &lt;appenders&gt;
        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;
            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;
        &lt;/Console&gt;
    &lt;/appenders&gt;
    &lt;loggers&gt;
        &lt;root level=&quot;error&quot;&gt;
            &lt;appender-ref ref=&quot;Console&quot;/&gt;
        &lt;/root&gt;
    &lt;/loggers&gt;
&lt;/configuration&gt;</code></pre>

          <h4>
            <a name="_root-HelloWord" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            HelloWord
          </h4><pre><code class="language-java">public class Main {
    public static void main(String[] args) {
        Logger logger = LogManager.getLogger(LogManager.ROOT_LOGGER_NAME);
        logger.trace(&quot;trace level&quot;);
        logger.debug(&quot;debug level&quot;);
        logger.info(&quot;info level&quot;);
        logger.warn(&quot;warn level&quot;);
        logger.error(&quot;error level&quot;);
        logger.fatal(&quot;fatal level&quot;);
    }
}</code></pre>
<hr>

          <h3>
            <a name="_root-è¿è¡ŒHelloWorld" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            è¿è¡ŒHelloWorld
          </h3><p>è¿è¡Œä¸Šé¢çš„ä»£ç ä¹‹åä¼šå‡ºç°å¦‚ä¸‹çš„log</p>
<pre><code class="language-cmd">13:34:41.070 [main] ERROR mylog - error level
13:34:41.072 [main] FATAL mylog - fatal level</code></pre>
<p>ä½ ä¼šå¾ˆå¥‡æ€ªï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å†™äº†è¿™ä¹ˆå¤šlogï¼Œå´åªå‡ºç°ä¸¤è¡Œlogä¿¡æ¯ï¼Œæˆ‘ä»¬å»çœ‹çœ‹æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration status=&quot;OFF&quot;&gt;
  &lt;!-- è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªappenders --&gt;
    &lt;appenders&gt;
      &lt;!-- appendersé‡Œé¢é…ç½®äº†ä¸€ä¸ªConsole --&gt;
        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;
          &lt;!-- è¿™æ˜¯è¾“å‡ºæ ¼å¼ --&gt;
            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;
        &lt;/Console&gt;
    &lt;/appenders&gt;

    &lt;!-- ç„¶åå°±æ˜¯å®šä¹‰loggers --&gt;
    &lt;loggers&gt;
      &lt;!-- è¿™æ˜¯æ ¹logger æ˜¯æ‰€æœ‰è‡ªå®šä¹‰loggerçš„çˆ¶logger --&gt;
        &lt;root level=&quot;error&quot;&gt;
            &lt;appender-ref ref=&quot;Console&quot;/&gt;
        &lt;/root&gt;
    &lt;/loggers&gt;
&lt;/configuration&gt;</code></pre>
<p>é¦–å…ˆçœ‹æˆ‘ä»¬çš„Javaä»£ç ï¼š</p>
<pre><code class="language-java">Logger logger = LogManager.getLogger(LogManager.ROOT_LOGGER_NAME);</code></pre>
<p>è¿™ä¸€è¡Œæ˜¯è·å–æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å¥½çš„root loggerï¼Œç„¶åä½¿ç”¨è¿™ä¸ªloggerå»æ‰“å°äº†6æ¡æ—¥å¿—ã€‚</p>
<p>ç„¶åè§£é‡Šä¸€ä¸‹å•è¯å«ä¹‰ï¼ˆmy style~ï¼‰ï¼š</p>
<blockquote>
<p>Appenderï¼š<br><em>n.</em> é™„ç€å™¨,è¾“å‡ºç›®çš„åœ°,è¾“å‡ºæºï¼›</p>
</blockquote>
<p>å®ƒçš„å­å…ƒç´ Consoleï¼Œä»£è¡¨çš„æ˜¯æ§åˆ¶å°ï¼Œæ‰€ä»¥å¾ˆæ˜æ˜¾å°±æ˜¯ï¼Œæˆ‘ä»¬é…ç½®äº†ä¸€ä¸ªä»¥æ§åˆ¶å°ä½œä¸ºè¾“å‡ºæºçš„è¾“å‡ºæºï¼›å¹¶å°†è¿™ä¸ªè¾“å‡ºæºå‘½åä¸º<code>Console</code>ï¼Œç„¶åé…ç½®äº†è¿™ä¸ªæ§åˆ¶å°è¾“å‡ºæºçš„è¾“å‡ºPatternã€‚</p>
<p>ç„¶åæˆ‘ä»¬åœ¨<code>loggers</code>é‡Œé¢é…ç½®äº†ä¸€ä¸ªloggerï¼š<code>root</code>ï¼Œè¿™ä¸ªèŠ‚ç‚¹ä»£è¡¨æ‰€æœ‰loggerçš„æ ¹loggerï¼Œç„¶ålogçº§åˆ«å®šä¸º<code>error</code>ï¼Œæ„æ€æ˜¯<strong>åªè¾“å‡ºerrorçº§åˆ«ä»¥ä¸‹åŒ…æ‹¬errorçš„æ—¥å¿—ä¿¡æ¯</strong>ï¼Œä¹‹åè¿™ä¸ªæ ¹logçš„è¾“å‡ºæºå¼•ç”¨çš„æ˜¯<code>name</code>å€¼ä¸º<code>Console</code>çš„Appenderï¼Œä¹Ÿå³æˆ‘ä»¬é…ç½®çš„å”¯ä¸€ä¸€ä¸ªAppenderã€‚</p>
<p>é‚£ä¹ˆerrorä»¥ä¸‹æ˜¯å“ªäº›ä¿¡æ¯ï¼Ÿ</p>
<blockquote>
<hr>
<p>log4jè§„å®šäº†é»˜è®¤çš„å‡ ä¸ªçº§åˆ«ï¼š<code>trace &lt; debug &lt; info &lt; warn &lt; error &lt; fatal</code>ç­‰ã€‚è¿™é‡Œè¦è¯´æ˜ä¸€ä¸‹ï¼š</p>
<ol>
<li><p>çº§åˆ«ä¹‹é—´æ˜¯åŒ…å«çš„å…³ç³»ï¼Œæ„æ€æ˜¯å¦‚æœä½ è®¾ç½®æ—¥å¿—çº§åˆ«æ˜¯traceï¼Œåˆ™å¤§äºç­‰äºè¿™ä¸ªçº§åˆ«çš„æ—¥å¿—éƒ½ä¼šè¾“å‡ºã€‚</p>
</li>
<li><p>åŸºæœ¬ä¸Šé»˜è®¤çš„çº§åˆ«æ²¡å¤šå¤§åŒºåˆ«ï¼Œå°±æ˜¯ä¸€ä¸ªé»˜è®¤çš„è®¾å®šã€‚ä½ å¯ä»¥é€šè¿‡å®ƒçš„APIè‡ªå·±å®šä¹‰çº§åˆ«ã€‚ä½ ä¹Ÿå¯ä»¥éšæ„è°ƒç”¨è¿™äº›æ–¹æ³•ï¼Œä¸è¿‡ä½ è¦åœ¨é…ç½®æ–‡ä»¶é‡Œé¢å¥½å¥½å¤„ç†äº†ï¼Œå¦åˆ™å°±èµ·ä¸åˆ°æ—¥å¿—çš„ä½œç”¨äº†ï¼Œè€Œä¸”ä¹Ÿä¸æ˜“è¯»ï¼Œç›¸å½“äºä¸€ä¸ªè§„èŒƒï¼Œä½ è¦å®Œå…¨å®šä¹‰ä¸€å¥—ä¹Ÿå¯ä»¥ï¼Œä¸ç”¨æ²¡å¤šå¤§å¿…è¦ã€‚</p>
</li>
</ol>
<hr>
<ul>
<li><p>traceï¼š æ˜¯è¿½è¸ªï¼Œå°±æ˜¯ç¨‹åºæ¨è¿›ä»¥ä¸‹ï¼Œä½ å°±å¯ä»¥å†™ä¸ªtraceè¾“å‡ºï¼Œæ‰€ä»¥traceåº”è¯¥ä¼šç‰¹åˆ«å¤šï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®æœ€ä½æ—¥å¿—çº§åˆ«ä¸è®©ä»–è¾“å‡ºã€‚</p>
</li>
<li><p>debugï¼š è°ƒè¯•ä¹ˆï¼Œæˆ‘ä¸€èˆ¬å°±åªç”¨è¿™ä¸ªä½œä¸ºæœ€ä½çº§åˆ«ï¼Œtraceå‹æ ¹ä¸ç”¨ã€‚æ˜¯åœ¨æ²¡åŠæ³•å°±ç”¨eclipseæˆ–è€…ideaçš„debugåŠŸèƒ½å°±å¥½äº†ä¹ˆã€‚</p>
</li>
<li><p>infoï¼š è¾“å‡ºä¸€ä¸‹ä½ æ„Ÿå…´è¶£çš„æˆ–è€…é‡è¦çš„ä¿¡æ¯ï¼Œè¿™ä¸ªç”¨çš„æœ€å¤šäº†ã€‚</p>
</li>
<li><p>warnï¼š æœ‰äº›ä¿¡æ¯ä¸æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œä½†æ˜¯ä¹Ÿè¦ç»™ç¨‹åºå‘˜çš„ä¸€äº›æç¤ºï¼Œç±»ä¼¼äºeclipseä¸­ä»£ç çš„éªŒè¯ä¸æ˜¯æœ‰error å’Œwarnã€‚</p>
</li>
<li><p>errorï¼š é”™è¯¯ä¿¡æ¯ã€‚ç”¨çš„ä¹Ÿæ¯”è¾ƒå¤šã€‚</p>
</li>
<li><p>fatalï¼š çº§åˆ«æ¯”è¾ƒé«˜äº†ã€‚é‡å¤§é”™è¯¯ï¼Œè¿™ç§çº§åˆ«ä½ å¯ä»¥ç›´æ¥åœæ­¢ç¨‹åºäº†ï¼Œæ˜¯ä¸åº”è¯¥å‡ºç°çš„é”™è¯¯ä¹ˆï¼ä¸ç”¨é‚£ä¹ˆç´§å¼ ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç¨‹åº¦çš„é—®é¢˜ã€‚</p>
</li>
</ul>
<hr>
</blockquote>
<p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±çŸ¥é“ï¼Œä¸ºä»€ä¹ˆä¼šåªæ‰“å°ä¸¤æ¡logäº†ï¼Œæ‰“å°çš„ä¸¤æ¡logåˆ†åˆ«æ˜¯ï¼šerrorçº§åˆ«ä»¥åŠfatalçº§åˆ«çš„logã€‚</p>
<hr>
<p><em>å‚è€ƒï¼š<a href="http://www.cnblogs.com/leo-lsw/p/log4j2tutorial.html">http://www.cnblogs.com/leo-lsw/p/log4j2tutorial.html</a></em></p>
<p><em>å‚è€ƒï¼š<a href="https://my.oschina.net/xianggao/blog/523401">https://my.oschina.net/xianggao/blog/523401</a></em></p>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
        <input id="searchtext" type="text" class="form-control" placeholder="keywords" autocomplete="off">
        <div class="input-group-append">
            <button id="searchbut" class="btn btn-dark" type="button">Search</button>
        </div>
    </div>

    <div id="bbt" class="myhide new_font">
        <a id="toc" style="display: none;" class="myhide" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="show/hide Toc">Toc</a>
        <a id="gohub" href="#" target="_blank" data-toggle="tooltip" data-placement="bottom" title="view this at github">unuse</a>
    </div>

    <div id="share_png_panel" class="myhide">
        <div id="share_curtain"></div>
        <div id="png_box"></div>
        <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>

</body>

</html>