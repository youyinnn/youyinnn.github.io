<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin">
    <title>blog | youyinnn</title>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/myjs/loadscripts.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/myjs/jump-1.3.js"></script>
    <link rel="bookmark" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="stylesheet" href="/mycss/style.css">

    <script src="/resources/resources.js"></script>
    <script src="/myjs/scriptlist.js"></script>
</head>

<body>

    <ol id="topbar" class="breadcrumb unselectable new_font">
        <p style="color:rgb(214, 214, 214); padding-right: 1rem;">
            <button id="egg" class="egg">ğŸš€</button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
        <li class="breadcrumb-item">
            <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="articlesbut" href="javaScript:void(0)" class="ah">-articles</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="scriptbut" href="javaScript:void(0)" class="ah">-scripts</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li>
        <li class="breadcrumb-item dropdown">
            <spen href="javaScript:void(0)" class="ah" role="button" id="friendlinkedbut" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-friends</spen>
            <div id="fldd" class="dropdown-menu" aria-labelledby="friendlinkedbut" style="border-radius: initial;"></div>
        </li>

        <div id="hb" data-toggle="tooltip" data-placement="bottom" title="show/hide TopBar">

        </div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
        <div id="homepage-center">
            <div id="slogan">
                <i id="wolf-logo" style="font-style: normal;" class="mr-4">ğŸŒ‘</i><span id="slogan-text"></span>
            </div>
            <div id="homepage-btn">
                <div id="showmore"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; About Me & This Blog</div>
                <div id="showhacknical"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Github Analysis</div>
                <div id="toarticles"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Tech Articles</div>
            </div>
        </div>
        <div id="ifwrapper" class="hacknical_hide">
            <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
        </div>
    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
        <div id="cates_tree_head">Article Categories</div>
        <div id="cates_tree_body"></div>
        <div id="blog_statistic_head">Blog Statistics</div>
        <table id="blog_statistic_body" class="myhide">
            <tbody>
                <tr>
                    <td style="text-align:right">Online:</td>
                    <td style="text-align:left" id="stat_running"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Article:</td>
                    <td style="text-align:left" id="stat_article_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Chars:</td>
                    <td style="text-align:left" id="stat_typein"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Categories:</td>
                    <td style="text-align:left" id="stat_cate_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Tags:</td>
                    <td style="text-align:left" id="stat_tag_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Last update:</td>
                    <td style="text-align:left" id="stat_last_update"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="docpanel" class="myhide new_font">
        <div id="articlesearch" class="input-group">
            <input id="articlesearchtext" type="text" class="form-control" autocomplete="off" placeholder="search">
            <div class="input-group-append">
                <button id="cleanbut" class="btn btn-light" type="button" title="clear search">cls</button>
                <button id="categories" class="btn btn-light" type="button">cates</button>
                <button id="tags" class="btn btn-light" type="button" title="all tags">tags</button>
                <button id="articlesearchbut" class="btn btn-light" type="button" title="search">sch</button>
            </div>
        </div>
        <div class="tgs myhide" id="all_cates">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All categories:</span>
            <br>
        </div>
        <div class="tgs myhide" id="all_tags">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All tags:</span>
            <br>
        </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
        <div id="block">
            <div id="percent" data-toggle="tooltip" data-placement="bottom" title="return to the top">0%</div>
        </div>
        <div id="sidetoc" class="unselectable markdown-body editormd-preview-container markdown-toc"></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
        
          <h3 id="fccefbaf">
            <a name="_root-å‰è¨€" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            å‰è¨€
          </h3><p>æˆ‘</p>
<p>é¢è¯•ï¼ˆå¤§çº¦ä¸¤ä¸ªæœˆå‰ï¼‰</p>
<p>è¢«é—®çº¿ç¨‹å®‰å…¨å•ä¾‹</p>
<p>å®é™…ä¸Šå†™å¾—å‡º</p>
<p>åªæ˜¯ä¸çŸ¥é“å¯ä»¥è¿™æ ·å†™</p>
<p>æ‰€ä»¥æ²¡ç­”å¥½- -</p>
<p>å›æ¥ä¸€çœ‹</p>
<p>å¯ä»¥ç­”</p>
<p>è€»è¾±</p>
<p>è¯´æ˜ï¼šæœ¬ç¯‡ä»£ç å¤§éƒ¨åˆ†å¼•è‡ªï¼š<a href="https://github.com/iluwatar/java-design-patterns">https://github.com/iluwatar/java-design-patterns</a> </p>
<hr>

          <h3 id="78509d5">
            <a name="_root-Singleton" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Singleton
          </h3><p>å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰ç®—æ˜¯å·¥å‚æ¨¡å¼çš„ä¸€ç§ç‰¹ä¾‹ï¼Œä½ ä¸éœ€è¦ç»™å‡ºä»»ä½•å‚æ•°ï¼Œå°±å¯ä»¥é©¬ä¸Šå¾—åˆ°ä¸€ä¸ªåœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è°ƒç”¨åˆ°çš„å”¯ä¸€çš„å®ä¾‹</p>
<p>ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°å•ä¾‹ï¼Œè¿˜æ˜¯åœ¨1å¹´å¤šå‰å­¦ä¹ springçš„æ—¶å€™ï¼Œåœ¨é…ç½®Beançš„æ—¶å€™æœ‰å•ä¾‹å¤šä¾‹é…ç½®</p>
<p>æ€»çš„æ¥è¯´ï¼Œä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœæ˜¯ç”¨ä½œå·¥å…·ç±»æˆ–è€…å·¥å…·å¯¹è±¡çš„è¯ï¼Œé‚£ä¹ˆå®ƒå¹¶ä¸éœ€è¦åˆ›å»ºå¤šä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å•ä¾‹çš„å½¢å¼å»è·å–è¿™ä¸ªå¯¹è±¡</p>

          <h4 id="42350b17">
            <a name="_root-HungryManStyleï¼ˆthread safeï¼‰" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            HungryManStyleï¼ˆthread safeï¼‰
          </h4><pre><code class="language-java">/**
 * ä½¿ç”¨é™æ€å¯¹è±¡è¿›è¡Œé¢„åŠ è½½æ¥ä¿è¯çº¿ç¨‹å®‰å…¨çš„
 * ä¸€èˆ¬æˆ‘ä»¬ç§°è¿™æ ·çš„å•ä¾‹ä¸ºé¥¿æ±‰å¼å•ä¾‹ ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ ä¸€æ—¦åŠ è½½è¿™ä¸ªç±»å°±åˆ›å»ºå¯¹è±¡
 * ä¸€èˆ¬æ˜¯åœ¨ç¬¬ä¸€æ¬¡å¼•ç”¨è¿™ä¸ªç±»çš„æ—¶å€™å°±åŠ è½½è¿™ä¸ªç±»
 */
class Singleton{
    private Singleton(){}
    private static final Singleton INSTANCE = new Singleton();
    public static Singleton getInstance() {
        return INSTANCE;
    }
}</code></pre>
<p>è¦è¯´çš„è¯éƒ½åœ¨æ³¨é‡Šé‡Œäº†</p>

          <h4 id="8dfc130e">
            <a name="_root-LazyManStyle" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            LazyManStyle
          </h4>
          <h5 id="8bf96e2e">
            <a name="_root-æ— é”ï¼ˆéçº¿ç¨‹å®‰å…¨ï¼‰" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            æ— é”ï¼ˆéçº¿ç¨‹å®‰å…¨ï¼‰
          </h5><pre><code class="language-java">public class Singleton {
    private Singleton(){}
    private static final Singleton INSTANCE;
    public static Singleton getInstance(){
        if (INSTANCE == null) {
            INSTANCE = new Singleton();
        }
        return INSTANCE;
    }
}</code></pre>
<p>è¿™ç§æ˜¯æœ€åŸºæœ¬çš„å•ä¾‹</p>
<ul>
<li>ç§æœ‰æ— å‚æ„é€ æ–¹æ³•ä¿è¯å¤–éƒ¨å¼•ç”¨ä¸å¯ä»¥newä¸€ä¸ªå¯¹è±¡</li>
<li>åˆ¤æ–­æ˜¯å¦åˆå§‹åŒ–äº†instanceå˜é‡ å§‹ç»ˆåªè¿”ä¼šåŒä¸€ä¸ªå¯¹è±¡</li>
</ul>
<p>ä½†æ˜¯è¿™ç§å•ä¾‹åªèƒ½åœ¨å•çº¿ç¨‹çš„æƒ…å†µä¸‹æ­£å¸¸å·¥ä½œï¼Œåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒä¸€æ—¶åˆ»åœ¨line5å¤„åˆ¤æ–­å®ä¾‹å˜é‡ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå°±å¯èƒ½æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œline6ï¼Œåœ¨è¿™ä¸ªæ—¶é—´ï¼Œä¼šæœ‰å¤§é‡çš„å®ä¾‹æŒ¤ç ´å¤´å¾—è¢«instanceå¼•ç”¨ï¼Œè¿™æ ·ä¼šé€ æˆèµ„æºæµªè´¹</p>

          <h5 id="91f7c85a">
            <a name="_root-ç®€å•Synchronizedä¸Šé”ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            ç®€å•Synchronizedä¸Šé”ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰
          </h5><pre><code class="language-java">public class Singleton{
    private Singleton(){}
    private static final Singletion INSTANCE;
    public static synchronized Singleton getInstance(){
        if (INSTANCE == null) {
            INSTANCE = new Singleton();
        }
        return INSTANCE;
    }
}

// å¦å¤–ä¸€ç§å†™æ³•
public static Singleton getInstance(){
    synchronized(Singleton.class) {
        if (INSTANCE == null) {
            INSTANCE = new Singleton();
        }
    }
    return INSTANCE;
}</code></pre>
<p>ä¼˜ç‚¹ï¼Œæ¯”ä¸Šé¢é‚£ç§å®‰å…¨ï¼Œç¼ºç‚¹ï¼Œè·å–å¯¹è±¡çš„æ—¶å€™èµ„æºæµªè´¹ï¼Œæˆ‘ä»¬ä¸Šé”çš„ç›®çš„åªæ˜¯<strong>é˜²æ­¢æœ€å¼€å§‹åœ¨å®ä¾‹æœªè¢«åˆå§‹åŒ–çš„æ—¶å€™ï¼Œè¢«å¤šçº¿ç¨‹è®¿é—®å¯¼è‡´line5åˆ¤æ–­å¼‚å¸¸</strong>ï¼Œå¾€ååœ¨å®ä¾‹è¢«åˆ›å»ºå¥½äº†ä¹‹åï¼Œå¹¶ä¸éœ€è¦é˜²æ­¢å¤šçº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œæ¯æ¬¡è°ƒç”¨æ–¹æ³•éƒ½åŠ é”åªä¼šå¢åŠ æ— æ„ä¹‰çš„æ¶ˆè€—ï¼Œæˆ‘ç§°è¿™ä¸ªä¸º<strong>â€œæ— æ„ä¹‰é”â€</strong></p>
<p>è¿™ç§å®ç°ä¸å¯å–</p>

          <h5 id="4bb19ad0">
            <a name="_root-æƒ³å½“ç„¶çš„åŒé‡æ£€æŸ¥é”ï¼ˆéçº¿ç¨‹å®‰å…¨ï¼‰" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            æƒ³å½“ç„¶çš„åŒé‡æ£€æŸ¥é”ï¼ˆéçº¿ç¨‹å®‰å…¨ï¼‰
          </h5><pre><code class="language-java">public class Singleton{
    private Singleton(){}
    private static final Singletion INSTANCE;
    public static Singleton getInstance(){
        if (INSTANCE == null) {
            synchronized(Singleton.class) {
                if (INSTANCE == null) {
                    INSTANCE = new Singleton();
                }
            }
        }
        return INSTANCE;
    }
}</code></pre>
<p>è¿™ä¸ªå®ç°ï¼Œçœ‹ä¼¼å¯ä»¥é¿å…<strong>æ— æ„ä¹‰é”</strong>çš„é—®é¢˜ï¼Œä½†æ˜¯line8å¯èƒ½ä¼šå› ä¸ºæŸå•çº¿ç¨‹çš„é‡æ’åºå¯¼è‡´å…¶ä»–çº¿ç¨‹å¯¹è¯¥å®ä¾‹çš„å¯è§æ€§é—®é¢˜ï¼Œå¯¹äºåŒé‡æ£€æŸ¥é”çš„é”™è¯¯ï¼Œåœ¨ç³»åˆ—æ–‡ç« ã€Šå¹¶å‘ç¼–ç¨‹ç¬¬å…­åã€‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œä¸å†èµ˜è¿°</p>
<p>åŸºäºåŒé‡æ£€æŸ¥é”çš„è§£å†³æ–¹æ¡ˆï¼Œç»™å‡ºä¸¤ç§æ¯”è¾ƒæ ‡å‡†çš„å®ç°ï¼š</p>

          <h5 id="11f8e56a">
            <a name="_root-åŸºäºå†…éƒ¨ç±»å’Œç±»åŠ è½½æœºåˆ¶çš„â€”â€”Initialization On Demand Holder Idiom" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            åŸºäºå†…éƒ¨ç±»å’Œç±»åŠ è½½æœºåˆ¶çš„â€”â€”Initialization On Demand Holder Idiom
          </h5><pre><code class="language-java">public final class InitializingOnDemandHolderIdiom {
    private InitializingOnDemandHolderIdiom(){}
    public static InitializingOnDemandHolderIdiom getInstance() {
        return HelperHolder.INSTANCE;
    }
    private static class HelperHolder {
        private static final InitializingOnDemandHolderIdiom INSTANCE = 
            new InitializingOnDemandHolderIdiom();
    }
}</code></pre>
<p>è¿™ä¸ªå®ç°çš„å¥½å¤„å°±æ˜¯ï¼Œå®ƒå¯ä»¥åœ¨æ—¢å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨å’Œæ‡’åŠ è½½ï¼Œåˆå¯ä»¥é€‚åº”æ‰€æœ‰çš„JDKç‰ˆæœ¬ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸‹é¢çš„å®ç°ç”¨åˆ°äº†volatileå˜é‡ï¼Œå°±éœ€è¦JDK1.5ä»¥ä¸Šçš„æ”¯æŒ</p>
<blockquote>
<p> å‚è€ƒï¼š</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom">https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom</a> </li>
<li><a href="http://ifeve.com/initialization-on-demand-holder-idiom/">http://ifeve.com/initialization-on-demand-holder-idiom/</a></li>
<li><a href="https://www.cnblogs.com/fuyoucaoyu/p/6547715.html">https://www.cnblogs.com/fuyoucaoyu/p/6547715.html</a></li>
</ul>
</blockquote>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬å¤šæ¥è§¦äº†ä¸€ä¸ªæ¦‚å¿µâ€”â€”<strong>åˆå§‹åŒ–é”LCé”</strong>ï¼Œå…·ä½“çš„ä»‹ç»å¯ä»¥çœ‹ç¬¬å…­å</p>

          <h5 id="2ac4ebb1">
            <a name="_root-åŸºäºvolatileå˜é‡çš„â€”â€”çº¿ç¨‹å®‰å…¨çš„åŒé‡æ£€æŸ¥é”" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            åŸºäºvolatileå˜é‡çš„â€”â€”çº¿ç¨‹å®‰å…¨çš„åŒé‡æ£€æŸ¥é”
          </h5><pre><code class="language-java">public final class ThreadSafeDoubleCheckLocking {
  private static volatile ThreadSafeDoubleCheckLocking instance;
  private ThreadSafeDoubleCheckLocking() {
    // é˜²æ­¢è¢«åå°„å®ä¾‹åŒ–
    if (instance != null) {
      throw new IllegalStateException(&quot;Already initialized.&quot;);
    }
  }
  public static ThreadSafeDoubleCheckLocking getInstance() {
    // è¿™ä¸ªæœ¬åœ°å˜é‡ä¼šæé«˜25%çš„æ€§èƒ½ Joshua Bloch &quot;Effective Java, Second Edition&quot;, p. 283-284
    ThreadSafeDoubleCheckLocking result = instance;
    // ç¬¬ä¸€æ¬¡æ£€æŸ¥ ä¸ä¸ºç©ºç›´æ¥è¿”å›
    if (result == null) {
      // ä¸Šé”åŒæ­¥åˆå§‹åŒ–çš„è¿‡ç¨‹
      synchronized (ThreadSafeDoubleCheckLocking.class) {
        // å†ä¸€æ¬¡æŒ‡æ´¾æœ¬åœ°å˜é‡ ç”¨äºæ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–çº¿ç¨‹åœ¨å½“å‰çº¿ç¨‹è¢«é˜»å¡åœ¨é”å¤–çš„æ—¶å€™å·²ç»å®Œæˆåˆå§‹åŒ–å·¥ä½œäº†
        // å¦‚æœå·²ç»å®Œæˆäº† é‚£ä¹ˆå¯ä»¥ç›´æ¥è¿”å›ç»“æœ
        result = instance;
        if (result == null) {
          // åœ¨è¿™ä¸ªåŒºåŸŸå®Œå…¨å°±æ˜¯å•çº¿ç¨‹è®¿é—®äº† å®Œæˆåˆå§‹åŒ–å·¥ä½œ
          instance = result = new ThreadSafeDoubleCheckLocking();
        }
      }
    }
    return result;
  }
}</code></pre>
<p>å…³é”®æ˜¯volatileçš„å£°æ˜ï¼ŒåŸå› è§ç¬¬å…­å</p>

          <h5 id="c5f54eed">
            <a name="_root-æšä¸¾æ³•å•ä¾‹" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            æšä¸¾æ³•å•ä¾‹
          </h5><pre><code class="language-java">public enum EnumSingleton {
  INSTANCE;
  @Override
  public String toString() {
    return getDeclaringClass().getCanonicalName() + &quot;@&quot; + hashCode();
  }
}</code></pre>
<p>ä¹Ÿæ˜¯åˆ©ç”¨æšä¸¾çš„ç‰¹ç‚¹ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œç®€å•ã€ç›´æ¥ã€çœäº‹ã€å¯ç”¨</p>
<p>å•ä¾‹çš„æšä¸¾å®ç°åœ¨ã€ŠEffective Javaã€‹ä¸­æœ‰æåˆ°ï¼Œå› ä¸ºå…¶<strong>åŠŸèƒ½å®Œæ•´ã€ä½¿ç”¨ç®€æ´ã€æ— å¿åœ°æä¾›äº†åºåˆ—åŒ–æœºåˆ¶ã€åœ¨é¢å¯¹å¤æ‚çš„åºåˆ—åŒ–æˆ–è€…åå°„æ”»å‡»æ—¶ä»ç„¶å¯ä»¥ç»å¯¹é˜²æ­¢å¤šæ¬¡å®ä¾‹åŒ–</strong>ç­‰ä¼˜ç‚¹ï¼Œå•å…ƒç´ çš„æšä¸¾ç±»å‹è¢«ä½œè€…è®¤ä¸ºæ˜¯å®ç°Singletonçš„æœ€ä½³æ–¹æ³•ã€‚ </p>
<p>å…·ä½“å¯ä»¥å‚è€ƒï¼š<a href="https://blog.csdn.net/gavin_dyson/article/details/70832185">https://blog.csdn.net/gavin_dyson/article/details/70832185</a></p>
<p>é‡Œé¢è¯´äº†ï¼Œä¸ºä»€ä¹ˆæšä¸¾ç±»ä¼šæœ‰ä¸€æ¬¡æ€§é”çš„æ•ˆæœï¼Œå…¶å®æšä¸¾æ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œæœ¬è´¨æ˜¯ä¸Šåˆ©ç”¨çš„è¿˜æ˜¯é™æ€ç‰¹æ€§ï¼Œç„¶åå› ä¸º<strong>è¯­æ³•ç³–æªåœ¨ä¸€èµ·ï¼ˆè‡ªåˆ›è¯´æ³•ï¼‰</strong>çš„åŸå› ï¼Œåºåˆ—åŒ–ç»å¯¹å®‰å…¨</p>

          <h4 id="7dc02492">
            <a name="_root-æ€»ç»“" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            æ€»ç»“
          </h4><p>è¿™ä¹ˆå¤šå•ä¾‹ï¼Œæœ€å¥½çš„å®ç°æ— ç–‘æ˜¯æœ€åä¸‰ç§ï¼Œæœ€åä¸‰ç§å„è‡ªæœ‰å„è‡ªçš„ä¼˜ç‚¹</p>
<ul>
<li><strong>é™æ€å†…éƒ¨ç±»å®ç°ï¼š</strong>æ‰€æœ‰ç‰ˆæœ¬é€šç”¨ï¼Œå¸¸è§„ä¸”æœ‰æ•ˆ</li>
<li><strong>volatileåŒé‡æ£€æŸ¥é”å®ç°ï¼š</strong>åªé€‚ç”¨JDK1.5ä»¥ä¸Šï¼Œæ­£å¼åˆ‡æœ‰æ•ˆ</li>
<li><strong>æšä¸¾æ³•å®ç°ï¼š</strong>èœœæ±å®ç°ï¼Œç®€å•æš´åŠ›çœäº‹é«˜æ•ˆï¼Œä½†æ˜¯ä¸æ˜“ç†è§£å…¶ç‰¹æ€§</li>
</ul>
<p>å¤šæä¸€å¥ï¼Œé¥¿æ±‰å¼å†™æ³•æ²¡æœ‰ç»å¯¹çš„æ¼æ´ï¼Œåªæ˜¯å¦‚æœä½ çš„å®ä¾‹å†…å®¹å¦‚æœå¤šï¼Œå ç”¨ç©ºé—´å¤§ï¼Œè€Œä¸”æ²¡æœ‰ä¸€å¼€å§‹å°±éœ€è¦ä¼´éšç³»ç»Ÿåˆå§‹åŒ–çš„å¿…è¦çš„è¯ï¼Œæœ‰ç‚¹æµªè´¹èµ„æºï¼Œå…¶ä»–ä¹Ÿæ²¡å·®ã€‚</p>
<hr>

          <h3 id="7ac53fb1">
            <a name="_root-Observer/Dependents/Publisher-Subscriber" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Observer/Dependents/Publisher-Subscriber
          </h3><p>è§‚å¯Ÿè€…æ¨¡å¼æ„åœ¨å»ºç«‹ä¸€ç§ä¸€å¯¹å¤šçš„å…³è”å…³ç³»ï¼Œåœ¨è¿™ä¸ªå…³ç³»ä¸­ï¼Œä»»æ„å…¶ä¸­ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿäº†çŠ¶æ€å˜åŒ–ï¼Œå…¶ä»–å¯¹è±¡éƒ½å¯ä»¥è‡ªåŠ¨æ„ŸçŸ¥åˆ°è¿™ä¸ªå˜åŒ–ã€‚</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼åˆç§°ä¸ºï¼šå…³è”æ¨¡å¼ã€å‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼</p>
<p>è¿™æ ·çš„å…³ç³»å¾ˆå®¹æ˜“ç†è§£ï¼Œå°±åƒç”µè§†å°æ’­æŠ¥çš„å¤©æ°”é¢„æŠ¥ä¸€æ ·ï¼Œå¤©æ°”ä¸€å˜ï¼Œæ°”è±¡å°å°±ä¼šå‘é€å˜åŠ¨å¤©æ°”çš„çŸ­ä¿¡ç»™å½“åœ°ç”¨æˆ·ï¼Œæ­¦æ±‰å°±ä¸€å¤©è‡³å°‘2å°é«˜æ¸©é¢„è­¦çš„çŸ­ä¿¡- -</p>
<p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹</p>

          <h4 id="5b546619">
            <a name="_root-Subject/Publisher" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Subject/Publisher
          </h4><pre><code class="language-java">/**
 * Weatherå¯¹è±¡å¯ä»¥è¢«å®ç°äº†è§‚å¯Ÿè€…æ¥å£WeatherObserverå¹¶ä¸”åœ¨Weatherå¯¹è±¡è¿™é‡Œæ³¨å†Œä¸ºè§‚å¯Ÿè€…çš„å¯¹è±¡æ‰èƒ½æ¥å—
 * è¯¥Weatherå¯¹è±¡çš„å‘å¸ƒå†…å®¹
 */
public class Weather {
  private WeatherType currentWeather;
  private List&lt;WeatherObserver&gt; observers;
  public Weather() {
    observers = new ArrayList&lt;&gt;();
    currentWeather = WeatherType.SUNNY;
  }
  // æ³¨å†Œè®¢é˜…è€…
  public void addObserver(WeatherObserver obs) {
    observers.add(obs);
  }
  // æ³¨é”€è®¢é˜…è€…
  public void removeObserver(WeatherObserver obs) {
    observers.remove(obs);
  }
  // çŠ¶æ€å˜æ›´
  public void timePasses() {
    WeatherType[] enumValues = WeatherType.values();
    currentWeather = enumValues[(currentWeather.ordinal() + 1) % enumValues.length];
    notifyObservers();        // é€šçŸ¥
  }
  // å‘å¸ƒè®¢é˜…åˆ°æ‰€æœ‰è®¢é˜…è€…
  private void notifyObservers() {
    for (WeatherObserver obs : observers) {
      obs.update(currentWeather);
    }
  }
}
public enum WeatherType {
  SUNNY, RAINY, WINDY, COLD;
  @Override
  public String toString() {
    return this.name().toLowerCase();
  }
}</code></pre>

          <h4 id="3c91fa87">
            <a name="_root-è§‚å¯Ÿè€…æ¥å£" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            è§‚å¯Ÿè€…æ¥å£
          </h4><pre><code class="language-java">public interface WeatherObserver {
  void update(WeatherType currentWeather);
}</code></pre>

          <h4 id="13522d5d">
            <a name="_root-Observer/Subscriber" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Observer/Subscriber
          </h4><pre><code class="language-java">public class Orcs implements WeatherObserver {
  @Override
  public void update(WeatherType currentWeather) {
    switch (currentWeather) {
      // æ ¹æ®çŠ¶æ€é€‰æ‹©å¯¹åº”é€»è¾‘
    }
  }
}</code></pre>

          <h4 id="7817b9b0">
            <a name="_root-Main" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Main
          </h4><pre><code class="language-java">  public static void main(String[] args) {
    Weather weather = new Weather();
    weather.addObserver(new Orcs());
    weather.timePasses();
    weather.timePasses();
    weather.timePasses();
    weather.timePasses();
  }</code></pre>

          <h4 id="daa6491d">
            <a name="_root-é€šç”¨æ¨¡æ¿" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            é€šç”¨æ¨¡æ¿
          </h4>
          <h5 id="c2ce374">
            <a name="_root-AbstractSubject" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            AbstractSubject
          </h5><pre><code class="language-java">/**
 * åŸºäºæ³›å‹å’Œé›†åˆæ¡†æ¶çš„é€šç”¨Subjectæ¨¡æ¿
 * @param &lt;S&gt; Subject
 * @param &lt;O&gt; Observer
 * @param &lt;A&gt; Argument type
 */
public abstract class Observable&lt;
    S extends Observable&lt;S, O, A&gt;,
    O extends Observer&lt;S, O, A&gt;, 
    A&gt; {

  protected List&lt;O&gt; observers;
  public Observable() {
      this.observers = new CopyOnWriteArrayList&lt;&gt;();    // çº¿ç¨‹å®‰å…¨çš„å®ç°
  }
  public void addObserver(O observer) {
      this.observers.add(observer);
  }
  public void removeObserver(O observer) {
      this.observers.remove(observer);
  }
  public void notifyObservers(A argument) {
    for (O observer : observers) {
      observer.update((S) this, argument);
    }
  }
}</code></pre>

          <h5 id="b854e889">
            <a name="_root-Observer-Interface" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Observer-Interface
          </h5><p>è§‚å¯Ÿè€…æ¥å£çš„æœ€é¡¶å±‚æŠ½è±¡æ¥å£</p>
<pre><code class="language-java">/**
 * Observer
 * @param &lt;S&gt; Observable
 * @param &lt;O&gt; Observer
 * @param &lt;A&gt; Action
 */
public interface Observer&lt;S extends Observable&lt;S, O, A&gt;, 
                          O extends Observer&lt;S, O, A&gt;, 
                          A&gt; {

  void update(S subject, A argument);
}</code></pre>

          <h5 id="97d1a77a">
            <a name="_root-Observer-Generics-Map" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Observer-Generics-Map
          </h5><p>è§„å®šå¥½æ³›å‹çš„è§‚å¯Ÿè€…æ¥å£</p>
<pre><code class="language-java">public interface Race extends Observer&lt;GWeather, Race, WeatherType&gt; {
}</code></pre>

          <h5 id="8675ea71">
            <a name="_root-Subject-Implement" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Subject-Implement
          </h5><pre><code class="language-java">public class GWeather extends Observable&lt;GWeather, Race, WeatherType&gt; {
  private WeatherType currentWeather;
  public GWeather() {
    currentWeather = WeatherType.SUNNY;
  }
  // çŠ¶æ€å˜æ›´
  public void timePasses() {
    WeatherType[] enumValues = WeatherType.values();
    currentWeather = enumValues[(currentWeather.ordinal() + 1) % enumValues.length];
    LOGGER.info(&quot;The weather changed to {}.&quot;, currentWeather);
    notifyObservers(currentWeather);  //é€šçŸ¥
  }
}</code></pre>

          <h5 id="6236b893">
            <a name="_root-Observer-implement" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Observer-implement
          </h5><pre><code class="language-java">public class GOrcs implements Race {

  @Override
  public void update(GWeather weather, WeatherType weatherType) {
    switch (weatherType) {
      // ...
    }
  }
}</code></pre>

          <h5 id="f108926">
            <a name="_root-Main" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Main
          </h5><pre><code class="language-java">  public static void main(String[] args) {
    GWeather gWeather = new GWeather();
    gWeather.addObserver(new GOrcs());
    gWeather.addObserver(new GHobbits());

    gWeather.timePasses();
    gWeather.timePasses();
    gWeather.timePasses();
    gWeather.timePasses();
  }</code></pre>

          <h4 id="7dc02492">
            <a name="_root-æ€»ç»“" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            æ€»ç»“
          </h4><p>æ€»çš„æ¥è¯´å°±æ˜¯ï¼š<strong>è§‚å¯Ÿè€…æŠŠè‡ªå·±çš„å¼•ç”¨æ³¨å†Œåˆ°å‘å¸ƒè€…ç»™çš„æ¥å£ä¸­ï¼Œå‘å¸ƒè€…æ¯æ¬¡çŠ¶æ€å˜æ›´å°±é€šçŸ¥æ‰€æœ‰æ³¨å†Œäº†çš„å¼•ç”¨ã€‚</strong></p>
<hr>

          <h3 id="5d2e0ceb">
            <a name="_root-Decorator/Wrapper" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Decorator/Wrapper
          </h3><p>è£…é¥°å™¨ï¼ˆä¹Ÿç§°åŒ…è£…å™¨ï¼‰çš„æ„å›¾æ˜¯<strong>åŠ¨æ€ï¼ˆè¿è¡Œæ—¶ï¼‰ã€å¼¹æ€§çš„ï¼ˆå¯é€‰ï¼‰ã€æ— ä¾µå…¥çš„ï¼ˆä¸æ”¹æºç ï¼‰</strong>åœ°ç»™æŸä¸ªç±»æ·»åŠ åŠŸèƒ½æˆ–è€…å¢å¼ºåŠŸèƒ½ã€‚</p>
<p>å‚è€ƒé¡¹ç›®çš„ä½œè€…<code>iluwatter</code>æœ‰è¿™æ ·ä¸€æ®µæ¯”å–»ï¼š</p>
<blockquote>
<p>é™„è¿‘çš„å±±é‡Œæœ‰ä¸€åªå·¨é­”ï¼ˆTrollï¼‰ï¼Œä»–å¹³æ—¶éƒ½ç©ºç€æ‰‹ï¼Œå¶å°”ä¹Ÿä¼šæ‹¿ç€æ­¦å™¨ï¼›</p>
<p>å¦‚æœä½ è¦è®©åŒä¸€åªå·¨é­”æ‹¿ç€æ­¦å™¨çš„è¯ï¼Œä½ ä¸éœ€è¦newä¸€åªä¸€æ¨¡ä¸€æ ·çš„å·¨é­”ï¼Œä½ åªéœ€è¦åŒ…è£…è¿™åªå·¨é­”å°±å¥½äº†[doge]</p>
</blockquote>

          <h4 id="e6745c7d">
            <a name="_root-Object-Interface and Simple Implement" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Object-Interface and Simple Implement
          </h4><pre><code class="language-java">public interface Troll {
  void attack();
  int getAttackPower();
}

public class SimpleTroll implements Troll {
  @Override
  public void attack() {
    System.out.println(&quot;hp - &quot; + this.getAttackPower());
  }
  @Override
  public int getAttackPower() {
    return 10;
  }
}</code></pre>
<p>ç°åœ¨æˆ‘ä»¬æœ‰ä¸€åªæ”»å‡»åŠ›+10çš„å·¨é­”ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»™å®ƒæŠŠæ— å°½</p>

          <h4 id="38663633">
            <a name="_root-Decorator" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Decorator
          </h4><pre><code class="language-java">public class ClubbedTroll implements Troll {
  private Troll decorated;
  public ClubbedTroll(Troll decorated) {
    this.decorated = decorated;
  }
  @Override
  public void attack() {
    System.out.println(&quot;hp - &quot; + this.getAttackPower());
  }
  @Override
  public int getAttackPower() {
    return decorated.getAttackPower() + 100;
  }
}</code></pre>

          <h4 id="7817b9b0">
            <a name="_root-Main" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Main
          </h4><pre><code class="language-java">// ç©ºæ‰‹å·¨é­”
Troll troll = new SimpleTroll();
troll.attack(); // å¹³Aæ— æš´å‡»

// å‡ºæ— å°½çš„å·¨é­”
troll = new ClubbedTroll(troll);
troll.attack(); // æš´å‡»ï¼</code></pre>

          <h4 id="7dc02492">
            <a name="_root-æ€»ç»“" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            æ€»ç»“
          </h4><p>æ„Ÿè§‰å’ŒAOPå·®ä¸å¤šï¼Œåªä¸è¿‡å®ç°æ€è·¯å’Œéœ€æ±‚ä¸ä¸€æ ·</p>
<hr>

          <h3 id="3f66529b">
            <a name="_root-Adapter/Wrapper" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Adapter/Wrapper
          </h3><p>é€‚é…å™¨æ¨¡å¼ï¼Œä¹Ÿæ˜¯åŒ…è£…æ¨¡å¼çš„ä¸€ç§ï¼Œå®ƒå’Œè£…é¥°å™¨æ¨¡å¼æœ‰ä¸€æ–¹é¢åƒçš„ä¸€ç‚¹å°±æ˜¯ï¼Œå®ƒä»¬éƒ½æ˜¯åŒ…è£…è¦ä½¿ç”¨çš„ç±»ï¼Œåªä¸è¿‡è£…é¥°å™¨æ˜¯é’ˆå¯¹åŒä¸€ç§ç±»å»åŒ…è£…ï¼Œä¼å›¾å¼ºåŒ–è¿™ä¸ªç±»ï¼›è€Œé€‚é…å™¨æ˜¯è¦åŒ…è£…ä¸¤ä¸ªç±»ä¸ºä¸€ä¸ªç»Ÿä¸€çš„ç±»ï¼Œåœ¨é€‚é…å™¨é‡Œå…¼å®¹ä¸€ä¸ªç±»çš„è¾“å‡ºï¼Œè®©å®ƒçš„è¾“å‡ºä¸ºå¦ä¸€ä¸ªç±»å¯ç”¨çš„è¾“å…¥ï¼Œé€‚é…å™¨è¾“å‡ºè¿™å¦ä¸€ä¸ªç±»çš„è¾“å‡ºï¼Œä¼å›¾è®©è¿™ä¸¤ä¸ªç±»è”åˆå·¥ä½œã€‚</p>
<p>å‚è€ƒé¡¹ç›®çš„ä½œè€…<code>iluwatter</code>æœ‰è¿™æ ·ä¸€æ®µæ¯”å–»ï¼š</p>
<blockquote>
<p>å‡è®¾ä½ æƒ³å°†ä½ å†…å­˜å¡ä¸Šçš„ä¸€äº›å›¾ç‰‡ä¼ åˆ°ä½ ç”µè„‘ä¸Šå»ï¼Œä½ éœ€è¦ä¸€ç§é€‚é…å™¨ï¼Œè¿™ä¸ªé€‚é…å™¨å¯ä»¥é€‚ç”¨äºä½ ç”µè„‘çš„ç«¯å£ï¼Œè¿™æ ·ä½ æ‰èƒ½å°†ä½ çš„å†…å­˜å¡è£…è½½åˆ°ä½ çš„ç”µè„‘ä¸Šå»ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œè¯»å¡å™¨å°±æ˜¯ä¸€ä¸ªé€‚é…å™¨ã€‚</p>
</blockquote>
<p>ä¸“ä¸šçš„è§£é‡Šå°±æ˜¯ï¼š</p>
<blockquote>
<p>é€‚é…å™¨æ˜¯è¦åŒ…è£…ä¸¤ä¸ªç±»ä¸ºä¸€ä¸ªç»Ÿä¸€çš„ç±»ï¼Œåœ¨é€‚é…å™¨é‡Œå…¼å®¹ä¸€ä¸ªç±»çš„è¾“å‡ºï¼Œè®©å®ƒçš„è¾“å‡ºä¸ºå¦ä¸€ä¸ªç±»å¯ç”¨çš„è¾“å…¥ï¼Œé€‚é…å™¨è¾“å‡ºè¿™å¦ä¸€ä¸ªç±»çš„è¾“å‡ºï¼Œä¼å›¾è®©è¿™ä¸¤ä¸ªç±»è”åˆå·¥ä½œã€‚ï¼ˆè¿™è¯æ˜¯æˆ‘è¯´çš„~ï¼‰</p>
</blockquote>

          <h4 id="79689c11">
            <a name="_root-Two Interfaces" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Two Interfaces
          </h4><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹é€‚é…å™¨è¦é€‚é…çš„ä¸¤ä¸ªå¯¹è±¡ç±»ï¼Œåœºæ™¯å¦‚ä¸‹ï¼š<code>å‡è®¾èˆ¹é•¿åªä¼šåˆ’èˆ¹ï¼Œå¹¶ä¸ä¼šèˆªæµ·ï¼Œä½†æ˜¯æ—è¾¹æœ‰ä¸€è‰˜æ¸”èˆ¹å¯ä»¥å‡ºæµ·</code>ï¼Œäºæ˜¯æˆ‘ä»¬å…ˆæœ‰ä¸¤ä¸ªæ¥å£ï¼Œåˆ’èˆ¹åªèƒ½åˆ’æ°´ï¼Œæ¸”èˆ¹å¯ä»¥èˆªæµ·ï¼š</p>
<pre><code class="language-java">public interface RowingBoat {
  void row();
}

public class FishingBoat {
  public void sail() {
    System.out.println(&quot;The fishing boat is sailing&quot;);
  }
}</code></pre>

          <h4 id="3dfa5ede">
            <a name="_root-User" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            User
          </h4><p>å†æ¥çœ‹çœ‹æˆ‘ä»¬çš„èˆ¹é•¿ï¼š</p>
<pre><code class="language-java">public class Captain implements RowingBoat {

  private RowingBoat rowingBoat;

  public Captain(RowingBoat rowingBoat) {
    this.rowingBoat = rowingBoat;
  }

  @Override
  public void row() {
    rowingBoat.row();
  }
}</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®çš„åœ°æ–¹ï¼Œèˆ¹é•¿å®ç°RowingBoatç±»çš„æ–¹å¼æ˜¯è§£è€¦çš„ï¼Œæ˜¯ä¼ å…¥ä¸€ä¸ªRowingBoatå¯¹è±¡ï¼ŒåŸºäºè¿™ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªé€‚é…å™¨</p>

          <h4 id="536a981d">
            <a name="_root-Adapter" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Adapter
          </h4><pre><code class="language-java">public class FishingBoatAdapter implements RowingBoat {
  private FishingBoat boat;
  public FishingBoatAdapter() {
    boat = new FishingBoat();
  }
  @Override
  public void row() {
    boat.sail();
  }
}</code></pre>
<p>åœ¨è¿™ä¸ªé€‚é…å™¨ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å°†<code>RowingBoat</code>ä¸­çš„<code>row()</code>æ–¹æ³•å®ç°ä¸º<code>FishingBoat</code>çš„<code>sail()</code>æ–¹æ³•</p>

          <h4 id="7817b9b0">
            <a name="_root-Main" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Main
          </h4><pre><code class="language-java">Captain captain = new Captain(new FishingBoatAdapter());
captain.row();</code></pre>

          <h4 id="7dc02492">
            <a name="_root-æ€»ç»“" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            æ€»ç»“
          </h4><p>æ€»çš„æ¥è¯´ï¼Œé€‚é…å™¨å’Œè£…é¥°å™¨å·®ä¸å¤šï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œæˆ‘ä»¬çš„ä½¿ç”¨è€…éœ€è¦å¯¹åŸæ¥çš„å¯¹è±¡æœ‰è‰¯å¥½çš„è§£è€¦æ”¯æŒï¼Œè¿™æ ·æˆ‘ä»¬é€‚é…åçš„å¯¹è±¡æ‰èƒ½æ›´å¥½åœ°è¢«ä½¿ç”¨è€…ä½¿ç”¨ã€‚</p>
<hr>

          <h3 id="503e906b">
            <a name="_root-Factory" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Factory
          </h3><p>å·¥å‚æ¨¡å¼ï¼Œåœ¨å·¥ç¨‹åŒ–ç¼–ç¨‹ä¸­æœ‰ç€ä¸¾è¶³è½»é‡çš„åœ°ä½ï¼Œå°†å¯¹è±¡çš„åˆ›å»ºã€å‚æ•°åˆ†æ´¾ç­‰è¡Œä¸ºå·¥ç¨‹åŒ–ï¼Œæ˜¯ä¸€ä¸ªé¡¹ç›®ä¸¥è°¨ç¼–å†™çš„ç¬¬ä¸€æ­¥ä½“ç°ã€‚</p>
<p>é¡¹ç›®çš„ä½œè€…å†™åˆ†åˆ«å¼•äº†<code>Factory-method</code>å’Œ<code>Factory-kit</code>ä¸¤éƒ¨åˆ†ï¼Œæˆ‘ä»¬å…ˆä»methodå¼€å§‹è¯´èµ·</p>

          <h4 id="96a0075a">
            <a name="_root-Factory-method" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Factory-method
          </h4><p>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œæ˜¯è¦å®šä¹‰ä¸€ä¸ªä¸“é—¨ç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œåªä¸è¿‡åˆ›å»ºå¯¹è±¡çš„æ–¹å¼æ˜¯è®©å®ç°å­ç±»å»å†³å®šåº”è¯¥åˆ›å»ºå…·ä½“å“ªä¸€ä¸ªå¯¹è±¡ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼<strong>è®©ä¸€ä¸ªç±»å°†å®ä¾‹åŒ–è¿‡ç¨‹å»¶è¿Ÿåˆ°å­ç±»ä¸Š</strong>ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹æ¯”å–»ï¼š</p>
<blockquote>
<p> ä¸€ä¸ªé“åŒ ï¼ˆBlackSmithï¼‰æ‰“é€ ï¼ˆmanufactureï¼‰æ­¦å™¨ï¼Œç²¾çµï¼ˆElvesï¼‰è¦æ±‚ä½¿ç”¨å°å·§çš„ï¼ˆElvishï¼‰æ­¦å™¨ï¼ŒåŠå…½äººï¼ˆOrcsï¼‰è¦æ±‚ä½¿ç”¨é‡å‹æ­¦å™¨ï¼ˆOrcishï¼‰ã€‚æ ¹æ®å®¢æˆ·è¦æ±‚çš„ä¸åŒä¼šå¬é›†åˆ°æ‰“é€ åŒä¸€ç±»å‹æ­¦å™¨çš„é“åŒ ã€‚</p>
</blockquote>
<p>ä¸“ä¸šçš„è§£é‡Šï¼š</p>
<blockquote>
<p>å°†å®ä¾‹åŒ–è¿‡ç¨‹çš„é€»è¾‘ä»¥å§”æ´¾æ–¹å¼æä¾›ç»™å­ç±»</p>
</blockquote>

          <h5 id="54aec570">
            <a name="_root-Factory Interface" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Factory Interface
          </h5><pre><code class="language-java">public interface Blacksmith {
  Weapon manufactureWeapon(WeaponType weaponType);
}</code></pre>
<p>é¦–å…ˆæˆ‘ä»¬æœ‰ä¸ªå·¥å‚ç±»ï¼Œè¿™ä¸ªç±»ä»£è¡¨èƒ½å¤Ÿåˆ¶é€ æ­¦å™¨çš„å·¥åŒ ï¼ˆå…ˆä¸ç®¡å¯ä»¥åˆ¶é€ ä»€ä¹ˆç±»å‹çš„æ­¦å™¨ï¼‰</p>
<p>ç„¶åä¸‹é¢å°±æ˜¯æ­¦å™¨çš„æŠ½è±¡æ¥å£å’Œæ­¦å™¨çš„ç±»å‹</p>

          <h5 id="904133d5">
            <a name="_root-Product Interface" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Product Interface
          </h5><pre><code class="language-java">public interface Weapon {
  WeaponType getWeaponType();
}
public enum WeaponType {
  SHORT_SWORD(&quot;short sword&quot;), SPEAR(&quot;spear&quot;), AXE(&quot;axe&quot;), UNDEFINED(&quot;&quot;);
  private String title;
  WeaponType(String title) {
    this.title = title;
  }
  @Override
  public String toString() {
    return title;
  }
}</code></pre>

          <h5 id="5dce923f">
            <a name="_root-Different Instance Class" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Different Instance Class
          </h5><p>ç„¶åæˆ‘ä»¬æœ‰ä¸åŒçš„å®ä¾‹ç±»ï¼Œåˆ†åˆ«æ˜¯ç²¾çµæ­¦å™¨å’Œå…½äººæ­¦å™¨</p>
<pre><code class="language-java">public class ElfWeapon implements Weapon {
  private WeaponType weaponType;
  public ElfWeapon(WeaponType weaponType) {this.weaponType = weaponType;}
  @Override
  public String toString() {return &quot;Elven &quot; + weaponType;}
  @Override
  public WeaponType getWeaponType() {return weaponType;}
}
// ============================
public class OrcWeapon implements Weapon {
  private WeaponType weaponType;
  public OrcWeapon(WeaponType weaponType) {this.weaponType = weaponType;}
  @Override
  public String toString() {return &quot;Orcish &quot; + weaponType;}
  @Override
  public WeaponType getWeaponType() {return weaponType;}
}</code></pre>

          <h5 id="c4ecb97a">
            <a name="_root-Different Factory Class" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Different Factory Class
          </h5><p>ç„¶åæˆ‘ä»¬æœ‰ä¸åŒçš„å·¥å‚ç±»ï¼Œåˆ†åˆ«æ˜¯ç²¾çµæ­¦å™¨å·¥åŒ å’Œå…½äººæ­¦å™¨å·¥å…·</p>
<pre><code class="language-java">public class ElfBlacksmith implements Blacksmith {
  public Weapon manufactureWeapon(WeaponType weaponType) {
    return new ElfWeapon(weaponType);
  }
}
// =============================
public class OrcBlacksmith implements Blacksmith {
  public Weapon manufactureWeapon(WeaponType weaponType) {
    return new OrcWeapon(weaponType);
  }
}
</code></pre>

          <h5 id="f108926">
            <a name="_root-Main" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Main
          </h5><pre><code class="language-java">public class App {
  private final Blacksmith blacksmith;
  public App(Blacksmith blacksmith) {
    this.blacksmith = blacksmith;
  }

  public static void main(String[] args) {
    // Lets go to war with Orc weapons
    App app = new App(new OrcBlacksmith());
    app.manufactureWeapons();

    // Lets go to war with Elf weapons
    app = new App(new ElfBlacksmith());
    app.manufactureWeapons();
  }

  private void manufactureWeapons() {
    Weapon weapon;
    weapon = blacksmith.manufactureWeapon(WeaponType.SPEAR);
    //weapon = blacksmith.manufactureWeapon(WeaponType.AXE);
  }
}</code></pre>
<p>é€šè¿‡ä¸Šé¢çš„<code>Factory-method</code>çš„ä¾‹å­ï¼Œä¸éš¾å‘ç°ä»£ç çš„è§£è€¦æ€§è¿˜æ˜¯ä¸é«˜ï¼Œæ„Ÿè§‰åˆ›é€ è€…å’Œå·¥å‚æœ¬èº«ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µè¿˜æ˜¯æœ‰ç‚¹æ‘¸æ£±ä¸¤å¯çš„ï¼Œæˆ‘ä»¬åœ¨æ­£ç¡®åœ°ç†é¡ºä¸€ä¸‹å·¥å‚æ¨¡å¼åˆ°åº•æ€ä¹ˆå›äº‹ï¼š</p>
<blockquote>
<ol>
<li>é¦–å…ˆä¸€ä¸ªå·¥å‚ï¼ˆFactoryï¼‰åªç”Ÿäº§åŒä¸€ç±»äº§å“ï¼ˆProductï¼‰ï¼Œè¿™é‡Œå°†å·¥å‚æ˜ å°„ä¸º<code>BlackSmith interface</code>æ¥å£ï¼Œä»–å¯ä»¥åˆ¶é€ <code>Weapon</code>å¯¹è±¡</li>
<li>å…¶æ¬¡äº§å“æœ‰å¾ˆå¤šç§äº§å“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹ŸæŠŠäº§å“æŠ½è±¡æˆæ¥å£<code>Weapon interface</code></li>
<li>é‚£ä¹ˆæˆ‘ä»¬è¦æŒ‡æ´¾ä¸åŒçš„åˆ›é€ è€…ï¼ˆProducer/Builderï¼‰ï¼Œå»ç”Ÿäº§ä¸åŒçš„äº§å“ï¼Œè¿™å…¶å®å°±æ˜¯ä¸åŒçš„å·¥å‚æ¥å£çš„å®ç°ï¼Œè¿™æ˜ å°„åˆ°çš„å°±æ˜¯<code>ElfBlacksmith</code>å’Œ<code>OrcBlacksmith</code>ï¼Œåˆ†åˆ«ç”Ÿäº§<code>ElfWeapon</code>å’Œ<code>OrcWeapon</code></li>
<li>æœ€ååœ¨Appé‡Œé¢ï¼Œå®Œç¾åœ°ä½¿ç”¨äº†å¤šæ€çš„ç‰¹æ€§ï¼š<strong>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</strong></li>
</ol>
</blockquote>

          <h4 id="4c8bc6e">
            <a name="_root-Factory-kit" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Factory-kit
          </h4><p>ä¸ºäº†æ›´åŠ æ¸…æ™°åŒ–å·¥å‚æ¨¡å¼ï¼Œäºæ˜¯å°±æœ‰äº†<code>Factory-kit</code>ï¼Œæ„å›¾å®šä¹‰ä¸€ä¸ªä¸å˜çš„å¸¸é‡æ¥å°†å·¥åŒ å’Œå·¥å‚åŒºåˆ†å¼€æ¥</p>

          <h5 id="d573dca9">
            <a name="_root-Product" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Product
          </h5><p>æˆ‘ä»¬å…ˆçœ‹äº§å“æœ‰å“ªäº›ï¼š</p>
<pre><code class="language-java">public interface Weapon {
}
public class Axe implements Weapon {
  @Override
  public String toString() {
    return &quot;Axe&quot;;
  }
}
public class Bow implements Weapon {
  @Override
  public String toString() {
    return &quot;Bow&quot;;
  }
}
public class Sword implements Weapon {
  @Override
  public String toString() {
    return &quot;Sword&quot;;
  }
}
public enum WeaponType {
  SWORD, AXE, BOW
}</code></pre>

          <h5 id="72119763">
            <a name="_root-Builder" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Builder
          </h5><p>å†çœ‹çœ‹å·¥åŒ ï¼Œè¿™é‡Œç”¨åˆ°äº†Java8çš„å‡½æ•°å¼ç‰¹æ€§ï¼Œä¼ å…¥ä¸€ä¸ªä¾›ç»™è€…å¯¹è±¡</p>
<pre><code class="language-java">public interface Builder {
  void add(WeaponType name, Supplier&lt;Weapon&gt; supplier);            // 4
}</code></pre>

          <h5 id="b95d355e">
            <a name="_root-Factory" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Factory
          </h5><p>æ¥ä¸‹æ¥å°±æ˜¯é‡ç‚¹ï¼Œçœ‹çœ‹æˆ‘ä»¬çš„å·¥å‚æ˜¯å¦‚ä½•åè°ƒå·¥åŒ å’Œäº§å“çš„</p>
<pre><code class="language-java">public interface WeaponFactory {
  // åˆ¶é€ æ­¦å™¨ï¼Œæ ¹æ®ä¼ å…¥çš„WeaponTypeé€‰å–å·¥å‚ä¸­å­˜åœ¨çš„å·¥åŒ åˆ¶é€ æƒ³å¯¹åº”çš„æ­¦å™¨
  Weapon create(WeaponType name);                                // 6

  // èšé›†å·¥åŒ ï¼Œfactoryè´Ÿè´£ç»´æŠ¤ä¸€ä¸ªmapï¼Œä¸€ç§æ­¦å™¨ç±»å‹å¯¹åº”ä¸€ç±»å·¥åŒ 
  static WeaponFactory factory(Consumer&lt;Builder&gt; consumer) {    // 1.2
    Map&lt;WeaponType, Supplier&lt;Weapon&gt;&gt; map = new HashMap&lt;&gt;();    // 2
    consumer.accept(map::put);                                    // 3.0
    return name -&gt; map.get(name).get();                            // 5
  }
}</code></pre>

          <h5 id="f108926">
            <a name="_root-Main" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Main
          </h5><pre><code class="language-java">public class App {
  public static void main(String[] args) {
    WeaponFactory factory = WeaponFactory.factory(builder -&gt; {    // 1.1
      builder.add(WeaponType.SWORD, Sword::new);                // 3.1
      builder.add(WeaponType.AXE, Axe::new);                    // 3.2
      builder.add(WeaponType.SPEAR, Spear::new);                // 3.3
      builder.add(WeaponType.BOW, Bow::new);                    // 3.4
    });
    Weapon axe = factory.create(WeaponType.AXE);
    System.out.println(axe.toString());
  }
}</code></pre>
<p>è¿™é‡Œæœ‰ä¸€æ®µç¨å¾®éš¾æ‡‚çš„æ–¹æ³•å¼•ç”¨è¯­æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼Œè·Ÿç€æ ‡å·èµ°</p>
<ol>
<li>é¦–å…ˆä¼ å…¥ä¸€ä¸ª<code>consumer</code>å¯¹è±¡ï¼ˆ1.1-1.2ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯Builderï¼Œå®ƒè¦å®ç°çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯<code>add</code>æ–¹æ³•ï¼Œåœ¨æ‹¬å·å†…æˆ‘ä»¬æ³¨æ„åˆ°ä»–åˆ©ç”¨<code>builder</code>è°ƒç”¨äº†å¤šæ¬¡<code>add</code>æ–¹æ³•ï¼Œå°†æ­¦å™¨ç±»å‹å’Œæ­¦å™¨å¯¹è±¡ä¸€ä¸€å¯¹åº”äº†èµ·æ¥ï¼›</li>
<li>ç»´æŠ¤ä¸€ä¸ªmapï¼Œç”¨ä½œæ˜ å°„æ­¦å™¨ç±»å‹åå­—å’Œæ­¦å™¨åˆ¶é€ æ–¹æ³•ï¼ˆSuplierï¼‰è¿™ä¸ªæ­¦å™¨åˆ¶é€ æ–¹æ³•å¯ä»¥åˆ¶é€ ä¸€ç§æ­¦å™¨</li>
<li>3.0çš„ä»£ç ä»£è¡¨ï¼Œ<code>builder.add(a, b)</code>ä¼ å…¥çš„å‚æ•°aå’Œbè¢«è¿™ä¸ªmapçš„<code>put</code>æ–¹æ³•æ‰€æ¥ç®¡ï¼Œåœ¨è¿™ä¸ªæ„ä¹‰ä¸Šï¼Œæˆ‘ä»¬åœ¨<code>Main</code>ä¸­çœ‹åˆ°çš„3.1-3.4ç›¸å½“äºåœ¨<code>Factory.factory()</code>æ–¹æ³•ä¸­è°ƒç”¨mapçš„<code>put</code>æ–¹æ³•ï¼Œæˆ‘ä»¬çœ‹åˆ°3.1-3.4åä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ„é€ æ–¹æ³•å¼•ç”¨ï¼Œç”¨äºä½œä¸ºSuplierå¯¹è±¡æ¥ç›´æ¥è¿”å›ä¸€ä¸ªæ­¦å™¨å¯¹è±¡</li>
<li>å¾€ä¸Šçœ‹åˆ°çš„æ˜¯Builderçš„addæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•çš„å®ç°è¢«3.0æ¥ç®¡äº†</li>
<li>çœ‹åˆ°è¿™ä¸ªreturnè¯­å¥ï¼Œåƒä¸‡ä¸è¦ä¼šé”™æ„ï¼Œè¿™ä¸ªreturnè¯­å¥å…¶å®æ˜¯ä¸Šé¢<code>create</code>æ–¹æ³•çš„å®ç°è¯­å¥ï¼Œç”¨äºè¿”å›ä¸€ä»¶æ­¦å™¨</li>
<li>è¿™æ®µå®ç°çœŸçš„æ˜¯æ— æ¯”çš„è¿·ï¼Œæ¯«æ— é€»è¾‘å¯è¨€</li>
</ol>
<p>å¤§è‡´çœ‹æ‡‚è¿™æ®µè¯­æ³•ç³–ä¹‹åï¼Œå¯ä»¥è‡ªå·±å°è¯•å®ç°ä¸€ä¸ªå¹³æ°‘ç‰ˆçš„å·¥å‚Kitï¼Œå‡½æ•°å¼ç¼–ç¨‹å¾ˆå¤§ç¨‹åº¦ä¸Šæ‰­æ›²äº†Javaç¨‹åºç¼–ç¨‹çš„ç›´æ¥æ„å›¾ï¼Œè®©ç¨‹åºæ™¦æ¶©éš¾æ‡‚ï¼Œå¤ç°éš¾åº¦å¤§ã€‚</p>

          <h4 id="a00af130">
            <a name="_root-Friendly Factory-kit" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Friendly Factory-kit
          </h4><p>ä¸‹é¢æ˜¯æˆ‘æ”¹è¿›çš„äº²æ°‘ç‰ˆçš„<code>Factory-kit</code>ï¼Œè™½ç„¶ä¹Ÿç”¨åˆ°äº†Lambdaå’Œæ–¹æ³•å¼•ç”¨ï¼Œä½†æ˜¯ç‰¹åˆ«å¼ºè°ƒäº†é¢å‘å¯¹è±¡æ€æƒ³ï¼Œå¹¶ä¸éš¾æ‡‚</p>

          <h5 id="8ce52cb">
            <a name="_root-Interfaces" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Interfaces
          </h5><pre><code class="language-java">public interface Builder {
    Product build();
}
public interface Product {
}</code></pre>
<p>ä¸¤ä¸ªæ¥å£ï¼Œä¸€ä¸ªä»£è¡¨å·¥åŒ ï¼Œæä¾›ä¸€ä¸ª<code>buili()</code>æ–¹æ³•å»è·å–<code>Product</code>ï¼Œä¸€ä¸ª<code>Product</code>æ¥å£ç”¨åšç±»å‹çº¦æŸ</p>

          <h5 id="b95d355e">
            <a name="_root-Factory" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Factory
          </h5><pre><code class="language-java">public class Factory&lt;PT&gt; {
    private HashMap&lt;PT, Builder&gt; builders = new HashMap&lt;&gt;();

    void addBuilder(PT productType, Builder builder) {
        builders.put(productType, builder);
    }

    public Product produce(PT productType) {
        return builders.get(productType).build();
    }
}</code></pre>
<p>æ³¨æ„<code>addBuilder</code>æ–¹æ³•ï¼Œç¬¬äºŒä¸ªå‚æ•°ç›´æ¥å°±æ˜¯Builderï¼Œå› ä¸ºä½ è§‚å¯ŸBuilderå¯ä»¥å‘ç°ï¼ŒBuilderæ¥å£ç›´æ¥å°±å¯ä»¥æ˜¯ä¸€ä¸ª<code>Supplier</code>ï¼Œç”¨ä»¥ç›´æ¥ç”Ÿäº§äº§å“</p>

          <h5 id="73ea4636">
            <a name="_root-Implements" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Implements
          </h5>
          <h6 id="8b55cb1e">
            <a name="_root-Product implemenets" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Product implemenets
          </h6><pre><code class="language-java">public class Axe implements Product {
  @Override
  public String toString() {
    return &quot;Axe&quot;;
  }
}
public class Bow implements Product {
  @Override
  public String toString() {
    return &quot;Bow&quot;;
  }
}
public enum WeaponType {
  AXE, BOW
}</code></pre>

          <h6 id="1672d644">
            <a name="_root-Factory implements" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Factory implements
          </h6><pre><code class="language-java">public class WeaponFactory extends Factory&lt;WeaponType&gt; {
    public WeaponFactory() {
        addBuilder(WeaponType.AXE, Axe::new);
        addBuilder(WeaponType.BOW, () -&gt; new Bow());
    }
}</code></pre>
<p>è¿™é‡Œç¨å¾®ç”¨åˆ°äº†ä¸€äº›Lambdaçš„è¯­æ³•äº†ï¼Œæˆ‘ä»¬åœ¨ç»§æ‰¿<code>Factory</code>çš„æ—¶å€™ï¼Œç”¨æ³›å‹å»è§„å®šäº§å“ç±»å‹ï¼Œç„¶ååœ¨å®ç°å­ç±»çš„æ„é€ æ–¹æ³•é‡Œé¢æ³¨å†Œå·¥åŒ ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œä¼ é€’<code>Builder</code>çš„æ—¶å€™ï¼Œç¬¬ä¸€æ¬¡ä¼ ç”Ÿäº§<code>Axe</code>å¯¹è±¡çš„<code>Builder</code>çš„æ—¶å€™ï¼Œæˆ‘ç›´æ¥ä½¿ç”¨äº†<code>Axe</code>çš„æ„é€ æ–¹æ³•å¼•ç”¨ï¼Œè¿™å…¶å®æ˜¯<strong>åˆå§‹åŒ–äº†ä¸€ä¸ªä¸“é—¨ç”Ÿäº§<code>Axe</code>å¯¹è±¡çš„<code>Builder</code>å¯¹è±¡ï¼Œè¿™ä¸ª<code>Builder</code>å¯¹è±¡çš„<code>build</code>æ–¹æ³•çš„å®ç°å°±æ˜¯è¿”å›ç”Ÿæˆçš„<code>Axe</code>å¯¹è±¡</strong>ï¼Œå¦‚æœä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œå¯ä»¥çœ‹ç¬¬äºŒæ¬¡ä¼ å…¥ç”Ÿäº§<code>Bow</code>å¯¹è±¡çš„<code>Builder</code>å¯¹è±¡ï¼Œä¸€çœ‹å°±æ‡‚</p>

          <h5 id="f108926">
            <a name="_root-Main" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Main
          </h5><pre><code class="language-java">public class App {
    public static void main(String[] args) {
        WeaponFactory factory = new WeaponFactory();
        System.out.println(factory.produce(WeaponType.AXE));
        System.out.println(factory.produce(WeaponType.BOW));
    }
}</code></pre>

          <h4 id="7dc02492">
            <a name="_root-æ€»ç»“" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            æ€»ç»“
          </h4><p>å¯¹äºå·¥å‚æ–¹æ³•ï¼Œå› ä¸ºå®ƒçš„åœ°ä½å¤ªé‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è®¾è®¡ä¸€ä¸ªå·¥å‚çš„æ—¶å€™è¦ç‰¹åˆ«æ³¨æ„æ–¹æ³•å’Œå…¶ä»–å¯¹è±¡ä¹‹é—´çš„è§£è€¦æ€§ï¼Œè®©è¿™ä¸ªå·¥å‚é€šç”¨æ€§æ›´å¼ºä¸€äº›</p>
<hr>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
        <input id="searchtext" type="text" class="form-control" placeholder="keywords" autocomplete="off">
        <div class="input-group-append">
            <button id="searchbut" class="btn btn-dark" type="button">Search</button>
        </div>
    </div>

    <div id="bbt" class="myhide new_font">
        <a id="toc" style="display: none;" class="myhide" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="show/hide Toc">Toc</a>
        <a id="gohub" href="#" target="_blank" data-toggle="tooltip" data-placement="bottom" title="view this at github">unuse</a>
    </div>

    <div id="share_png_panel" class="myhide">
        <div id="share_curtain"></div>
        <div id="png_box"></div>
        <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>

</body>

</html>