<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin">
    <title>blog | youyinnn</title>
    <script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
    <script>
        if (location.hostname === 'youyinnn.github.io' && returnCitySN.cname === 'CHINA') {
            location.href = 'https://youyinnn.gitee.io' + location.pathname
        }
    </script>
    <link rel="bookmark" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="stylesheet" href="/mycss/style.css">


    <script src="/resources/resources.js"></script>
    <script src="/myjs/import.js"></script>
</head>

<body>

    <ol id="topbar" class="breadcrumb unselectable new_font">
        <p style="color:rgb(214, 214, 214); padding-right: 1rem;">
            <button id="egg" class="egg em-svg em-rocket"></button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
        <li class="breadcrumb-item">
            <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="articlesbut" href="javaScript:void(0)" class="ah">-articles</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="scriptbut" href="javaScript:void(0)" class="ah">-scripts</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li>
        <li class="breadcrumb-item dropdown">
            <spen href="javaScript:void(0)" class="ah" role="button" id="friendlinkedbut" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-friends</spen>
            <div id="fldd" class="dropdown-menu" aria-labelledby="friendlinkedbut" style="border-radius: initial;"></div>
        </li>

        <div id="hb" data-toggle="tooltip" data-placement="bottom" title="show/hide TopBar">

        </div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
        <span id="slogan">
            <i id="wolf-logo" class="em-svg em-new_moon mr-4"></i>I'M BACK
        </span>
        <div id="showmore"> &gt; About Me & This Blog</div>
        <div id="showhacknical"> &gt; My Github Analysis</div>
        <div id="toarticles"> &gt; My Tech Articles</div>
        <div id="ifwrapper" class="hacknical_hide">
            <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
        </div>
    </div>

    <div id="series" class="unselectable">
        <span>系</span>
        <span>列</span>
        <span>文</span>
        <span>章</span>
    </div>
    <div id="seriesbox" class="unselectable">

    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
        <div id="cates_tree_head">Article Categories</div>
        <div id="cates_tree_body"></div>
        <div id="blog_statistic_head">Blog Statistic</div>
        <table id="blog_statistic_body" class="myhide">
            <tbody>
                <tr>
                    <td style="text-align:right">Site running days:</td>
                    <td style="text-align:left" id="stat_running"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Total article:</td>
                    <td style="text-align:left" id="stat_article_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Char count:</td>
                    <td style="text-align:left" id="stat_typein"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Category count:</td>
                    <td style="text-align:left" id="stat_cate_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Tag count:</td>
                    <td style="text-align:left" id="stat_tag_count"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="docpanel" class="myhide new_font">
        <div id="articlesearch" class="input-group">
            <input id="articlesearchtext" type="text" class="form-control" autocomplete="off" placeholder="search">
            <div class="input-group-append">
                <button id="cleanbut" class="btn" type="button" title="clear search">cls</button>
                <button id="categories" class="btn" type="button">cates</button>
                <button id="tags" class="btn" type="button" title="all tags">tags</button>
                <button id="articlesearchbut" class="btn" type="button" title="search">sch</button>
            </div>
        </div>
        <div class="tgs myhide" id="all_cates">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All categories:</span>
            <br>
        </div>
        <div class="tgs myhide" id="all_tags">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All tags:</span>
            <br>
        </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
        <div id="block">
            <div id="percent" data-toggle="tooltip" data-placement="bottom" title="return to the top">0%</div>
        </div>
        <div id="sidetoc" class="unselectable markdown-body editormd-preview-container markdown-toc"></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
        
          <h1>
            <a name="_root-Linux安装MySql" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Linux安装MySql
          </h1><p>一位哲人说过，只会用 FTP 工具的人都是傻子。</p>

          <h2>
            <a name="_root-原料" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            原料
          </h2><p>去 <a href="https://www.mysql.com/downloads/">Mysql官网</a> 下载<br>mysql-5.7.19-linux-glibc2.12x86_64.tar.gz。</p>

          <h2>
            <a name="_root-步骤" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            步骤
          </h2><ul>
<li>上传至 /usr/local/</li>
<li>解压、重命名<pre><code>tar -xvz -f mysql-5.7.19-linuxglibc2.12x86_64.tar.gz
mv /usr/local/mysql-5.7.19-linuxglibc2.12x86_64 /usr/local/mysql</code></pre>此时 MySql 的位置在 /usr/local/mysql/</li>
<li>更改mysql用户组,如果没有 mysql 用户和用户组，新建即可<pre><code>chown mysql:mysql /usr/local/mysql/</code></pre>这里要提一句，<strong>Linux中有关于 MySql 的配置文件，最好都将文件所属用户和用户组设置为 mysql，因为在 MySql 启动时会读取或写入数据</strong>。</li>
<li>在 /usr/local/mysql/support-files 新建 my_default.cnf 默认配置文件（当然可以改），并添加默认配置，以下是我的 my_default.cnf 。<pre><code>[mysqld]
# 一般配置选项
basedir = /usr/local/mysql
datadir = /usr/local/mysql/data
port = 3306
socket = /var/run/mysqld/mysqld.sock
character-set-server=utf8
[client]
socket = /var/run/mysqld/mysqld.sock
[mysql]</code></pre>这里提一句，在新建完之后<code>ll my_default.cnf</code>查看一下该文件的用户和用户组，如果是 root 将其改为 mysql。</li>
<li>注册和初始化 MySql 服务<pre><code>bin/mysqld --initialize-insecure --user=mysql --basedir=/usr/local/mysql/ --datadir=/usr/local/mysql/data/</code></pre>在这里提示了错误<pre><code>bin/mysqld: error while loading shared libraries: libnuma.so.1: cannot open shared object file: No such file or directory</code></pre>具体意思好像是什么东西没有安装，查了一下 libnuma.so.1 这个东西，可以安装 numactl 来解决这个问题<pre><code>yum install numactl</code></pre>继续初始化服务，虽然有警告，打没有报错</li>
<li>复制上述的my_default.cnf和mysql.server配置文件到etc目录，之前复制过该文件到etc目录，它这里提示是否覆盖，输入Y覆盖<pre><code>cp -a /usr/local/mysql/support-files/my_default.cnf /etc/my.cnf
cp: overwrite ‘/etc/my.cnf’? y
cp -a /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld</code></pre>cp 使用 -a 参数，会将该文件的属性（用户组，用户）都复制</li>
<li>启动 MySql 服务<pre><code>/usr/local/mysql/bin/mysqld_safe --user=mysql</code></pre></li>
<li>重新启动 MySql<pre><code>/etc/init.d/mysqld restart
Shutting down MySQL.. SUCCESS!
Starting MySQL. SUCCESS!</code></pre>但是在登陆的时候出现了一点问题<pre><code>/usr/local/mysql/bin/mysql -u root -p
Enter password:
ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2)</code></pre>他说在 /tmp/mysql.sock 连接不到 MySQL 的 socket，看到这我仿佛明白了什么，在 MySQL启动的时候，会读取 /etc/my.cnf 配置文件，在里面可以配置 mysql 的 socket ，当没有配置时 默认就是 socket=/tmp/mysql.sock ，这就简单了，找到我们的 sock 文件 配置到 mysql 节点下面，像这样<pre><code>[mysqld]
# 一般配置选项
basedir = /usr/local/mysql
datadir = /usr/local/mysql/data
port = 3306
socket = /var/run/mysqld/mysqld.sock
character-set-server=utf8
[client]
socket = /var/run/mysqld/mysqld.sock
[mysql]
socket = /var/run/mysqld/mysqld.sock ===&gt;这里</code></pre></li>
<li>重启MySQL，从新以 root 进入 mysql<pre><code>/etc/init.d/mysqld restart
Shutting down MySQL.. SUCCESS!
Starting MySQL. SUCCESS!
/usr/local/myqsl/bin/mysql -u root -p
Enter password:
Welcome to the MySQL monitor. Commands end with ; or \g.
Your MySQL connection id is 3
Server version: 5.7.19 MySQL Community Server (GPL)
Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.
Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.
Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.</code></pre>剩下的初始化密码，建立远程连接就不写了。emmm ,在 Linux 下面 安装 MySql 的方法还有很多，慢慢参透吧。
          <h2>
            <a name="_root-参考" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            参考
          </h2><a href="http://www.cnblogs.com/wy123/p/6815049.html">http://www.cnblogs.com/wy123/p/6815049.html</a><br><a href="http://blog.csdn.net/yoon0205/article/details/50605584">http://blog.csdn.net/yoon0205/article/details/50605584</a></li>
</ul>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
        <input id="searchtext" type="text" class="form-control" placeholder="keywords" autocomplete="off">
        <div class="input-group-append">
            <button id="searchbut" class="btn btn-dark" type="button">Search</button>
        </div>
    </div>

    <div id="bbt" class="myhide new_font">
        <a id="toc" style="display: none;" class="myhide" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="show/hide Toc">Toc</a>
        <a id="gohub" href="#" target="_blank" data-toggle="tooltip" data-placement="bottom" title="view this at github">unuse</a>
    </div>

    <div id="share_png_panel" class="myhide">
        <div id="share_curtain"></div>
        <div id="png_box"></div>
        <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>

</body>

</html>