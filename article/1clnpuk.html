<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin">
    <title>blog | youyinnn</title>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/myjs/loadscripts.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/myjs/jump-1.3.js"></script>
    <link rel="bookmark" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/img/favicon.ico" />
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/img/favicon.ico" />
    <link rel="stylesheet" href="/mycss/style.css">

    <script src="/resources/resources.js"></script>
    <script src="/myjs/scriptlist.js"></script>
</head>

<body>

    <ol id="topbar" class="breadcrumb unselectable new_font">
        <p style="color:rgb(214, 214, 214); padding-right: 1rem;">
            <button id="egg" class="egg">ğŸš€</button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
        <li class="breadcrumb-item">
            <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="articlesbut" href="javaScript:void(0)" class="ah">-articles</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="scriptbut" href="javaScript:void(0)" class="ah">-scripts</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li>
        <li class="breadcrumb-item dropdown">
            <spen href="javaScript:void(0)" class="ah" role="button" id="friendlinkedbut" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-friends</spen>
            <div id="fldd" class="dropdown-menu" aria-labelledby="friendlinkedbut" style="border-radius: initial;"></div>
        </li>

        <div id="hb" data-toggle="tooltip" data-placement="bottom" title="show/hide TopBar">

        </div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
        <div id="homepage-center">
            <div id="slogan">
                <i id="wolf-logo" style="font-style: normal;" class="mr-4">ğŸŒ‘</i><span id="slogan-text"></span>
            </div>
            <div id="homepage-btn">
                <div id="showmore"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; About Me & This Blog</div>
                <div id="showhacknical"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Github Analysis</div>
                <div id="toarticles"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Tech Articles</div>
            </div>
        </div>
        <div id="ifwrapper" class="hacknical_hide">
            <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
        </div>
    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
        <div id="cates_tree_head">Article Categories</div>
        <div id="cates_tree_body"></div>
        <div id="blog_statistic_head">Blog Statistics</div>
        <table id="blog_statistic_body" class="myhide">
            <tbody>
                <tr>
                    <td style="text-align:right">Online:</td>
                    <td style="text-align:left" id="stat_running"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Article:</td>
                    <td style="text-align:left" id="stat_article_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Chars:</td>
                    <td style="text-align:left" id="stat_typein"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Categories:</td>
                    <td style="text-align:left" id="stat_cate_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Tags:</td>
                    <td style="text-align:left" id="stat_tag_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Last update:</td>
                    <td style="text-align:left" id="stat_last_update"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="docpanel" class="myhide new_font">
        <div id="articlesearch" class="input-group">
            <input id="articlesearchtext" type="text" class="form-control" autocomplete="off" placeholder="search with keywords (algolia)">
            <div id="searchprocessbar">
                <div id="spb-out" class="spb-outter-animate"></div>
                <div id="spb-in" class="spb-inner-animate"></div>
            </div>
            <div class="input-group-append">
                <button id="cleanbut" class="btn btn-light" type="button" title="clear search">cls</button>
                <button id="categories" class="btn btn-light" type="button">cates</button>
                <button id="tags" class="btn btn-light" type="button" title="all tags">tags</button>
                <button id="articlesearchbut" class="btn btn-light" type="button" title="search">sch</button>
            </div>
        </div>
        <div id="searchrscount" class="unselectable"></div>
        <div class="tgs myhide" id="all_cates">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All categories:</span>
            <br>
        </div>
        <div class="tgs myhide" id="all_tags">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All tags:</span>
            <br>
        </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
        <div id="block">
            <div id="percent" data-toggle="tooltip" data-placement="bottom" title="return to the top">0%</div>
        </div>
        <div id="sidetoc" class="unselectable markdown-body editormd-preview-container markdown-toc"></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
        
          <h3 id="fccefbaf">å‰è¨€</h3><p>å‰ä¸€ç¯‡åŸºæœ¬è¯´äº†çº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µå’Œå¦‚ä½•åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä»¥åŠéå¸¸åŸºæœ¬çš„å‡ ä¸ªçº¿ç¨‹æ–¹æ³•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¯´è¯´çº¿ç¨‹çš„å‰å‡ ä¸ªæ§åˆ¶ç›¸å…³çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬å’Œæš‚åœä¸€ä¸ªçº¿ç¨‹ï¼ˆPAUSEï¼‰ã€è®©æš‚åœçš„çº¿ç¨‹æ¢å¤ï¼ˆRESUMEï¼‰ã€è®©çº¿ç¨‹ç»ˆæ­¢ï¼ˆSTOPï¼‰</p>
<p>è¿™ç¯‡æˆ‘ä»¬ä½†æ˜¯è¿™å‡ ä¸ªæ–¹æ³•ä¸èƒ½ç›´æ¥å»ç”¨ï¼Œå› ä¸ºè¿™äº›æ–¹æ³•éƒ½<strong>è¿‡æœŸäº†</strong>ï¼ä¸‹é¢å°±ç€Javaå®˜æ–¹çš„æ–‡æ¡£è§£é‡Šï¼Œè¯´è¯´ä¸ºä»€ä¹ˆè¿‡æœŸè¿™å‡ ä¸ªæ–¹æ³•ï¼Œä»¥åŠè´´å‡ºå®˜æ–¹ç»™çš„æ¨¡æ¿æ–¹æ³•å»å®ç°è¿™å‡ ä¸ªè¿‡æœŸæ–¹æ³•ï¼Œå…·ä½“çš„å®ç°ä¼šåœ¨åé¢æœ‰ä¾‹å­</p>
<hr>

          <h4 id="11a548f4">ä¸­æ–­çº¿ç¨‹</h4><p>æˆ‘ä»¬ç°åœ¨å·²ç»å¯ä»¥è·‘èµ·æ¥ä¸€ä¸ªçº¿ç¨‹äº†ï¼Œä½†æ˜¯å¯¹äºçº¿ç¨‹çš„æ§åˆ¶åŠ›åº¦è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å¤„ç†çº¿ç¨‹å­ä»»åŠ¡çš„æ—¶å€™ï¼Œç¢°åˆ°éœ€è¦æš‚åœä»»åŠ¡çš„æƒ…å†µçš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰èƒ½åŠ›é©¬ä¸Šå°±é€€å‡º</p>
<p>ä½†æ˜¯åœæ­¢çº¿ç¨‹çš„ä»»åŠ¡å¹¶ä¸ç®€å•ï¼Œæ€»çš„æ¥è¯´ï¼Œåœæ­¢çº¿ç¨‹çš„æ–¹å¼æœ‰è¿™ä¹ˆä¸‰ç§ï¼š</p>
<ul>
<li><strong>è®©runæ–¹æ³•æ‰§è¡Œå®Œ</strong>ï¼Œçº¿ç¨‹å°±åœäº†</li>
<li><strong>ä½¿ç”¨stopæ–¹æ³•</strong>ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•<strong>ç»å¯¹ä¸èƒ½å¤Ÿä½¿ç”¨</strong>ï¼Œå› ä¸ºä¸å®‰å…¨è€Œè¢«åˆ—ä¸º<strong>è¿‡æœŸæ–¹æ³•</strong></li>
<li><strong>ä½¿ç”¨interruptæ–¹æ³•å»ä¸­æ–­çº¿ç¨‹</strong></li>
</ul>
<p>è¿™ä¹ˆçœ‹æ¥ï¼Œå¦‚æœè¦åœ¨çº¿ç¨‹ä»»åŠ¡ä¸­é—´å»åœæ­¢çº¿ç¨‹ï¼Œåªèƒ½ä½¿ç”¨<strong>interruptæ–¹æ³•</strong>ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¹Ÿ<strong>ä¸æ˜¯è¯´åœå°±åœ</strong>çš„</p>

          <h5 id="d2939cc8">interrupt()</h5><p>æˆ‘ä»¬æ¥çœ‹çœ‹æ–¹æ³•çš„æºç ä»‹ç»ï¼Œæ–¹æ³•æ³¨é‡Šå°±ä¸è§£é‡Šäº†ï¼Œæ³¨é‡Šé‡Œä¸»è¦è¯´çš„æ˜¯ä¸€äº›å¼‚å¸¸ä¿¡æ¯ï¼Œå…¶å®è¿™ä¸ªæ–¹æ³•çš„æœ¬è´¨<strong>åªæ˜¯åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰“äº†ä¸€ä¸ªä¸­æ–­æ ‡å¿—ï¼Œå¹¶ä¸æ˜¯çœŸæ­£åœ°åœæ­¢çº¿ç¨‹ï¼</strong></p>
<pre><code class="language-java">public void interrupt() {
    if (this != Thread.currentThread())
        checkAccess();

    synchronized (blockerLock) {
        Interruptible b = blocker;
        if (b != null) {
            interrupt0();           // Just to set the interrupt flag
            b.interrupt(this);
            return;
        }
    }
    interrupt0();
}</code></pre>

          <h5 id="67df3ca2">åˆ¤æ–­çº¿ç¨‹ä¸­æ–­</h5><p><strong>Threadç±»</strong>ä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥ç”¨äºåˆ¤æ–­çº¿ç¨‹æ˜¯å¦ä¸­æ–­ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ol>
<li><strong>Thread.interrupted()ï¼šæµ‹è¯•å½“å‰çº¿ç¨‹æ˜¯å¦å·²ç»ä¸­æ–­</strong></li>
<li><strong>this.isInterrupted()ï¼šæµ‹è¯•çº¿ç¨‹æ˜¯å¦å·²ç»ä¸­æ–­</strong></li>
</ol>
<p>å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯æœ‰åŒºåˆ«çš„ï¼ŒåŒºåˆ«å°±åœ¨äº<strong>â€œå½“å‰çº¿ç¨‹â€</strong>æ˜¯è°äº†ï¼Œå½“å‰çº¿ç¨‹æŒ‡çš„æ˜¯è¿è¡Œ<strong>Thread.interrupted()</strong>æ–¹æ³•çš„ä»£ç æ®µæ‰€åœ¨çš„çº¿ç¨‹</p>
<p>æˆ‘ä»¬çœ‹æºç ï¼š</p>
<pre><code class="language-java">public static boolean interrupted() {
    return currentThread().isInterrupted(true);
}
public boolean isInterrupted() {
    return isInterrupted(false);
}
private native boolean isInterrupted(boolean ClearInterrupted);</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<strong>interrupted()</strong>å…¶å®ä¹Ÿæ˜¯è°ƒç”¨çš„<strong>æœ¬åœ°æ–¹æ³•isInterrupted(boolean clearInterrupted)</strong>ï¼Œè€Œä¸”æ˜¯<strong>å½“å‰çº¿ç¨‹ï¼ˆcurrendThreadï¼‰å»è°ƒç”¨</strong>ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•æ˜¯é™æ€æ–¹æ³•ï¼Œè€Œ<strong>isInterrupted()</strong>åŒæ ·ä¹Ÿæ˜¯è°ƒç”¨<strong>æœ¬åœ°æ–¹æ³•isInterrupted(boolean clearInterrupted)</strong>ï¼Œåªæ˜¯è¿™ä¸ªè°ƒç”¨æ˜¯é€šè¿‡thiså»è°ƒç”¨çš„</p>
<p>è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>interrupted()ä¼šæ¸…æ¥šä¸­æ–­æ ‡è¯†ï¼Œè€ŒisInterrupted()ä¸ä¼š</strong></p>

          <h5 id="69413996">æœ‰æ•ˆä¸­æ–­çš„æ–¹æ³•</h5><p>å‰é¢æˆ‘ä»¬è¯´äº†ï¼Œ<strong>interrupted()</strong>æ–¹æ³•åªæ˜¯è®¾ç½®ä¸­æ–­flagï¼Œåˆ°åº•æ€ä¹ˆçœŸæ­£åœæ­¢çº¿ç¨‹å‘¢ï¼Ÿ</p>
<p><strong>æ–¹æ³•1ï¼š</strong></p>
<p>æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„<strong>åˆ¤æ–­ä¸­æ–­æ–¹æ³•+ç¨‹åºæµç¨‹è®¾è®¡</strong>å»å®è¡Œæœ‰æ•ˆåœ°ä¸­æ–­</p>
<pre><code class="language-java">int i = 0;

@Test
public void testEffectedInterrupt() throws InterruptedException {
    Runnable run = () -&gt; {
        System.out.println(Thread.currentThread().getName());
        while (true) {
            if (Thread.currentThread().isInterrupted()) {
                System.out.println(&quot;interrupted!&quot;);
                break;
            }
            System.out.println(Thread.currentThread().isInterrupted());
            System.out.println(i++);
        }
    };
    Thread t = new Thread(run, &quot;runThread&quot;);
    t.start();
    Thread.sleep(10);
    t.interrupt();
}</code></pre>
<p><strong>runThread</strong>ä¸€ç›´åœ¨è·‘ï¼Œåªä¸è¿‡åœ¨è·‘ä¹‹å‰ä¼šåˆ¤æ–­ä¸€ä¸‹è‡ªèº«çº¿ç¨‹çš„<strong>ä¸­æ–­æ ‡å¿—</strong>ï¼Œå¦‚æœè¢«è®¾ç½®äº†<strong>ä¸­æ–­æ ‡å¿—</strong>ï¼Œé‚£whileå°±breakï¼Œä¹Ÿå°±æ˜¯è¯´æ–¹æ³•å·²ç»æ‰§è¡Œå®Œæ¯•äº†ï¼Œ<strong>çº¿ç¨‹è‡ªç„¶æ­»äº¡</strong></p>
<p>å½“ç„¶è¿™é‡Œæ˜¯åœ¨mainçº¿ç¨‹é‡Œé¢è°ƒç”¨<strong>runThread</strong>çš„ä¸­æ–­æ–¹æ³•ï¼Œ<strong>runThread</strong>å†…éƒ¨ä¹Ÿå¯ä»¥ä¸ä¾é ä¸­æ–­æ–¹æ³•å»breakè¯­å¥ï¼Œè¿™é‡Œåªæ˜¯ç¤ºä¾‹å¤–éƒ¨ä¸­æ–­</p>
<p><strong>æ–¹æ³•2ï¼š</strong></p>
<p>ä¹Ÿè®¸ä½ å¯ä»¥ä½¿ç”¨<strong>interrupt()æ–¹æ³•+returnè¯­å¥</strong>ï¼Œå’Œä¸Šé¢çš„breakå·®ä¸å¤šéªšï¼Œéƒ½æ˜¯ä¸ºäº†åˆ°è¾¾runæ–¹æ³•çš„åº•éƒ¨</p>
<blockquote>
<p>2018å¹´7æœˆ9æ—¥ 13ç‚¹12åˆ† è¡¥å……å¦‚ä¸‹ï¼š</p>
<p>æˆ‘åœ¨Servletä¸­å°è¯•ä½¿ç”¨interrupt()è®¾ç½®ä¸­æ–­æ ‡è¯†çš„æ–¹æ³•å»ä¸­æ–­çº¿ç¨‹ï¼Œä½†æ˜¯å¾ˆé—æ†¾çš„æ˜¯å¤±è´¥äº†ï¼Œä½†æ˜¯å•ç‹¬å†™åœ¨Mainæ•°ä¸­ï¼Œæˆ–è€…åœ¨Androidä»£ç ä¸­å»éªŒè¯å´æ˜¯å¯ä»¥ï¼Œä¸å¤ªæ¸…æ¥šæ˜¯ä¸æ˜¯Servletå¯¹çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“ï¼Œæ‰€ä»¥ä¸­æ–­çº¿ç¨‹å¯ä»¥ç”¨å®˜æ–¹ç»™çš„æ¨¡å‹å»ä¸­æ–­ï¼Œå³ç”¨ä¸€ä¸ªvolatileå¸ƒå°”å˜é‡å»è®¾ç½®<code>run(){while()}</code>çš„runæ–¹æ³•çš„whileå¾ªç¯é€€å‡ºæ¡ä»¶</p>
<p>ææ‡‚ä¸ºä»€ä¹ˆå¤±è´¥äº†ï¼Œæˆ‘åœ¨çº¿ç¨‹runæ–¹æ³•ä¸­æœ‰<strong>Thread.sleep()</strong>æ–¹æ³•ï¼Œè™½ç„¶æˆ‘whileå¾ªç¯æœ€å¼€å§‹å°±æœ‰isInterrupt()æ–¹æ³•åšåˆ¤æ–­ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æ—¶é—´çº¿ç¨‹æ˜¯åœ¨sleep()æ–¹æ³•ä¸­çš„<code>TIMED_WAITING</code>çŠ¶æ€ä¸‹ï¼Œåœ¨è¿™ä¸ªçŠ¶æ€ä¸‹ä½¿ç”¨interrupt()æ–¹æ³•å»ä¸­æ–­çº¿ç¨‹ä¼šåœ¨sleepæ–¹æ³•è¢«è°ƒç”¨å¤„æŠ›å‡º<code>InterruptedException</code>å¼‚å¸¸ï¼Œå¦‚æœåœ¨catchè¯­å¥ä¸­æ²¡æœ‰è·³å‡ºå¾ªç¯çš„è¯­å¥çš„è¯ï¼Œä¸‹æ¬¡whileå¾ªç¯ä¸­çš„isInterrupt()ä»ç„¶æ˜¯falseï¼Œå› ä¸ºä¸€æ—¦æŠ›å‡º<code>InterruptedException</code>å¼‚å¸¸å°±ä¼š<strong>æ¸…é™¤çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—</strong></p>
<p>æˆ‘ä»¬çœ‹çœ‹sleepçš„æºç è¯´æ˜ï¼š</p>
<pre><code class="language-java">    /**
     * Causes the currently executing thread to sleep (temporarily cease
     * execution) for the specified number of milliseconds, subject to
     * the precision and accuracy of system timers and schedulers. The thread
     * does not lose ownership of any monitors.
     *
     * @param  millis
     *         the length of time to sleep in milliseconds
     *
     * @throws  IllegalArgumentException
     *          if the value of {@code millis} is negative
     *
     * @throws  InterruptedException
     *          if any thread has interrupted the current thread. The
     *          &lt;i&gt;interrupted status&lt;/i&gt; of the current thread is
     *          cleared when this exception is thrown.
     */
    public static native void sleep(long millis) throws InterruptedException;</code></pre>
<p>ä¹‹å‰å®éªŒçš„æ—¶å€™ï¼Œä½¿ç”¨åˆ°äº†sleepï¼Œä½¿ç”¨interruptæ€ä¹ˆéƒ½æµ‹ä¸åˆ°isInterrupted()ä¸ºtrueï¼Œç„¶åcatchè¯­å¥å—é‡Œä¹Ÿæ²¡æœ‰åšä»»ä½•å¤„ç†ï¼Œæ‰€ä»¥çº¿ç¨‹å§‹ç»ˆæ— æ³•åœæ­¢ï¼Œæå¾—æˆ‘ä»¥ä¸ºå“ªé‡Œå‡ºé”™äº†</p>
<p>å…³äºæ€ä¹ˆå†™stopã€suspendã€resumeæ–¹æ³•çš„ä»£ç è´´åœ¨åé¢</p>
</blockquote>

          <h5 id="8aab38c0">å…³äºstop()å¼ºåˆ¶åœæ­¢</h5><p>å…³äºè¿™ä¸ªä½œåºŸçš„æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™æ–¹æ³•è¢«ä½œåºŸäº†ï¼Œå½“ç„¶æœ€æƒå¨çš„ä»‹ç»è¿˜æ˜¯å®˜æ–¹è§£é‡Šäº†<em><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html">Why are Thread.stop, Thread.suspend and Thread.resume Deprecated?</a></em></p>
<p>å®˜æ–¹ç»™å‡ºçš„<strong>stop()è¿‡æœŸè§£é‡Š</strong>ï¼š</p>
<blockquote>
<p>å¼ºåˆ¶æ€§åœ°ä½¿ç”¨<strong>stop()</strong>æ–¹æ³•ä¼š<strong>é‡Šæ”¾å½“å‰çº¿ç¨‹æ‰€æŒæœ‰çš„æ‰€æœ‰é”ï¼ˆç›‘æ§å™¨ä¼šå› ä¸ºThreadDeathå¼‚å¸¸è¢«æŠ›åˆ°æ–¹æ³•æ ˆçš„æœ€ä¸Šå±‚è€Œè§£é”ï¼‰</strong>ï¼Œæœ‰çš„é”å¹¶ä¸æ˜¯æˆ‘ä»¬æœŸæœ›é‡Šæ”¾æ‰çš„ï¼Œæ‰€ä»¥è¿™æ ·ä¼š<strong>å¯¼è‡´æŸäº›åŒæ­¥æ•°æ®åœ¨å¹¶å‘ä¸”ä¸å®Œå…¨é”ä¸Š</strong>çš„æƒ…å†µä¸‹è¢«ä¿®æ”¹ï¼Œå¦‚æœåœ¨è¿™ç§<strong>çŠ¶æ€</strong>ä¸ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œäº‹å…ˆæœ‰ä»»ä½•å¯¹è±¡è¢«è¿™äº›ç›‘è§†å™¨æ‰€ä¿æŠ¤ç€çš„è¯ï¼Œå…¶ä»–çš„å¯¹è±¡ä¹Ÿä¼šçœ‹åˆ°è¿™äº›ä¸ä¸€è‡´çš„<strong>çŠ¶æ€</strong>ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼Œè¿™äº›å¯¹è±¡å·²ç»è¢«<strong>ç ´åï¼ˆdamagedï¼‰</strong>äº†ï¼Œå†ç”¨è¿™äº›å¯¹è±¡å»æ‰§è¡Œä»»åŠ¡å·²ç»æ²¡æœ‰æ„ä¹‰äº†</p>
<p>è€Œä¸”ä¸Šè¿°çš„å½±å“å¾ˆå¾®å¦™ï¼ŒçŸ­æ—¶é—´å†…æ˜¯æ— æ³•æ£€æµ‹å‡ºæ¥çš„ï¼Œå› ä¸ºä¸åƒå…¶ä»–<strong>éå—æ£€å¼‚å¸¸ï¼ˆunchecked exceptionsï¼‰</strong>ï¼Œ<strong>ThreadDeath</strong>å¼‚å¸¸æ˜¯ä¸€ç§<strong>é™é»˜å¼‚å¸¸</strong>ï¼Œå› æ­¤ï¼Œå¦‚æœç¨‹åºå› ä¸ºè¿™ä¸ªå¼‚å¸¸è€Œå‡ºé”™ï¼Œç”¨æˆ·é€šå¸¸æ˜¯ä¸ä¼šæ”¶åˆ°ä»»ä½•è­¦å‘Šçš„ï¼Œå¯èƒ½è¿‡ä¸ªå‡ ä¸ªå°æ—¶æˆ–è€…å‡ å¤©ï¼Œç¨‹åºæ‰ä¼šå› ä¸ºæœ€å¼€å§‹çš„<strong>å¼ºåˆ¶åœæ­¢</strong>æ‰€å¸¦æ¥çš„é•¿ä¹…å½±å“è€ŒæŠ›å‡ºæŸä¸ªä¸šåŠ¡ä¸­çš„å¼‚å¸¸</p>
</blockquote>
<p>å®˜æ–¹è§£é‡Šä¸­è¯´æ˜äº†ï¼Œè™½ç„¶ä»ç†è®ºä¸Šï¼Œä½ å¯ä»¥æŠ“å–<strong>ThreadDeath</strong>å¼‚å¸¸å»å°è¯•ä¿®å¤è¢«ç ´åçš„å¯¹è±¡ï¼Œ<strong>ä½†æ˜¯è¿™æ ·çš„åšæ³•æ˜¯ä¸ç°å®çš„ï¼š</strong>å› ä¸ºä½ éœ€è¦éå¸¸ä¸¥è°¨çš„é€»è¾‘å»å¤„ç†æ•´ä¸ªå­ä»»åŠ¡ï¼Œåœ¨è¿™ä¸ªä¸¥è°¨çš„è¿‡ç¨‹ä¸­ä½ è¿˜éœ€è¦æ›´ä¸¥è°¨åœ°å»å¤„ç†å¼ºåˆ¶ä¸­æ–­çš„ç ´åä¿®å¤ï¼Œè¿™æ ·çš„åšæ³•å¾—ä¸å¿å¤±ï¼Œç”šè‡³ä»£ä»·è¶…è¿‡ä»»åŠ¡æœ¬èº«ï¼Œè€Œä¸”<strong>ThreadDeath</strong>è¿™ä¸ªå¼‚å¸¸åœ¨ä»»ä½•åœ°æ–¹ã€ä»»ä½•æ—¶é—´éƒ½å¯ä»¥æŠ›ï¼Œä½ ä¸ç¡®å®šè¿™ä¸ªå¼‚å¸¸æ˜¯ä¸æ˜¯ä½ æƒ³è¦çš„é‚£ä¸ª</p>
<p>æœ€ç»ˆå®˜æ–¹ç»™å‡ºäº†ä¸€ä¸ª<strong>ç®€å•ä¸”æœ‰æ•ˆ</strong>çš„æ–¹æ³•å»å®ç°çº¿ç¨‹åœæ­¢ï¼š</p>
<pre><code class="language-java">private volatile Thread blinker;

public void stop() {
    blinker = null;
}

public void run() {
    Thread thisThread = Thread.currentThread();
    while (blinker == thisThread) {
        try {
            Thread.sleep(interval);
        } catch (InterruptedException e){
        }
        repaint();
    }
}</code></pre>
<p>å¦‚ä»£ç é‡Œé¢æ‰€ç¤ºï¼Œçº¿ç¨‹ä¸€æ—¦å¼€å¯ï¼Œå°±è¿›å…¥åˆ°<strong>run()</strong>æ–¹æ³•çš„<strong>whileå¾ªç¯</strong>é‡Œé¢ï¼Œ<strong>whileå¾ªç¯</strong>é€€å‡ºçš„ç‚¹æ˜¯<strong>blinkerç­‰äºå½“å‰çº¿ç¨‹</strong>çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•çš„<strong>åœ¨å¤–éƒ¨å°†è¿™ä¸ªåŒæ­¥å˜é‡ç½®ç©º</strong>ï¼Œè¿™æ ·çº¿ç¨‹å°±ä¼š<strong>ç»“æŸwhileå¾ªç¯â€”â€”æ–¹æ³•ç»“æŸâ€”â€”é€€å‡ºçº¿ç¨‹</strong>ï¼Œè¾¾åˆ°æš‚åœçº¿ç¨‹çš„æ•ˆæœ</p>
<p>ä½†æ˜¯è¿™ä¸ªæ–¹æ³•è¿˜ä¸å¤Ÿå¼ºï¼Œå¦‚æœè¯´ï¼Œæˆ‘ä»¬è¦è®©ä¸€ä¸ª<strong>é™·å…¥é•¿æ—¶é—´waitçš„çº¿ç¨‹ä¸­æ–­çš„è¯ï¼ˆé™·å…¥waitå°±æ„å‘³ç€çº¿ç¨‹å¡åœ¨æŸä¸ªä»£ç æ®µé‚£ä¸ç»§ç»­å¾€ä¸‹æ‰§è¡Œäº†ï¼Œè€Œæ˜¯ç­‰ç€æŠ¢èµ„æºï¼‰</strong>è¿™ä¸ªæ—¶å€™ä½ å°±åˆ«æŒ‡æœ›è¯´çº¿ç¨‹ä¼šè·‘åˆ°<strong>lineï¼š9</strong>å»åˆ¤æ–­äº†</p>
<p>æ‰€ä»¥è¿™é‡Œå°±è¯¥æ˜¯æˆ‘ä»¬çš„<strong>interrupt()æ–¹æ³•</strong>ç™»åœºäº†~</p>
<p>å®˜æ–¹ç§°ï¼Œ<strong>interrupt()</strong>æ–¹æ³•å°±æ˜¯ä¸ºäº†è¿™ä¸€åˆ»è€Œè¯ç”Ÿçš„ï¼Œä¸Šè¿°ä¾‹å­çš„<strong>blinker = null</strong>ä¹Ÿæ˜¯ä¸€ç§æœ‰æ•ˆçš„<strong>â€œåŸºäºçŠ¶æ€â€çš„ä¿¡å·æœºåˆ¶</strong>ï¼Œ<strong>interrupt()</strong>æ–¹æ³•ä¹Ÿå·®ä¸å¤šæ˜¯è¿™ä¸ªæ¦‚å¿µï¼Œå®ƒç”šè‡³å¯ä»¥ä¸­æ–­ç­‰å¾…</p>
<pre><code class="language-java">public void stop() {
    Thread moribund = waiter;
    waiter = null;
    moribund.interrupt();
}</code></pre>
<blockquote>
<p> è¿™ä¸ªæœºåˆ¶ï¼Œå¯¹äºåœ¨ä»»ä½•<strong>æ•è·åˆ°ä¸­æ–­å¼‚å¸¸å¹¶ä¸”è¿˜æ²¡æœ‰å‡†å¤‡å¥½é©¬ä¸Šé‡æ–°æ–­è¨€å¼‚å¸¸</strong>çš„æ–¹æ³•æ¥è¯´å¾ˆé‡è¦ï¼Œæˆ‘ä»¬å¸¸è¯´<strong>å®å¯é‡æ–°æ–­è¨€ä¸€ä¸ªå¼‚å¸¸ä¹Ÿä¸è¦æŠ›å‡ºè¿™ä¸ªå¼‚å¸¸</strong>ï¼Œå› ä¸ºé‡æ–°æŠ›å‡ºå¼‚å¸¸çš„åšæ³•å¹¶ä¸æ€»æ˜¯å¥½çš„</p>
<p>å¦‚æœä¸€ä¸ªæ–¹æ³•æ•è·åˆ°äº†<strong>æ²¡æœ‰å£°æ˜è¿‡çš„ä¸­æ–­å¼‚å¸¸</strong>ï¼Œä½ åº”è¯¥è®©è¿™ä¸ªçº¿ç¨‹<strong>å†ä¸­æ–­å®ƒè‡ªå·±ä¸€æ¬¡</strong></p>
<pre><code class="language-java">Thread.currentThread().interrupt();</code></pre>
<p>ä»¥ä¿è¯å®ƒå°½å¯èƒ½åŠæ—¶åœ°å‘å‡ºä¸­æ–­å¼‚å¸¸</p>
</blockquote>

          <h5 id="d594d80c">åœ¨sleep()é‡Œä¸­æ–­çº¿ç¨‹</h5><p>æ²¡ä»€ä¹ˆè¯´çš„ï¼Œ<strong>sleep()</strong>çš„è°ƒç”¨éœ€è¦æ•è·ä¸­æ–­å¼‚å¸¸ï¼Œå¦‚æœåœ¨<strong>sleep()</strong>çš„è¿‡ç¨‹ä¸­ä¸­æ–­å¼‚å¸¸çš„è¯ï¼Œå°±ä¼šæŠ›å‡º<strong>ä¸­æ–­å¼‚å¸¸</strong>ï¼Œåœ¨<strong>catchè¯­å¥å—ä¸­å¤„ç†ä¸­æ–­çš„åç»­é€»è¾‘</strong>å°±å¥½äº†ï¼Œ<strong><u>è¯·ä¸€å®šè¦åœ¨catchå—ä¸­åšå‡ºä¸­æ–­å¤„ç†ï¼ï¼ï¼ï¼ˆåŸå› è§sleepçš„æ³¨æ„äº‹é¡¹ï¼‰</u></strong></p>

          <h4 id="fd3bb71b">æš‚åœ/æ¢å¤çº¿ç¨‹</h4><p>åŒæ ·çš„ï¼Œå› ä¸ºä¸å®‰å…¨ï¼Œ<strong>suspend()å’Œresume()</strong>æ–¹æ³•ä¹Ÿéƒ½è¿‡æœŸäº†ï¼Œç¦æ­¢ä½¿ç”¨ï¼Œåœ¨å’Œ<strong>stop()</strong>è¢«è¿‡æœŸçš„å®˜æ–¹ä»‹ç»ä¸­åŒæ ·ä»‹ç»äº†åŸå› ï¼š</p>
<blockquote>
<p><strong>Thread.suspend</strong>æ–¹æ³•æœ‰å¤©ç”Ÿçš„æ­»é”å€¾å‘</p>
<p>å¦‚æœç›®æ ‡çº¿ç¨‹æŒæœ‰ä¸€ä¸ª<strong>éå¸¸é‡è¦çš„ç³»ç»Ÿèµ„æºçš„é”</strong>çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨<strong>Thread.suspend</strong>å»è¯•å›¾æš‚åœè¿™ä¸ªçº¿ç¨‹çš„è¯ï¼Œæ²¡æœ‰ä»»ä½•å…¶å®ƒçš„çº¿ç¨‹å¯ä»¥è®¿é—®åˆ°è¿™ä¸ª<strong>ç³»ç»Ÿèµ„æº</strong>ï¼Œé™¤éå†è°ƒç”¨<strong>Thread.resume</strong>æ–¹æ³•ï¼Œçº¿ç¨‹æ‰§è¡Œå®Œæ¯•æ‰æœ‰å¯èƒ½é‡æ–°ç«äº‰è¿™ä¸ªèµ„æº</p>
<p>å¦‚æœè¿™ä¸ªæƒ³è¦æ¢å¤å·²ç»æš‚åœäº†çš„ç›®æ ‡çº¿ç¨‹çš„çº¿ç¨‹<strong>è¯•å›¾è¦åœ¨ç›‘è§†å™¨çš„é”å†…</strong>è°ƒç”¨<strong>Thread.resume</strong>æ–¹æ³•ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæ­»é”ï¼Œå› ä¸ºä½ æŠŠé’¥åŒ™é”é‡Œé¢äº†</p>
<p>è¿™ç§ç±»å‹çš„æ­»é”çº¿ç¨‹å°±æ˜¯å…¸å‹çš„<strong>â€œå†»ç»“â€ç¨‹åº</strong></p>
</blockquote>
<p>å®˜æ–¹ä¹Ÿç»™å‡ºäº†å®‰å…¨å®ç°æš‚åœå’Œæ¢å¤çº¿ç¨‹çš„ç¤ºä¾‹ï¼š</p>
<p>æ¯”å¦‚è¯´ï¼Œä½ çš„åº”ç”¨ç¨‹åºä¸­åŒ…å«è¿™ä¸ªé¼ æ ‡ç‚¹å‡»äº‹ä»¶çš„äº‹ä»¶å¤„ç†å™¨ï¼Œè¿™ä¸ªå¤„ç†å™¨ä¼šå‡ºå‘ä¸€ä¸ªäº¤<strong>blinker</strong>çš„çº¿ç¨‹</p>
<pre><code class="language-java">private boolean threadSuspended;

Public void mousePressed(MouseEvent e) {
    e.consume();

    if (threadSuspended)
        blinker.resume();
    else
        blinker.suspend();  // DEADLOCK-PRONE!

    threadSuspended = !threadSuspended;
}</code></pre>
<p>ä¸Šé¢è¿™æ ·çš„ç¨‹åºå°±ä¼šå‡ºç°æ­»é”å€¾å‘ï¼Œ<strong>è‡ªå·±æš‚åœè‡ªå·±ï¼Œè‡ªå·±åˆæ€ä¹ˆèƒ½æ¢å¤è‡ªå·±å‘¢ï¼Ÿ</strong>æ‰€ä»¥å®˜æ–¹ç»™å‡ºçš„è§£å†³ä»£ç æ˜¯</p>

          <h5 id="edc5371d">å®˜æ–¹â€œæ¢å¤â€ä»£ç </h5><pre><code class="language-java">public synchronized void mousePressed(MouseEvent e) {
    e.consume();

    threadSuspended = !threadSuspended;

    if (!threadSuspended)
        notify();
}</code></pre>
<p>ç„¶ååœ¨çº¿ç¨‹çš„runå¾ªç¯é‡Œé¢åŠ ä¸Šï¼š</p>
<pre><code class="language-java">synchronized(this) {
    while (threadSuspended)
        wait();
}</code></pre>
<p>å› ä¸º<strong>wait()</strong>æ–¹æ³•ä¼šæŠ›å‡º<strong>ä¸­æ–­å¼‚å¸¸</strong>ï¼Œæ‰€ä»¥å¾—åŒ…åœ¨try-catchè¯­å¥ä¸­ï¼Œä½ ä¸å¦¨åœ¨è¿™é‡Œé¡ºä¾¿ç¡ä¸Šä¸€å°æ®µæ—¶é—´ï¼Œç»™ç¨‹åºä¸€äº›ç¼“å†²æ—¶é—´å¥½è®©çº¿ç¨‹åœ¨<strong>â€œæ¢å¤â€</strong>ä¹‹åå¯ä»¥é©¬ä¸Šæ‰§è¡Œ<strong>repaint()æ–¹æ³•ï¼ˆè¿™é‡Œçš„repaintæ–¹æ³•ä»£è¡¨æ¢å¤ä¹‹åè¦åšçš„äº‹æƒ…ï¼‰</strong></p>
<pre><code class="language-java">public void run() {
    while (true) {
        try {
            Thread.sleep(interval);
            synchronized(this) {
                while (threadSuspended)
                    wait();
            }
        } catch (InterruptedException e){
        }
        repaint();
    }
}</code></pre>
<p>ç‰¹åˆ«æ³¨æ„åˆ°ï¼š<strong>notify()å’Œwait()</strong>æ–¹æ³•éƒ½è¢«åŒ…åœ¨<strong>åŒæ­¥å—ï¼ˆsynchronized blockï¼‰</strong>ä¸­ï¼Œè¿™æ˜¯Javaè¯­æ³•è¦æ±‚è¿™ä¹ˆåšçš„ï¼Œä»¥ä¿è¯è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯<strong>ç»å¯¹ä¸²è¡Œ</strong>åœ°å·¥ä½œï¼Œç„¶è€Œï¼Œä¿è¯åŒæ­¥çš„ä»£ä»·ç¡®å®æœ‰ç‚¹å¤§ï¼Œä¸ºäº†å‡å°åŒæ­¥å¸¦æ¥çš„ä»£ä»·ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ç”¨ä¸€äº›ä¼ä¿©å»ä¼˜åŒ–ä¸Šè¿°çš„ä¸¤æ®µä»£ç ï¼Œè¿™ä¸ªä¼ä¿©ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨è¿›<strong>åŒæ­¥å—</strong>ä¹‹å‰ï¼Œå…ˆåˆ¤æ–­ä¸€æ¬¡<strong>threadSuspended</strong></p>
<pre><code class="language-java">if (threadSuspended) {
    synchronized(this) {
        while (threadSuspended)
            wait();
    }
}</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å¾—ä¿è¯<strong>threadSuspended</strong>ä¹Ÿå¾—æ˜¯<strong>çº¿ç¨‹å®‰å…¨</strong>çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<strong>volatile</strong>å…³é”®å­—å»ä¿®é¥°å®ƒ</p>

          <h5 id="1ed10a4a">å®˜æ–¹â€æš‚åœâ€œä»£ç </h5><pre><code class="language-java">private volatile boolean threadSuspended;

public void run() {
    while (true) {
        try {
            Thread.sleep(interval);

            if (threadSuspended) {
                synchronized(this) {
                    while (threadSuspended)
                        wait();
                }
            }
        } catch (InterruptedException e){
        }
        repaint();
    }
}</code></pre>

          <h4 id="eeca0f61">å®ä¾‹</h4><p>ä¸ºäº†æœ‰å¤šçº¿ç¨‹æ•ˆæœï¼ŒæŠŠä¾‹å­è£…åœ¨äº†servletä¸­ç”¨ç½‘é¡µè¯·æ±‚å»è¿è¡Œ</p>
<pre><code class="language-java">package mythread;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet(&quot;/xixi&quot;)
public class AThreadTest extends HttpServlet {

    private static Thread timer;
    private volatile boolean stoped = false;
    private volatile boolean suspended = false;

    @Override
    public void init() throws ServletException {
        timer = new Thread() {
            private int count = 0;

            @Override
            public void run() {
                if (!timer.getName().equals(&quot;Timer&quot;)) {                    
                    timer.setName(&quot;Timer&quot;);
                }
                System.out.println(Thread.currentThread() + &quot; started&quot;);
                while (!stoped) {
                    if (timer.isInterrupted()) {
                        System.out.println(&quot;interrupted break&quot;);
                        break;
                    }
                    try {
                        if (!stoped &amp;&amp; !suspended) {
                            count += 1;
                            System.out.println(Thread.currentThread() +  &quot; &quot; + count);
                            if (suspended) {
                                synchronized (timer) {
                                    while (suspended) {
                                        timer.wait();
                                    }
                                }                                                            
                            }
                        }
                        Thread.sleep(1000);
                    } catch (Exception e) {
                        System.out.println(&quot;exception because the interrupt when thread was in sleeping&quot;);
                        return;
                    }
                }
            }
        };
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        String act = request.getParameter(&quot;act&quot;);
        switch (act) {
        case &quot;start&quot;:
            if (timer == null) {
                init();
            }
            timer.start();
            break;
        case &quot;stop&quot;:
            stop();
            break;
        case &quot;pause&quot;:
            pause();
            break;
        case &quot;resume&quot;:
            resume();
            break;
        case &quot;state&quot;:
            state();
            break;
        default:
            break;
        }
        response.sendRedirect(&quot;/Learning_zoom&quot;);
    }

    public void stop() {
        timer.interrupt();
//        stoped = true;
        System.out.println(&quot;stop&quot;);
    }

    public void pause() {
        suspended = true;
        System.out.println(&quot;pause&quot;);
    }

    public void resume() {
        suspended = false;
        if (!suspended) {
            synchronized (timer) {
                timer.notify();
                System.out.println(&quot;resume&quot;);
            }
        }
    }

    public void state() {
        System.out.print(&quot;status: &quot;);
        if (timer == null) {
            System.out.println(&quot;null&quot;);
        } else {            
            System.out.println(timer.getState());            
        }
    }

}
</code></pre>
<p>ç½‘é¡µå¦‚ä¸‹ï¼Œçº¿ç¨‹è¿‡ç¨‹ä¸­é¡ºä¾¿è¿˜å¯ä»¥ç›‘æ§çº¿ç¨‹çš„çŠ¶æ€</p>
<pre><code class="language-html">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

HelloWorld!

&lt;hr&gt;
Timer Test&lt;br&gt;

    &lt;a href=&quot;http://localhost:8080/Learning_zoom/xixi?act=start&quot;&gt;Start&lt;/a&gt;&lt;br&gt;
    &lt;a href=&quot;http://localhost:8080/Learning_zoom/xixi?act=stop&quot;&gt;Stop&lt;/a&gt;&lt;br&gt;
    &lt;a href=&quot;http://localhost:8080/Learning_zoom/xixi?act=pause&quot;&gt;Pause&lt;/a&gt;&lt;br&gt;
    &lt;a href=&quot;http://localhost:8080/Learning_zoom/xixi?act=resume&quot;&gt;Resume&lt;/a&gt;&lt;br&gt;
    &lt;a href=&quot;http://localhost:8080/Learning_zoom/xixi?act=state&quot;&gt;State&lt;/a&gt;&lt;br&gt;

&lt;hr&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­å¯¹äºæš‚åœçš„åšæ³•æœ‰ä¸‰ä¸ªå¤„ç†ï¼Œå› ä¸ºæœ‰45è¡Œçš„sleepä»£ç ï¼Œæ‰€ä»¥çº¿ç¨‹å¤§å¤šæ•°æ—¶å€™éƒ½æ˜¯å¤„äºsleepçŠ¶æ€ï¼Œè¿™æ—¶å€™ä½ æƒ³è¦ç”¨ä¸­æ–­æ ‡å¿—å»åœæ­¢çº¿ç¨‹æ˜¯æœ‰ç‚¹ä¸å¤ªå¯èƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨catchå—ä¸­å¯¹sleepä¸­æ–­é”™è¯¯çš„å¤„ç†è¿›è¡Œåœæ­¢çš„é€»è¾‘ï¼Œæ¯”å¦‚å¯ä»¥ç›´æ¥return</p>
<p>å¦‚æœæƒ³è¦çœ‹ä¸­æ–­æ ‡å¿—å»åœæ­¢çº¿ç¨‹çš„æ•ˆæœï¼Œå¯ä»¥æŠŠ45è¡Œçš„sleepæ³¨æ‰ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°ç”¨29-32è¡Œçš„é‚£ç§ä¸­æ–­æ ‡å¿—+breakçš„æ–¹å¼å»ä¸­æ–­äº†ï¼Œå½“ç„¶ä½ å¯èƒ½è¿˜ä¼šæ³¨æ„åˆ°è¿˜æœ‰ä¸€ä¸ªvolatileå˜é‡ï¼šstoped</p>
<p>ä½ å¯ä»¥æŠŠ84è¡Œçš„æ³¨é‡Šæ‰“å¼€ï¼Œè¿™æ ·å¯ä»¥ç”¨å’Œæš‚åœä¸€æ ·çš„æ€æƒ³å»åšä¸­æ–­ï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„</p>
<hr>
<p>å¥½äº†<strong>ç¬¬äºŒå</strong>å°±åˆ°è¿™å•¦ï¼Œç¥å…µåˆ©å™¨å·²ç»å‡†å¤‡å¥½å•¦ï¼å¼€å§‹ä¿®ç‚¼å†…åŠŸï¼</p>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
        <input id="searchtext" type="text" class="form-control" placeholder="keywords" autocomplete="off">
        <div class="input-group-append">
            <button id="searchbut" class="btn btn-dark" type="button">Search</button>
        </div>
    </div>

    <div id="bbt" class="myhide new_font">
        <a id="toc" style="display: none;" class="myhide" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="show/hide Toc">Toc</a>
        <a id="gohub" href="#" target="_blank" data-toggle="tooltip" data-placement="bottom" title="view this at github">unuse</a>
    </div>

    <div id="share_png_panel" class="myhide">
        <div id="share_curtain"></div>
        <div id="png_box"></div>
        <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>

</body>

</html>