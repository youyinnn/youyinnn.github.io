<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin">
    <title>blog | youyinnn</title>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/myjs/loadscripts.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/myjs/jump-1.3.js"></script>
    <link rel="bookmark" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/img/favicon.ico" />
    <link rel="icon" href="/img/favicon.ico" type="image/ico"/>
    <link rel="stylesheet" href="/mycss/style.css">

    <script src="/resources/resources.js"></script>
    <script src="/myjs/scriptlist.js"></script>
</head>

<body>

    <ol id="topbar" class="breadcrumb unselectable new_font">
        <p style="color:rgb(214, 214, 214); padding-right: 1rem;">
            <button id="egg" class="egg">ğŸš€</button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
        <li class="breadcrumb-item">
            <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="articlesbut" href="javaScript:void(0)" class="ah">-articles</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="scriptbut" href="javaScript:void(0)" class="ah">-scripts</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li>
        <li class="breadcrumb-item dropdown">
            <spen href="javaScript:void(0)" class="ah" role="button" id="friendlinkedbut" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-friends</spen>
            <div id="fldd" class="dropdown-menu" aria-labelledby="friendlinkedbut" style="border-radius: initial;"></div>
        </li>

        <div id="hb" data-toggle="tooltip" data-placement="bottom" title="show/hide TopBar">

        </div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
        <div id="homepage-center">
            <div id="slogan">
                <i id="wolf-logo" style="font-style: normal;" class="mr-4">ğŸŒ‘</i><span id="slogan-text"></span>
            </div>
            <div id="homepage-btn">
                <div id="showmore"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; About Me & This Blog</div>
                <div id="showhacknical"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Github Analysis</div>
                <div id="toarticles"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Tech Articles</div>
            </div>
        </div>
        <div id="ifwrapper" class="hacknical_hide">
            <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
        </div>
    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
        <div id="cates_tree_head">Article Categories</div>
        <div id="cates_tree_body"></div>
        <div id="blog_statistic_head">Blog Statistics</div>
        <table id="blog_statistic_body" class="myhide">
            <tbody>
                <tr>
                    <td style="text-align:right">Online:</td>
                    <td style="text-align:left" id="stat_running"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Article:</td>
                    <td style="text-align:left" id="stat_article_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Chars:</td>
                    <td style="text-align:left" id="stat_typein"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Categories:</td>
                    <td style="text-align:left" id="stat_cate_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Tags:</td>
                    <td style="text-align:left" id="stat_tag_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Last update:</td>
                    <td style="text-align:left" id="stat_last_update"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="docpanel" class="myhide new_font">
        <div id="articlesearch" class="input-group">
            <input id="articlesearchtext" type="text" class="form-control" autocomplete="off" placeholder="search with keywords (algolia)">
            <div id="searchprocessbar">
                <div id="spb-out" class="spb-outter-animate"></div>
                <div id="spb-in" class="spb-inner-animate"></div>
            </div>
            <div class="input-group-append">
                <button id="cleanbut" class="btn btn-light" type="button" title="clear search">cls</button>
                <button id="categories" class="btn btn-light" type="button">cates</button>
                <button id="tags" class="btn btn-light" type="button" title="all tags">tags</button>
                <button id="articlesearchbut" class="btn btn-light" type="button" title="search">sch</button>
            </div>
        </div>
        <div id="searchrscount" class="unselectable"></div>
        <div class="tgs myhide" id="all_cates">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All categories:</span>
            <br>
        </div>
        <div class="tgs myhide" id="all_tags">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All tags:</span>
            <br>
        </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
        <div id="block">
            <div id="percent" data-toggle="tooltip" data-placement="bottom" title="return to the top">0%</div>
        </div>
        <div id="sidetoc" class="unselectable markdown-body editormd-preview-container markdown-toc"></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
        <p><div class="saying mb-4"><div class="saying-quote saying-left-quote">â€œ</div><div class="saying-quote saying-right-quote">â€</div></p>
<p>EXEä»€ä¹ˆçš„ï¼Œçœ‹ç€å°±å¿ä¸ä½è¦åŒå‡»å®ƒï¼</p>
<p></div></p>

          <h3 id="e25a21eb">Introduction</h3><hr>
<p>é¦–å…ˆä»‹ç»ä¸€ä¸‹Electronæ‰“åŒ…åº”ç”¨çš„æ–¹å¼ï¼š</p>
<ul>
<li>æ‰“åŒ…æˆasaråˆ†å‘ï¼›è¿™ç§æ–¹å¼å¼Šç«¯å¾ˆå¤šè€Œä¸”ä¸å¥½æ“ä½œï¼Œ<a href="https://electronjs.org/docs/tutorial/application-packaging">è¯¦æƒ…è§</a>ã€‚</li>
<li>é‡æ„å®˜ç½‘æä¾›çš„äºŒè¿›åˆ¶releaseï¼Œè¿™ç§æ–¹å¼ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚</li>
<li>é€šè¿‡æ‰“åŒ…å·¥å…·ï¼š<ul>
<li><a href="https://github.com/electron-userland/electron-forge">electron-forge</a></li>
<li><a href="https://github.com/electron-userland/electron-builder">electron-builder</a></li>
<li><a href="https://github.com/electron-userland/electron-packager">electron-packager</a></li>
</ul>
</li>
<li>é‡ç¼–è¯‘æºç äºŒè¿›åˆ¶æ–‡ä»¶...</li>
</ul>
<p>ç”¨æ‰“åŒ…å·¥å…·è¿›è¡Œæ‰“åŒ…æ¯”è¾ƒå‚»ç“œå¼ï¼Œä¸¤å¹´å‰çš„æ—¶å€™ï¼Œæˆ‘ç”¨è¿‡packagerï¼Œä½†æ˜¯ç°åœ¨ä¸çŸ¥é“ä¸ºå•¥ä¸å¥½ä½¿äº†ï¼Œè€å¡ä½ï¼Œç„¶åæˆ‘è½¬è¯•builderã€‚</p>

          <h2 id="f4ce0d71">electron-packager</h2><p>æ ¹æ®é¡¹ç›®readmeçš„è¯´æ˜ï¼Œé¦–å…ˆå¾—å®‰è£…electron-packagerçš„æ¨¡å—ï¼š</p>
<pre><code class="language-shell">npm insatll electron-packager -g</code></pre>
<p>å¯¹è¿˜æ˜¯å…¨å±€å®‰è£… ä¸è¦æ€‚ã€‚</p>
<p>è¦æ‰“åŒ…ä½ çš„é¡¹ç›®ï¼Œä½ åªéœ€è¦è¿è¡Œä¸‹é¢æ ¼å¼çš„å‘½ä»¤ï¼š</p>
<pre><code class="language-shell">electron-packager &lt;sourcedir&gt; &lt;appname&gt; --platform=&lt;platform&gt; --arch=&lt;arch&gt; [optional flags...]</code></pre>
<p>é‡Œé¢çš„å‚æ•°å«ä¹‰æˆ‘ä»¬å¯ä»¥é€šè¿‡<a href="https://github.com/electron-userland/electron-packager/blob/master/usage.txt">txt</a>è¿›è¡Œç®€å•çš„å‚è€ƒï¼Œæˆ–è€…åœ¨<a href="https://github.com/electron-userland/electron-packager/blob/master/docs/api.md">md</a>è¿›è¡Œæ·±å…¥ç ”ç©¶ã€‚</p>
<p>æ¨èæ˜¯çœ‹mdçš„æ¯”è¾ƒæ¸…æ™°ä¸€ç‚¹</p>
<p>åœ¨ä¸Šç¯‡ä¸­ï¼Œæˆ‘ä»¬æ„é€ çš„helloworldçš„ç›®å½•ç»“æ„ä¸ºï¼š</p>
<pre><code>your-app/
â”œâ”€â”€ package.json
â”œâ”€â”€ main.js
â””â”€â”€ index.html</code></pre><p>åœ¨æˆ‘ä»¬çš„æ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬è¿è¡Œçš„æ˜¯è¿™æ ·çš„å‘½ä»¤ï¼š</p>
<pre><code class="language-shell">electron-packager . helloworldappname --out outputdir --electronVersion 1.7.9</code></pre>
<p>æˆ‘ä»¬åœ¨é¡¹ç›®ç›®å½•æ ¹ç›®å½•ä¸‹è¿è¡Œäº†è¿™ä¸ªå‘½ä»¤ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ª<code>.</code>ä»£è¡¨çš„<code>&lt;sourcedir&gt;</code>æ˜¯æœ¬ç›®å½•ï¼Œç„¶åæˆ‘ä»¬æŒ‡å®šäº†<code>&lt;appname&gt;</code>ä¸º<code>helloworldappname</code>ï¼Œç„¶åæˆ‘ä»¬æŒ‡å®šäº†<code>--out</code>è¡¨ç¤ºæ‰“åŒ…è¾“å‡ºçš„ç›®å½•ï¼Œæœ€åæŒ‡å®šäº†æˆ‘ä»¬ä½¿ç”¨çš„electronçš„ç‰ˆæœ¬å·ã€‚</p>
<p>æˆ‘æ²¡æœ‰æŒ‡å®š<code>--platform</code>å’Œ<code>--arch</code>æ˜¯å› ä¸ºè¿™ä¿©åœ¨é»˜è®¤çš„æƒ…å†µä¸‹æ˜¯é€‰å–æœ¬æœºå‚æ•°ï¼Œæ¯”å¦‚æˆ‘æ˜¯win32x64ã€‚</p>
<p>ä½†æ˜¯æ¯æ¬¡æ‰“åŒ…éƒ½è¦å†™è¿™å·¨é•¿çš„å‘½ä»¤ï¼Œç¡®å®æœ‰ç‚¹éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨npmçš„<code>run-script</code>åŠŸèƒ½å»å¿«é€Ÿçš„æ‰§è¡Œå†™å¥½çš„å‘½ä»¤ï¼š</p>
<p>npm<code>run-script</code>æ˜¯é»˜è®¤è¿è¡Œå½“å‰ç›®å½•ä¸‹<code>package.json</code>æ–‡ä»¶ä¸­scriptå®šä¹‰å¥½çš„å‘½ä»¤ï¼Œå…·ä½“çš„åº”ç”¨è‡ªå·±å»å­¦npmç›¸å…³çŸ¥è¯†ï¼Œæˆ‘åœ¨é¡¹ç›®çš„<code>package.json</code>æ–‡ä»¶ä¸­å†™å¥½ï¼š</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;helloworld&quot;,
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;scripts&quot;:{
    &quot;start&quot; : &quot;electron .&quot;,
    &quot;pk&quot;: &quot;electron-packager . helloworldappname --out=outputdir --electronVersion=1.7.9&quot;
  }
}</code></pre>
<p>ç„¶ååœ¨æ ¹ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="language-shell">npm run-script pk</code></pre>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-shell">youyinnn@DESKTOP-7KE7UCG MINGW64 /d/Users/bigyellow/electron/helloworld
$ ll
total 6
-rw-r--r-- 1 youyinnn 197609  391 11æœˆ 22 22:00 index.html
-rw-r--r-- 1 youyinnn 197609 1750 11æœˆ 22 22:00 main.js
-rw-r--r-- 1 youyinnn 197609  211 11æœˆ 23 16:04 package.json

youyinnn@DESKTOP-7KE7UCG MINGW64 /d/Users/bigyellow/electron/helloworld
$ npm run-script pk

&gt; helloworld@0.1.0 pk D:\Users\bigyellow\electron\helloworld
&gt; electron-packager . helloworldappname --out=outputdir --electronVersion=1.7.9

Packaging app for platform win32 x64 using electron v1.7.9
Wrote new app to outputdir\helloworldappname-win32-x64

youyinnn@DESKTOP-7KE7UCG MINGW64 /d/Users/bigyellow/electron/helloworld
$ ll
total 6
-rw-r--r-- 1 youyinnn 197609  391 11æœˆ 22 22:00 index.html
-rw-r--r-- 1 youyinnn 197609 1750 11æœˆ 22 22:00 main.js
drwxr-xr-x 1 youyinnn 197609    0 11æœˆ 23 16:05 outputdir/
-rw-r--r-- 1 youyinnn 197609  211 11æœˆ 23 16:04 package.json

youyinnn@DESKTOP-7KE7UCG MINGW64 /d/Users/bigyellow/electron/helloworld
$</code></pre>
<p>ç„¶åé¡¹ç›®ç›®å½•ä¸‹ä¼šç”Ÿæˆï¼š<br>
        <div class="_showpic_8f3564f4 showpicbtn">Loading images >></div>
        <img href=https://image.youyinnn.top/ba4fa76eb64909e4d4959799cf130547.png class="_pic_8f3564f4 hidepic" picId="8f3564f4"></img>
        <script>
            {
                let imgself8f3564f4s = document.getElementsByClassName('_pic_8f3564f4')
                let showpicbtn8f3564f4s = document.getElementsByClassName('_showpic_8f3564f4')
                let isInViewPortOfTwo8f3564f4 = function () {
                    const viewPortHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight 
                    const top = imgself8f3564f4s[0].getBoundingClientRect() && imgself8f3564f4s[0].getBoundingClientRect().top
                    if (top  <= viewPortHeight + 300) {
                        for (el of imgself8f3564f4s) {
                            el.src = el.getAttribute('href')
                            el.classList.add('showpic')
                            window.removeEventListener('scroll', isInViewPortOfTwo8f3564f4)
                            isInViewPortOfTwo8f3564f4 = null
                        }
                        for (el of showpicbtn8f3564f4s) {
                            el.style.display = 'none'
                        }
                    }
                }
                window.addEventListener('scroll', isInViewPortOfTwo8f3564f4)
            }
        </script>
    </p>
<p>è¿è¡Œexeï¼š<br>
        <div class="_showpic_8dd6b1ea showpicbtn">Loading images >></div>
        <img href=https://image.youyinnn.top/6420ae86e552fa8e6e1b0f7282f28ca4.png class="_pic_8dd6b1ea hidepic" picId="8dd6b1ea"></img>
        <script>
            {
                let imgself8dd6b1eas = document.getElementsByClassName('_pic_8dd6b1ea')
                let showpicbtn8dd6b1eas = document.getElementsByClassName('_showpic_8dd6b1ea')
                let isInViewPortOfTwo8dd6b1ea = function () {
                    const viewPortHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight 
                    const top = imgself8dd6b1eas[0].getBoundingClientRect() && imgself8dd6b1eas[0].getBoundingClientRect().top
                    if (top  <= viewPortHeight + 300) {
                        for (el of imgself8dd6b1eas) {
                            el.src = el.getAttribute('href')
                            el.classList.add('showpic')
                            window.removeEventListener('scroll', isInViewPortOfTwo8dd6b1ea)
                            isInViewPortOfTwo8dd6b1ea = null
                        }
                        for (el of showpicbtn8dd6b1eas) {
                            el.style.display = 'none'
                        }
                    }
                }
                window.addEventListener('scroll', isInViewPortOfTwo8dd6b1ea)
            }
        </script>
    </p>
<hr>
<p>è‡³æ­¤æˆ‘ä»¬çš„HelloWorldçš„æ‰“åŒ…å°±å®Œæˆäº†ï¼Œå¯ä»¥å‘ç°è™½ç„¶æˆ‘ä»¬åªæ˜¯ä¸€ä¸ªç®€å•çš„htmlï¼Œä½†æ˜¯æ•´ä¸ªåŒ…çš„å¤§å°å´æœ‰131Mï¼Œè¿™æ˜¯å› ä¸ºå®ƒè¿˜åŒ…å«äº†chromeå¾®å¼•æ“å’Œå…¶ä»–çš„ç¯å¢ƒæ–‡ä»¶ã€‚</p>
<p><em>å‚è€ƒï¼š<a href="https://electronjs.org/docs/tutorial/application-distribution">https://electronjs.org/docs/tutorial/application-distribution</a></em><br><em>å‚è€ƒï¼š<a href="https://github.com/electron-userland/electron-packager/blob/master/docs/api.md">https://github.com/electron-userland/electron-packager/blob/master/docs/api.md</a></em><br><em>å‚è€ƒï¼š<a href="http://blog.csdn.net/a1170201028/article/details/59108126">http://blog.csdn.net/a1170201028/article/details/59108126</a></em></p>

          <h2 id="ec63c0a5">electron-builder</h2><ol>
<li><p>Specify the standard fields in the application <code>package.json</code> â€” <a href="https://www.electron.build/configuration/configuration#Metadata-name">name</a>, <code>description</code>, <code>version</code> and <a href="https://docs.npmjs.com/files/package.json#people-fields-author-contributors">author</a>.</p>
</li>
<li><p>Specify the <a href="https://www.electron.build/configuration/configuration#configuration">build</a> configuration in the <code>package.json</code> as follows:</p>
<pre><code>&quot;build&quot;: {
  &quot;appId&quot;: &quot;your.id&quot;,
  &quot;mac&quot;: {
    &quot;category&quot;: &quot;your.app.category.type&quot;
  }
}</code></pre><p>See <a href="https://www.electron.build/configuration/configuration#configuration">all options</a>. Option <a href="https://www.electron.build/configuration/contents#files">files</a> to indicate which files should be packed in the final application, including the entry file, maybe required.</p>
</li>
<li><p>Add <a href="https://www.electron.build/icons">icons</a>.</p>
</li>
<li><p>Add the <a href="https://docs.npmjs.com/cli/run-script">scripts</a> key to the development <code>package.json</code>:</p>
<pre><code>&quot;scripts&quot;: {
  &quot;pack&quot;: &quot;electron-builder --dir&quot;,
  &quot;dist&quot;: &quot;electron-builder&quot;
}</code></pre><p>Then you can run<code>yarn dist</code>(to package in a distributable format (e.g. dmg, windows installer, deb package)) or<code>yarn pack</code>(only generates the package directory without really packaging it. This is useful for testing purposes).</p>
<p>To ensure your native dependencies are always matched electron version, simply add script <code>&quot;postinstall&quot;: &quot;electron-builder install-app-deps&quot;</code> to your <code>package.json</code>.</p>
</li>
<li><p>If you have native addons of your own that are part of the application (not as a dependency), set <a href="https://www.electron.build/configuration/configuration#Configuration-nodeGypRebuild">nodeGypRebuild</a> to <code>true</code>.</p>
</li>
</ol>
<p>Please note that everything is packaged into an asar archive <a href="https://www.electron.build/configuration/configuration#Configuration-asar">by default</a>.</p>
<p>For an app that will be shipped to production, you should sign your application. See <a href="https://www.electron.build/code-signing#where-to-buy-code-signing-certificate">Where to buy code signing certificates</a>.</p>
<p>è¿™ä¸ªbuildçš„æ—¶å€™ä¹Ÿéœ€è¦ä¸‹è½½ä¸€äº›ä¸œè¥¿ï¼Œæºå¯èƒ½ä¹Ÿè¢«å¢™äº†ï¼Œæ‰€ä»¥åªæœ‰ç§‘å­¦ä¸Šç½‘äº†ã€‚</p>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
        <input id="searchtext" type="text" class="form-control" placeholder="keywords" autocomplete="off">
        <div class="input-group-append">
            <button id="searchbut" class="btn btn-dark" type="button">Search</button>
        </div>
    </div>

    <div id="bbt" class="myhide new_font">
        <a id="toc" style="display: none;" class="myhide" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="show/hide Toc">Toc</a>
        <a id="gohub" href="#" target="_blank" data-toggle="tooltip" data-placement="bottom" title="view this at github">unuse</a>
    </div>

    <div id="share_png_panel" class="myhide">
        <div id="share_curtain"></div>
        <div id="png_box"></div>
        <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>

</body>

</html>