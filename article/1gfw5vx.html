<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin" />
    <title>blog | youyinnn</title>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/myjs/loadscripts.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/myjs/jump-1.4.js"></script> -->
    <link
      rel="bookmark"
      href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@latest/img/favicon.ico"
    />
    <link rel="icon" href="/img/favicon.ico" type="image/ico" />
    <link rel="stylesheet" href="/mycss/style.css" />

    <script src="/myjs/scriptlist.js"></script>
  </head>

  <body>
    <ol id="topbar" class="breadcrumb unselectable new_font">
      <p style="color: rgb(214, 214, 214); padding-right: 1rem">
        <button id="egg" class="egg">ğŸš€</button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;
      </p>
      <li class="breadcrumb-item">
        <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
      </li>
      <li class="breadcrumb-item">
        <spen id="articlesbut" href="javaScript:void(0)" class="ah"
          >-articles</spen
        >
      </li>
      <li class="breadcrumb-item">
        <spen id="scriptbut" href="javaScript:void(0)" class="ah"
          >-scripts</spen
        >
      </li>
      <li class="breadcrumb-item">
        <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
      </li>
      <!-- <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li> -->
      <li class="breadcrumb-item dropdown">
        <spen
          href="javaScript:void(0)"
          class="ah"
          role="button"
          id="friendlinkedbut"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
          >-friends</spen
        >
        <div
          id="fldd"
          class="dropdown-menu"
          aria-labelledby="friendlinkedbut"
          style="border-radius: initial"
        ></div>
      </li>

      <div
        id="hb"
        data-toggle="tooltip"
        data-placement="bottom"
        title="show/hide TopBar"
      ></div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
      <div id="homepage-center">
        <div id="slogan">
          <i id="wolf-logo" style="font-style: normal" class="mr-4">ğŸŒ‘</i
          ><span id="slogan-text"></span>
        </div>
        <div id="homepage-btn">
          <div id="showmore">
            &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; About Me & This
            Blog
          </div>
          <div id="showhacknical">
            &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Github
            Analysis
          </div>
          <div id="toarticles">
            &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Tech
            Articles
          </div>
        </div>
      </div>
      <div id="ifwrapper" class="hacknical_hide">
        <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
      </div>
    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
      <div id="cates_tree_head">Article Categories</div>
      <div id="cates_tree_body"></div>
      <div id="blog_statistic_head">Blog Statistics</div>
      <table id="blog_statistic_body" class="myhide">
        <tbody>
          <tr>
            <td style="text-align: right">Online:</td>
            <td style="text-align: left" id="stat_running"></td>
          </tr>
          <tr>
            <td style="text-align: right">Article:</td>
            <td style="text-align: left" id="stat_article_count"></td>
          </tr>
          <tr>
            <td style="text-align: right">Chars:</td>
            <td style="text-align: left" id="stat_typein"></td>
          </tr>
          <tr>
            <td style="text-align: right">Categories:</td>
            <td style="text-align: left" id="stat_cate_count"></td>
          </tr>
          <tr>
            <td style="text-align: right">Tags:</td>
            <td style="text-align: left" id="stat_tag_count"></td>
          </tr>
          <tr>
            <td style="text-align: right">Last update:</td>
            <td style="text-align: left" id="stat_last_update"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div id="docpanel" class="myhide new_font">
      <div id="articlesearch" class="input-group">
        <input
          id="articlesearchtext"
          type="text"
          class="form-control"
          autocomplete="off"
          placeholder="search with keywords (algolia)"
        />
        <div id="searchprocessbar">
          <div id="spb-out" class="spb-outter-animate"></div>
          <div id="spb-in" class="spb-inner-animate"></div>
        </div>
        <div class="input-group-append">
          <button
            id="cleanbut"
            class="btn btn-light"
            type="button"
            title="clear search"
          >
            cls
          </button>
          <button id="categories" class="btn btn-light" type="button">
            cates
          </button>
          <button
            id="tags"
            class="btn btn-light"
            type="button"
            title="all tags"
          >
            tags
          </button>
          <button
            id="articlesearchbut"
            class="btn btn-light"
            type="button"
            title="search"
          >
            sch
          </button>
        </div>
      </div>
      <div id="searchrscount" class="unselectable"></div>
      <div class="tgs myhide" id="all_cates">
        <span style="font-size: 1rem; font-weight: bold; padding: 6px"
          >All categories:</span
        >
        <br />
      </div>
      <div class="tgs myhide" id="all_tags">
        <span style="font-size: 1rem; font-weight: bold; padding: 6px"
          >All tags:</span
        >
        <br />
      </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
      <div id="block">
        <div
          id="percent"
          data-toggle="tooltip"
          data-placement="bottom"
          title="return to the top"
        >
          0%
        </div>
      </div>
      <div
        id="sidetoc"
        class="
          unselectable
          markdown-body
          editormd-preview-container
          markdown-toc
        "
      ></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
      
          <h4 id="62aa6e0c">å‰è¨€</h4><p>æœ€è¿‘åœ¨å¤ä¹ <strong>æ•°æ®ç»“æ„</strong>å’Œ<strong>ç®—æ³•</strong>ï¼Œè¿™ä¸¤ä¸ªç©æ„ä¹Ÿæ˜¯è¢«ç§°ä¹‹ä¸º<strong>â€œç¨‹åºå‘˜çš„åŸºæœ¬ç´ å…»â€</strong>ï¼Œæˆ‘æœ€è¿‘æ¯”è¾ƒæƒ³å¹²çš„ä¸€ä»¶äº‹å°±æ˜¯è¯»é›†åˆæ¡†æ¶çš„æºç </p>
<p>åŸºäºè¿™ä¸ªä¼Ÿå¤§ç›®æ ‡ï¼Œæˆ‘å¼€å¯äº†æºç é˜…è¯»çš„<strong>â€œä»å¤´åˆ°å°¾è¯»â€</strong>ç³»åˆ—ï¼Œç›®å‰åªå®Œæˆäº†<strong>Collectionæ¥å£ã€Iterableæ¥å£ã€Iteratoræ¥å£</strong>è¿™ä¸‰ä¸ªç« èŠ‚ï¼Œæ­£æ‰“ç®—å¼€å§‹è¯»<strong>ArrayList</strong>çš„æºç </p>
<p>ä¸ºä»€ä¹ˆæƒ³è¦å†™è‡ªå®ç°çš„ArrayListï¼Œä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†é…åˆArrayListçš„æºç é˜…è¯»</p>
<p>å¤§äºŒçš„æ—¶å€™ä¹Ÿå­¦è¿‡æ•°æ®ç»“æ„è¿™é—¨è¯¾ï¼Œä¹Ÿç”¨Javaå®ç°è¿‡ç®€å•çš„ArrayListå’Œå…¶ä»–å¸¸è§çš„ç»“æ„ï¼Œä½†æ˜¯è¿™æ¬¡çš„è‡ªå®ç°ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯<strong>å¾€JDKæºç ä¸Šé¢é æ‹¢</strong>ï¼Œæ„åœ¨å­¦ä¹ å¤§å¸ˆçº§çš„<strong>è®¾è®¡æ‰‹æ³•ä»¥åŠç²¾å¦™çš„ç®—æ³•</strong></p>
<p>è¯ä¸å¤šè¯´ï¼Œå¼€æ</p>

          <h4 id="fcbdf930">çƒ­èº«</h4><p>åœ¨æ­¤ä¹‹å‰è¿˜æ²¡å¼€å§‹é˜…è¯»<code>ArrayList</code>ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç¨ç¨ç¥ä¸€çœ¼å®ƒçš„ç±»å¤´ï¼Œ</p>
<pre><code class="language-java">public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;
        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable
{
    //...
}</code></pre>
<p>è¿™é‡Œé¢é‡è¦çš„å†…å®¹é¦–å…ˆæˆ‘ä»¬å°±ç›¯ç€<code>AbstractList</code>è¿™ä¸ªæŠ½è±¡ç±»ï¼Œä¸€ç›´å¾€æ·±äº†æ‘¸ï¼Œæ‘¸åˆ°äº†<code>Collection</code>è¿™ä¸ªæ¥å£ï¼Œè¿™ä¸ªæ¥å£ç»§æ‰¿äº†<code>Iterable</code>æ¥å£ï¼Œæ¬¸~æ‘¸åˆ°å®äº†ï¼Œæˆ‘ä»¬æ‹¿è¿™ä¸ªç©æ„å»å¼€å±•æˆ‘ä»¬çš„<strong>è‡ªå®ç°ç±»</strong>ï¼Œä¸ºä»€ä¹ˆå…¶ä»–çš„æŠ½è±¡ç±»ã€å…¶ä»–çš„æ¥å£ä¸ç”¨ç®¡å‘¢ï¼Ÿ</p>
<p>åœ¨æˆ‘çœ‹æ¥ï¼Œ<strong>æ— è®ºæ˜¯Collectionã€Listè¿™ç±»çš„æ¥å£ï¼Œè¿˜æ˜¯AbstractListã€AbstractCollectionè¿™äº›æŠ½è±¡ç±»</strong>å®ƒä»¬ä»…æ˜¯æä¾›ä¸€ä¸ª<strong>æ¥å£è§„èŒƒä»¥åŠä¸€å®šçš„å®ç°</strong>ï¼ŒçœŸæ­£æœ‰æ„æ€çš„ä¸œè¥¿ï¼Œè¿˜å¾—æ˜¯<strong>è¿­ä»£å™¨</strong>è¿™ä¸ªåˆ©å™¨ï¼</p>
<p>äºæ˜¯é©¬ä¸Šå†™å¥½è‡ªå®ç°çš„ç±»å¤´ï¼ŒåŠ ä¸Šæ³›å‹å°±ä¸ç”¨è¯´äº†</p>
<pre><code class="language-java">public class MyArrayList&lt;E&gt; implements Iterable&lt;E&gt;{

    @Override
    public Iterator&lt;E&gt; iterator() {
        return null;
    }

    @Override
    public void forEach(Consumer&lt;? super E&gt; action) {

    }

    @Override
    public Spliterator&lt;E&gt; spliterator() {
        return null;
    }
}</code></pre>
<p>è¿™é‡Œé¢é™¤äº†<code>Iterator()</code>æ–¹æ³•ä¹‹å¤–ï¼Œå¦å¤–ä¸¤ä¸ªæ–¹æ³•ä¸å¤ªç†Ÿï¼Œä½†é¦–å…ˆæˆ‘ä»¬ä¿è¯å¥½ä¸€ä¸ªå®¹å™¨ç»“æ„åº”æœ‰çš„å‡ ä¸ªåŸºæœ¬æ¥å£ï¼š</p>
<ul>
<li><strong>get(int index)</strong></li>
<li><strong>int size()</strong></li>
<li><strong>E remove(int index)</strong></li>
<li><strong>void add(E element)</strong></li>
<li><strong>void add(int index, E element)</strong></li>
<li><strong>boolean contains(int index)</strong></li>
<li><strong>int indexOf(E element)</strong></li>
</ul>
<p>é‡Œé¢æ³¨æ„çš„å‡ ä¸ªç‚¹ï¼š</p>
<ul>
<li>å‡¡æ˜¯ç‰µæ‰¯åˆ°<strong>ç´¢å¼•æ“ä½œ</strong>çš„ï¼Œéƒ½éœ€è¦<strong>åˆ¤æ–­indexæ˜¯å¦åˆæ³•</strong>ï¼Œæ¯”å¦‚æ˜¯è´Ÿæ•°æˆ–è€…è¶…è¿‡ç•Œé™äº†</li>
<li>addæ–¹æ³•çš„<strong>æ‰©å®¹é—®é¢˜</strong></li>
</ul>
<p>å‡†å¤‡å°±ç»ªï¼Œå’”å’”å’”å°±å†™ä¸‹åå‡ è¡Œä»£ç ï¼š</p>
<pre><code class="language-java">private final int DEFAULT_CAPACTTY = 10;
private int size = 0;
private E[] array;

MyArrayList() {
    array = (E[]) new Object[DEFAULT_CAPACTTY];
}

MyArrayList(int capacity) {
    array = (E[]) new Object[capacity];
}

public int size() {
    return size;
}
public E get(int index) {
    E element = null;
    if (index &lt;= endIndex()) {
        element = array[index];
    }
    return element;
}
public boolean contains(E target) {
    if (target != null) {
        for (E e : this) {
            if (e.equals(target)) {
                return true;
            }
        }
    }
    return false;
}

public int indexOf(E element) {
    if (element != null) {
        for (int i = 0; i &lt; size; i++) {
            if (element.equals(array[i])) {
                return i;
            }
        }
    }
    return -1;
}</code></pre>
<p>è¿™äº›å°±ä¸è§£é‡Šäº†ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘è¿˜å†™äº†ä¸€ä¸ªè·å–æœ«å°¾å…ƒç´ ä¸‹æ ‡å€¼çš„æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯åŸºæœ¬çš„</p>
<pre><code class="language-java">private int endIndex() {
    return size - 1;
}</code></pre>

          <h5 id="a2009b1f">remove</h5><pre><code class="language-java">public E remove(int index) {
    E element;
    if (index &gt;= 0 &amp;&amp; index &lt;= endIndex()) {
        element = array[index];
        if (index &lt; endIndex()) {
            System.arraycopy(array, index + 1, array, index, endIndex() - index);
        }
        size--;
        return element;
    } else {
        throw new ArrayIndexOutOfBoundsException(&quot;index:&quot; + index);
    }
}    </code></pre>
<p>åŸºæœ¬æ€è·¯ï¼Œå¦‚æœindexåœ¨å¯å–èŒƒå›´å†…ï¼Œåˆ™å¯ä»¥removeï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸</p>
<p>åœ¨å¯å–èŒƒå›´å†…ï¼Œå¦‚æœindexä¸æ˜¯æœ€åä¸€ä¸ªçš„è¯ï¼Œé‚£ä¹ˆç§»é™¤è¯¥å…ƒç´ å°±å¾—ï¼š</p>
<ul>
<li><strong>indexä½ä¹‹åçš„å…ƒç´ å¾€å‰ç§»ä¸€ä½</strong></li>
<li><strong>size--</strong></li>
</ul>
<p>å¦åˆ™åªè¿›è¡Œ<code>size--</code></p>

          <h5 id="ba224606">add</h5><pre><code class="language-java">public void add(E element) {
    add(size, element);
}

public void add(int index, E element) {
    if (index &lt; 0) {
        throw new ArrayIndexOutOfBoundsException(&quot;index:&quot; + index);
    } else {
        // å¦‚æœæ’å…¥ä½ç½®ä¸ºå½“å‰æ•°ç»„å°¾éƒ¨æˆ–è€…æ›´åé¢ åˆ™ç»Ÿä¸€æ’åˆ°å°¾éƒ¨ä½ç½®
        adjustArray();
        if (index &lt; size) {
            System.arraycopy(array, index, array, index + 1, endIndex() - index);
        }
        array[index] = element;
        size++;
    }
}

public void adjustArray() {
    if (size == array.length) {
        E[] newArr = (E[]) new Object[array.length * 2];
        System.arraycopy(array, 0, newArr, 0, array.length);
        array = newArr;
    }
}</code></pre>
<p>å®ç°<code>add(int index, E element)</code>å’Œä¼ ç»Ÿçš„ä¸å¤ªä¸€æ ·ï¼Œæˆ‘çš„è¿™ä¸ªæ–¹æ³•æ›´å…·ä½“ä¸€äº›ï¼Œæˆ‘ä»¬æŠŠæ‰©å®¹çš„äº‹æƒ…æŠ½è±¡æˆä¸€ä¸ª<code>adjustArray</code>æ–¹æ³•ï¼Œå¦‚æœè¦æ’å…¥çš„ä½ç½®åœ¨å½“å‰åˆ—è¡¨çš„ä¸­é—´ï¼Œæˆ‘ä»¬å°†æ•°ç»„ä»è¦æ’å…¥çš„ä½ç½®å¼€å§‹å¾€åç§»ä¸€ä½</p>

          <h5 id="6b78cb6c">Iterator</h5><p>æ¯ä¸ªé›†åˆçš„<strong>Iterator</strong>çš„å®ç°å’Œå„è‡ªé›†åˆçš„ç‰¹ç‚¹æœ‰å…³ï¼Œæ‰€ä»¥<strong>Iterator</strong>ä¹Ÿéœ€è¦æˆ‘ä»¬è‡ªå·±å®ç°</p>
<pre><code class="language-java">private class MyArrayListIterator implements Iterator&lt;E&gt;{

    private int currentIndex = 0;

    @Override
    public boolean hasNext() {
        return currentIndex &lt; size;
    }

    @Override
    public E next() {
        return array[currentIndex++];
    }

    @Override
    public void remove() {
        MyArrayList.this.remove(--currentIndex);
    }

    @Override
    public void forEachRemaining(Consumer&lt;? super E&gt; action) {
        MyArrayList.this.forEach(action);
    }
}</code></pre>
<p>è¿™æ˜¯æˆ‘ä»¬å†™åœ¨<strong>MyArrayList</strong>ç±»ä¸­çš„å†…éƒ¨ç±»ï¼Œç”±äºæ˜¯åŸºäºæ•°ç»„çš„å®ç°ï¼Œ<strong>ä¸‰å¤§è¿­ä»£å™¨æ–¹æ³•</strong>ä¹Ÿå¾ˆç®€å•å°±å®ç°äº†ï¼Œæˆ‘ä»¬å†™å®Œä¹‹åï¼Œ<strong>Iterable</strong>æ–¹æ³•å°±å¯ä»¥å†™ä¸¤ä¸ªäº†ï¼š</p>
<pre><code class="language-java">@Override
public Iterator&lt;E&gt; iterator() {
    return new MyArrayListIterator();
}

@Override
public void forEach(Consumer&lt;? super E&gt; action) {
    if (action != null) {
        for (E e : this) {
            action.accept(e);
        }
    }
}</code></pre>
<p>ç›®å‰ä¸ºæ­¢ï¼ˆ2018å¹´6æœˆ5æ—¥-08ç‚¹55åˆ†ï¼‰<a href="https://github.com/youyinnn/Algorithm_zoom/blob/a853c7bfa875ad032e4638562f5ae5d5a5483b79/src/main/java/datasrtuct/list/MyArrayList.java">ä»£ç å¿«ç…§</a>ï¼Œæˆ‘ä»¬çš„è‡ªå®ç°ç®—æ˜¯åŸºæœ¬è¾¾æ ‡äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥é˜…è¯»ArrayListçš„ç¯èŠ‚</p>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
      <input
        id="searchtext"
        type="text"
        class="form-control"
        placeholder="keywords"
        autocomplete="off"
      />
      <div class="input-group-append">
        <button id="searchbut" class="btn btn-dark" type="button">
          Search
        </button>
      </div>
    </div>

    <div id="bbt" class="myhide new_font">
      <a
        id="toc"
        style="display: none"
        class="myhide"
        href="javascript:void(0);"
        data-toggle="tooltip"
        data-placement="left"
        title="show/hide Toc"
        >Toc</a
      >
      <a
        id="gohub"
        href="#"
        target="_blank"
        data-toggle="tooltip"
        data-placement="bottom"
        title="view this at github"
        >unuse</a
      >
    </div>

    <div id="share_png_panel" class="myhide">
      <div id="share_curtain"></div>
      <div id="png_box"></div>
      <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>
  </body>
</html>
