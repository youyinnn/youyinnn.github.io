<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="baidu-site-verification" content="l09YSIpJQW" />
    <meta name="referrer" content="origin">
    <title>blog | youyinnn</title>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/myjs/loadscripts.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/myjs/jump-1.2.js"></script>
    <link rel="bookmark" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/youyinnn/youyinnn.github.io@master/img/favicon.ico" />
    <link rel="stylesheet" href="/mycss/style.css">

    <script src="/resources/resources.js"></script>
    <script src="/myjs/scriptlist.js"></script>
</head>

<body>

    <ol id="topbar" class="breadcrumb unselectable new_font">
        <p style="color:rgb(214, 214, 214); padding-right: 1rem;">
            <button id="egg" class="egg">ğŸš€</button>&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
        <li class="breadcrumb-item">
            <spen id="homebut" href="javaScript:void(0)" class="ah">-home</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="articlesbut" href="javaScript:void(0)" class="ah">-articles</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="scriptbut" href="javaScript:void(0)" class="ah">-scripts</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="todobut" href="javaScript:void(0)" class="ah">-todos</spen>
        </li>
        <li class="breadcrumb-item">
            <spen id="resumebut" href="javaScript:void(0)" class="ah">-resume</spen>
        </li>
        <li class="breadcrumb-item dropdown">
            <spen href="javaScript:void(0)" class="ah" role="button" id="friendlinkedbut" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-friends</spen>
            <div id="fldd" class="dropdown-menu" aria-labelledby="friendlinkedbut" style="border-radius: initial;"></div>
        </li>

        <div id="hb" data-toggle="tooltip" data-placement="bottom" title="show/hide TopBar">

        </div>
    </ol>

    <div id="homepage" class="unselectable new_font myhide">
        <div id="homepage-center">
            <div id="slogan">
                <i id="wolf-logo" style="font-style: normal;" class="mr-4">ğŸŒ‘</i><span id="slogan-text"></span>
            </div>
            <div id="homepage-btn">
                <div id="showmore"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; About Me & This Blog</div>
                <div id="showhacknical"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Github Analysis</div>
                <div id="toarticles"> &nbsp;&nbsp;&nbsp;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp; My Tech Articles</div>
            </div>
        </div>
        <div id="ifwrapper" class="hacknical_hide">
            <iframe id="hacknical_github_analysis" frameborder="0"></iframe>
        </div>
    </div>

    <div id="articles_side_panel" class="unselectable myhide new_font">
        <div id="cates_tree_head">Article Categories</div>
        <div id="cates_tree_body"></div>
        <div id="blog_statistic_head">Blog Statistics</div>
        <table id="blog_statistic_body" class="myhide">
            <tbody>
                <tr>
                    <td style="text-align:right">Online:</td>
                    <td style="text-align:left" id="stat_running"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Article:</td>
                    <td style="text-align:left" id="stat_article_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Chars:</td>
                    <td style="text-align:left" id="stat_typein"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Categories:</td>
                    <td style="text-align:left" id="stat_cate_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Tags:</td>
                    <td style="text-align:left" id="stat_tag_count"></td>
                </tr>
                <tr>
                    <td style="text-align:right">Last update:</td>
                    <td style="text-align:left" id="stat_last_update"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="docpanel" class="myhide new_font">
        <div id="articlesearch" class="input-group">
            <input id="articlesearchtext" type="text" class="form-control" autocomplete="off" placeholder="search">
            <div class="input-group-append">
                <button id="cleanbut" class="btn btn-light" type="button" title="clear search">cls</button>
                <button id="categories" class="btn btn-light" type="button">cates</button>
                <button id="tags" class="btn btn-light" type="button" title="all tags">tags</button>
                <button id="articlesearchbut" class="btn btn-light" type="button" title="search">sch</button>
            </div>
        </div>
        <div class="tgs myhide" id="all_cates">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All categories:</span>
            <br>
        </div>
        <div class="tgs myhide" id="all_tags">
            <span style="font-size: 1rem; font-weight: bold ; padding: 6px;">All tags:</span>
            <br>
        </div>
    </div>

    <div id="sidetoccontainer" class="tochide unselectable new_font">
        <div id="block">
            <div id="percent" data-toggle="tooltip" data-placement="bottom" title="return to the top">0%</div>
        </div>
        <div id="sidetoc" class="unselectable markdown-body editormd-preview-container markdown-toc"></div>
    </div>
    <div id="md" class="myhide markdown-body editormd-html-preview">
        <p><div class="saying mb-4"><div class="saying-quote saying-left-quote">â€œ</div><div class="saying-quote saying-right-quote">â€</div></p>
<p>Lookupsï¼šè®©ä½ çš„é…ç½®æ›´çµæ´»</p>
<p></div></p>
<!-- more -->


          <h3 id="c27cbcc9">
            <a name="_root-Lookups" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Lookups
          </h3><p>Lookupsä½¿å¾—æˆ‘ä»¬å¯ä»¥è‡ªç”±åœ°åœ¨Log4j2é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æŸäº›å€¼ï¼ˆä½¿ç”¨å ä½ç¬¦è®¾ç½®å˜é‡ï¼‰ï¼Œå®ƒä»¬æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„æ’ä»¶ï¼Œå¹¶ä¸”å®ç°äº†StrLookupæ¥å£ã€‚</p>

          <h4 id="2380b990">
            <a name="_root-ContextMap Lookup" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            ContextMap Lookup
          </h4><p>ContextMapLookupä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨Log4j2çš„ThreadContext Mapä¸­ä¿å­˜å€¼ï¼Œå¹¶åœ¨Log4j2çš„é…ç½®æ–‡ä»¶ä¸­å¯ä»¥å–å¾—å€¼ã€‚</p>
<p><strong>å¼•ç”¨æ–¹æ³•ï¼š<code>$${ctx:KEY}</code></strong></p>
<p>ä»£ç ä¸­å†™ï¼š</p>
<pre><code class="language-java">ThreadContext.put(&quot;aaa&quot;, &quot;bbb&quot;);</code></pre>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="language-xml">&lt;PatternLayout pattern=&quot;$${ctx:aaa} %d{HH:mm:ss.SSS} [%t] %-5level - %msg%n&quot; /&gt;</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="language-console">bbb  log4j2test.Main 19 15:20:07.859 [main] INFO  - info level</code></pre>

          <h4 id="183795a3">
            <a name="_root-Date Lookup" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Date Lookup
          </h4><p>DateLookUpè·Ÿå…¶å®ƒlookupsä¸å¤ªä¸€æ ·ï¼Œå®ƒå¹¶éæ ¹æ®ä¸€ä¸ªå…³é”®å­—å˜é‡å»è·å–ä¸€ä¸ªå€¼çš„ï¼Œä½†å®ƒå¯ä»¥åˆ©ç”¨å…³é”®å­—æ¥æŒ‡å®šä¸€ç§æ ¼å¼ï¼Œä¸”ä¸ºSimpleDateFormatåˆæ³•çš„æ ¼å¼ã€‚ä»¥ä¸‹ç¤ºä¾‹è¡¨ç¤ºå½“å‰æ—¥å¿—äº‹ä»¶äº§ç”Ÿçš„æ—¶é—´ï¼š</p>
<p><strong>å¼•ç”¨æ–¹æ³•ï¼š<code>$${date:SimpleDateFormat}</code></strong></p>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="language-xml">&lt;PatternLayout pattern=&quot;$${ctx:aaa} $${date:HH:mm:ss.SSS} [%t] %-5level - %msg%n&quot; /&gt;</code></pre>

          <h4 id="2dc4883e">
            <a name="_root-Environment Lookup" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Environment Lookup
          </h4><p>è¾“å‡ºç³»ç»Ÿä¸­çš„ç¯å¢ƒå˜é‡ï¼Œæ— è®ºæ˜¯å…¨å±€å˜é‡æ–‡ä»¶<code>/etc/profile</code>ä¸­çš„ï¼Œè¿˜æ˜¯è¿è¡Œæ—¶å®šä¹‰çš„å˜é‡ã€‚</p>
<p><strong>å¼•ç”¨æ–¹æ³•ï¼š<code>$${env:KEY}</code></strong></p>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="language-xml">&lt;PatternLayout pattern=&quot;$${env:USER} [%t] %-5level - %msg%n&quot; /&gt;</code></pre>

          <h4 id="a81fc78c">
            <a name="_root-Java Lookup" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            Java Lookup
          </h4><p>è¾“å‡ºä¸€äº›JVMä¿¡æ¯ï¼š</p>
<ul>
<li>versionï¼šJavaç‰ˆæœ¬</li>
<li>rentimeï¼šJavaè¿è¡Œæ—¶ç‰ˆæœ¬ä¿¡æ¯</li>
<li>vmï¼šè™šæ‹Ÿæœºç‰ˆæœ¬</li>
<li>osï¼šæ“ä½œç³»ç»Ÿç‰ˆæœ¬</li>
<li>localeï¼šä¸€äº›ç¡¬ä»¶ä¿¡æ¯å¦‚ï¼šdefault locale: en_US, platform encoding: Cp1252</li>
<li>hwï¼šä¸€äº›ç¡¬ä»¶ä¿¡æ¯å¦‚ï¼šprocessors: 4, architecture: amd64-64, instruction sets: amd64</li>
</ul>
<p><strong>å¼•ç”¨æ–¹æ³•ï¼š<code>$${java:KEY}</code></strong></p>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="language-xml">&lt;PatternLayout header=&quot;${java:runtime} - ${java:vm} - ${java:os}&quot;&gt;
  &lt;Pattern&gt;%d %m%n&lt;/Pattern&gt;
&lt;/PatternLayout&gt;</code></pre>

          <h4 id="c08cb4e2">
            <a name="_root-System Properties Lookup" class="reference-link" target="_blank">
              <span class="header-link"></span>
            </a>
            System Properties Lookup
          </h4><p>è·å–ç³»ç»Ÿå±æ€§çš„å€¼</p>
<p><strong>å¼•ç”¨æ–¹æ³•ï¼š<code>$${sys:KEY}</code></strong></p>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="language-xml">&lt;Appenders&gt;
  &lt;File name=&quot;ApplicationLog&quot; fileName=&quot;${sys:logPath}/app.log&quot;/&gt;
&lt;/Appenders&gt;</code></pre>

    </div>
    <div id="scriptsearcher" class="myhide input-group new_font">
        <input id="searchtext" type="text" class="form-control" placeholder="keywords" autocomplete="off">
        <div class="input-group-append">
            <button id="searchbut" class="btn btn-dark" type="button">Search</button>
        </div>
    </div>

    <div id="bbt" class="myhide new_font">
        <a id="toc" style="display: none;" class="myhide" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="show/hide Toc">Toc</a>
        <a id="gohub" href="#" target="_blank" data-toggle="tooltip" data-placement="bottom" title="view this at github">unuse</a>
    </div>

    <div id="share_png_panel" class="myhide">
        <div id="share_curtain"></div>
        <div id="png_box"></div>
        <button id="share_png_paned_close" class="btn btn-dark">Close</button>
    </div>

</body>

</html>